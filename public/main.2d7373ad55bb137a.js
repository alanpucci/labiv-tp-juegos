"use strict";var Kre=Object.defineProperty,Yre=Object.defineProperties,Qre=Object.getOwnPropertyDescriptors,b8=Object.getOwnPropertySymbols,Jre=Object.prototype.hasOwnProperty,Xre=Object.prototype.propertyIsEnumerable,w8=(nt,Te,U)=>Te in nt?Kre(nt,Te,{enumerable:!0,configurable:!0,writable:!0,value:U}):nt[Te]=U,E8=(nt,Te)=>{for(var U in Te||(Te={}))Jre.call(Te,U)&&w8(nt,U,Te[U]);if(b8)for(var U of b8(Te))Xre.call(Te,U)&&w8(nt,U,Te[U]);return nt},C8=(nt,Te)=>Yre(nt,Qre(Te));(self.webpackChunktp_labiv=self.webpackChunktp_labiv||[]).push([[179],{2011:(nt,Te,U)=>{U.d(Te,{Dh:()=>he,GT:()=>we,cc:()=>Oe,hO:()=>Ke,on:()=>K,pX:()=>ue,xv:()=>me});var d=U(5e3),se=U(127),V=U(5813);nt=U.hmd(nt);const ge=["ngOnDestroy"],ue=(Ae,Ye,et,ke={})=>new Proxy(Ae,{get:(Ie,Se)=>et.runOutsideAngular(()=>{var qe;if(Ae[Se])return(null===(qe=null==ke?void 0:ke.spy)||void 0===qe?void 0:qe.get)&&ke.spy.get(Se,Ae[Se]),Ae[Se];if(ge.indexOf(Se)>-1)return()=>{};const We=Ye.toPromise().then(W=>{const De=W&&W[Se];return"function"==typeof De?De.bind(W):De&&De.then?De.then(ee=>et.run(()=>ee)):et.run(()=>De)});return new Proxy(()=>{},{get:(W,De)=>We[De],apply:(W,De,ee)=>We.then(ce=>{var oe;const Ee=ce&&ce(...ee);return(null===(oe=null==ke?void 0:ke.spy)||void 0===oe?void 0:oe.apply)&&ke.spy.apply(Se,ee,Ee),Ee})})})}),we=(Ae,Ye)=>{Ye.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(ke=>{Object.defineProperty(Ae.prototype,ke,Object.getOwnPropertyDescriptor(et.prototype||et,ke))})})};class le{constructor(Ye){return Ye}}const he=new d.OlP("angularfire2.app.options"),me=new d.OlP("angularfire2.app.name");function K(Ae,Ye,et){const Ie="object"==typeof et&&et||{};Ie.name=Ie.name||"string"==typeof et&&et||"[DEFAULT]";const qe=se.Z.apps.filter(We=>We&&We.name===Ie.name)[0]||Ye.runOutsideAngular(()=>se.Z.initializeApp(Ae,Ie));try{JSON.stringify(Ae)!==JSON.stringify(qe.options)&&q("error",`${qe.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return new le(qe)}const q=(Ae,...Ye)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ae](...Ye)},ae={provide:le,useFactory:K,deps:[he,d.R0b,[new d.FiY,me]]};let Ke=(()=>{class Ae{constructor(et){se.Z.registerVersion("angularfire",V.q4.full,"core"),se.Z.registerVersion("angularfire",V.q4.full,"app-compat"),se.Z.registerVersion("angular",d.q4F.full,et.toString())}static initializeApp(et,ke){return{ngModule:Ae,providers:[{provide:he,useValue:et},{provide:me,useValue:ke}]}}}return Ae.\u0275fac=function(et){return new(et||Ae)(d.LFG(d.Lbi))},Ae.\u0275mod=d.oAB({type:Ae}),Ae.\u0275inj=d.cJS({providers:[ae]}),Ae})();function Oe(Ae,Ye,et,ke,Ie){const[,Se,qe]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===Ae)||[];if(Se)return function Ve(Ae,Ye){try{return Ae.toString()===Ye.toString()}catch(et){return Ae===Ye}}(Ie,qe)||(ye("error",`${Ye} was already initialized on the ${et} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Ie,was:qe})),Se;{const We=ke();return globalThis.\u0275AngularfireInstanceCache.push([Ae,We,Ie]),We}}const $e=!!nt.hot,ye=(Ae,...Ye)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ae](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nt,Te,U)=>{U.d(Te,{q4:()=>Su,iC:()=>cf,fc:()=>Ls,HU:()=>Mu,vb:()=>$y,JM:()=>sa});var d=U(5e3),se=U(5867),V=U(5861),ge=U(9681),ue=U(2090),we=U(4859),le=U(1877),he=U(8766);const me="@firebase/installations",K="0.5.9",ae=`w:${K}`,Ke="FIS_v2",Ye=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(D){return D instanceof ue.ZR&&D.code.includes("request-failed")}function ke({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ie(D){return{token:D.token,requestStatus:2,expiresIn:ce(D.expiresIn),creationTime:Date.now()}}function Se(D,x){return qe.apply(this,arguments)}function qe(){return(qe=(0,V.Z)(function*(D,x){const H=(yield x.json()).error;return Ye.create("request-failed",{requestName:D,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function We({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function W(D,{refreshToken:x}){const N=We(D);return N.append("Authorization",function oe(D){return`${Ke} ${D}`}(x)),N}function De(D){return ee.apply(this,arguments)}function ee(){return(ee=(0,V.Z)(function*(D){const x=yield D();return x.status>=500&&x.status<600?D():x})).apply(this,arguments)}function ce(D){return Number(D.replace("s","000"))}function Ee(D,x){return fe.apply(this,arguments)}function fe(){return(fe=(0,V.Z)(function*({appConfig:D,heartbeatServiceProvider:x},{fid:N}){const H=ke(D),ie=We(D),de=x.getImmediate({optional:!0});if(de){const At=yield de.getHeartbeatsHeader();At&&ie.append("x-firebase-client",At)}const st={method:"POST",headers:ie,body:JSON.stringify({fid:N,authVersion:Ke,appId:D.appId,sdkVersion:ae})},ut=yield De(()=>fetch(H,st));if(ut.ok){const At=yield ut.json();return{fid:At.fid||N,registrationStatus:2,refreshToken:At.refreshToken,authToken:Ie(At.authToken)}}throw yield Se("Create Installation",ut)})).apply(this,arguments)}function je(D){return new Promise(x=>{setTimeout(x,D)})}const Kt=/^[cdef][\w-]{21}$/;function Xe(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const N=function hn(D){return function yt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Kt.test(N)?N:""}catch(D){return""}}function Hn(D){return`${D.appName}!${D.appId}`}const gn=new Map;function on(D,x){const N=Hn(D);Gt(N,x),function ns(D,x){const N=function Ai(){return!_r&&"BroadcastChannel"in self&&(_r=new BroadcastChannel("[Firebase] FID Change"),_r.onmessage=D=>{Gt(D.data.key,D.data.fid)}),_r}();N&&N.postMessage({key:D,fid:x}),function Gi(){0===gn.size&&_r&&(_r.close(),_r=null)}()}(N,x)}function Gt(D,x){const N=gn.get(D);if(N)for(const H of N)H(x)}let _r=null;const nr="firebase-installations-store";let rs=null;function Tt(){return rs||(rs=(0,he.X3)("firebase-installations-database",1,{upgrade:(D,x)=>{0===x&&D.createObjectStore(nr)}})),rs}function yr(D,x){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,V.Z)(function*(D,x){const N=Hn(D),ie=(yield Tt()).transaction(nr,"readwrite"),de=ie.objectStore(nr),Be=yield de.get(N);return yield de.put(x,N),yield ie.done,(!Be||Be.fid!==x.fid)&&on(D,x.fid),x})).apply(this,arguments)}function zn(D){return oo.apply(this,arguments)}function oo(){return(oo=(0,V.Z)(function*(D){const x=Hn(D),H=(yield Tt()).transaction(nr,"readwrite");yield H.objectStore(nr).delete(x),yield H.done})).apply(this,arguments)}function ir(D,x){return hi.apply(this,arguments)}function hi(){return(hi=(0,V.Z)(function*(D,x){const N=Hn(D),ie=(yield Tt()).transaction(nr,"readwrite"),de=ie.objectStore(nr),Be=yield de.get(N),st=x(Be);return void 0===st?yield de.delete(N):yield de.put(st,N),yield ie.done,st&&(!Be||Be.fid!==st.fid)&&on(D,st.fid),st})).apply(this,arguments)}function Gn(D){return vr.apply(this,arguments)}function vr(){return(vr=(0,V.Z)(function*(D){let x;const N=yield ir(D.appConfig,H=>{const ie=Vo(H),de=Yt(D,ie);return x=de.registrationPromise,de.installationEntry});return""===N.fid?{installationEntry:yield x}:{installationEntry:N,registrationPromise:x}})).apply(this,arguments)}function Vo(D){return Bo(D||{fid:Xe(),registrationStatus:0})}function Yt(D,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Ye.create("app-offline"))};const N={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},H=function ht(D,x){return St.apply(this,arguments)}(D,N);return{installationEntry:N,registrationPromise:H}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:xi(D)}:{installationEntry:x}}function St(){return(St=(0,V.Z)(function*(D,x){try{const N=yield Ee(D,x);return yr(D.appConfig,N)}catch(N){throw et(N)&&409===N.customData.serverCode?yield zn(D.appConfig):yield yr(D.appConfig,{fid:x.fid,registrationStatus:0}),N}})).apply(this,arguments)}function xi(D){return br.apply(this,arguments)}function br(){return(br=(0,V.Z)(function*(D){let x=yield Wt(D.appConfig);for(;1===x.registrationStatus;)yield je(100),x=yield Wt(D.appConfig);if(0===x.registrationStatus){const{installationEntry:N,registrationPromise:H}=yield Gn(D);return H||N}return x})).apply(this,arguments)}function Wt(D){return ir(D,x=>{if(!x)throw Ye.create("installation-not-found");return Bo(x)})}function Bo(D){return function Mi(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function ki(D,x){return z.apply(this,arguments)}function z(){return(z=(0,V.Z)(function*({appConfig:D,heartbeatServiceProvider:x},N){const H=J(D,N),ie=W(D,N),de=x.getImmediate({optional:!0});if(de){const At=yield de.getHeartbeatsHeader();At&&ie.append("x-firebase-client",At)}const st={method:"POST",headers:ie,body:JSON.stringify({installation:{sdkVersion:ae,appId:D.appId}})},ut=yield De(()=>fetch(H,st));if(ut.ok)return Ie(yield ut.json());throw yield Se("Generate Auth Token",ut)})).apply(this,arguments)}function J(D,{fid:x}){return`${ke(D)}/${x}/authTokens:generate`}function X(D){return xe.apply(this,arguments)}function xe(){return(xe=(0,V.Z)(function*(D,x=!1){let N;const H=yield ir(D.appConfig,de=>{if(!kt(de))throw Ye.create("not-registered");const Be=de.authToken;if(!x&&En(Be))return de;if(1===Be.requestStatus)return N=Y(D,x),de;{if(!navigator.onLine)throw Ye.create("app-offline");const st=ni(de);return N=it(D,st),st}});return N?yield N:H.authToken})).apply(this,arguments)}function Y(D,x){return re.apply(this,arguments)}function re(){return(re=(0,V.Z)(function*(D,x){let N=yield Fe(D.appConfig);for(;1===N.authToken.requestStatus;)yield je(100),N=yield Fe(D.appConfig);const H=N.authToken;return 0===H.requestStatus?X(D,x):H})).apply(this,arguments)}function Fe(D){return ir(D,x=>{if(!kt(x))throw Ye.create("not-registered");return function $i(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function it(D,x){return Et.apply(this,arguments)}function Et(){return(Et=(0,V.Z)(function*(D,x){try{const N=yield ki(D,x),H=Object.assign(Object.assign({},x),{authToken:N});return yield yr(D.appConfig,H),N}catch(N){if(!et(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const H=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield yr(D.appConfig,H)}else yield zn(D.appConfig);throw N}})).apply(this,arguments)}function kt(D){return void 0!==D&&2===D.registrationStatus}function En(D){return 2===D.requestStatus&&!function xt(D){const x=Date.now();return x<D.creationTime||D.creationTime+D.expiresIn<x+36e5}(D)}function ni(D){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:x})}function dl(){return(dl=(0,V.Z)(function*(D){const x=D,{installationEntry:N,registrationPromise:H}=yield Gn(x);return H?H.catch(console.error):X(x).catch(console.error),N.fid})).apply(this,arguments)}function hl(){return(hl=(0,V.Z)(function*(D,x=!1){const N=D;return yield ii(N),(yield X(N,x)).token})).apply(this,arguments)}function ii(D){return qi.apply(this,arguments)}function qi(){return(qi=(0,V.Z)(function*(D){const{registrationPromise:x}=yield Gn(D);x&&(yield x)})).apply(this,arguments)}function Da(D){return Ye.create("missing-app-config-values",{valueName:D})}const sr="installations",mt=D=>{const x=D.getProvider("app").getImmediate(),N=function bi(D){if(!D||!D.options)throw Da("App Configuration");if(!D.name)throw Da("App Name");const x=["projectId","apiKey","appId"];for(const N of x)if(!D.options[N])throw Da(N);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(x);return{app:x,appConfig:N,heartbeatServiceProvider:(0,ge._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},mn=D=>{const x=D.getProvider("app").getImmediate(),N=(0,ge._getProvider)(x,sr).getImmediate();return{getId:()=>function Xl(D){return dl.apply(this,arguments)}(N),getToken:ie=>function eu(D){return hl.apply(this,arguments)}(N,ie)}};(function or(){(0,ge._registerComponent)(new we.wA(sr,mt,"PUBLIC")),(0,ge._registerComponent)(new we.wA("installations-internal",mn,"PRIVATE"))})(),(0,ge.registerVersion)(me,K),(0,ge.registerVersion)(me,K,"esm2017");const ss="@firebase/remote-config",$n=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ug{constructor(x,N,H,ie){this.client=x,this.storage=N,this.storageCache=H,this.logger=ie}isCachedDataFresh(x,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-N,ie=H<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${ie}.`),ie}fetch(x){var N=this;return(0,V.Z)(function*(){const[H,ie]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(ie&&N.isCachedDataFresh(x.cacheMaxAgeMillis,H))return ie;x.eTag=ie&&ie.eTag;const de=yield N.client.fetch(x),Be=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&Be.push(N.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(Be),de})()}}function gd(D=navigator){return D.languages&&D.languages[0]||D.language}class Pi{constructor(x,N,H,ie,de,Be){this.firebaseInstallations=x,this.sdkVersion=N,this.namespace=H,this.projectId=ie,this.apiKey=de,this.appId=Be}fetch(x){var N=this;return(0,V.Z)(function*(){const[H,ie]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,st={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},ut={sdk_version:N.sdkVersion,app_instance_id:H,app_instance_id_token:ie,app_id:N.appId,language_code:gd()},At={method:"POST",headers:st,body:JSON.stringify(ut)},tn=fetch(Be,At),Ot=new Promise((Tr,Vs)=>{x.signal.addEventListener(()=>{const Za=new Error("The operation was aborted.");Za.name="AbortError",Vs(Za)})});let gi;try{yield Promise.race([tn,Ot]),gi=yield tn}catch(Tr){let Vs="fetch-client-network";throw"AbortError"===Tr.name&&(Vs="fetch-timeout"),$n.create(Vs,{originalErrorMessage:Tr.message})}let Ci=gi.status;const qa=gi.headers.get("ETag")||void 0;let Wa,_s;if(200===gi.status){let Tr;try{Tr=yield gi.json()}catch(Vs){throw $n.create("fetch-client-parse",{originalErrorMessage:Vs.message})}Wa=Tr.entries,_s=Tr.state}if("INSTANCE_STATE_UNSPECIFIED"===_s?Ci=500:"NO_CHANGE"===_s?Ci=304:("NO_TEMPLATE"===_s||"EMPTY_CONFIG"===_s)&&(Wa={}),304!==Ci&&200!==Ci)throw $n.create("fetch-status",{httpStatus:Ci});return{status:Ci,eTag:qa,config:Wa}})()}}class Vg{constructor(x,N){this.client=x,this.storage=N}fetch(x){var N=this;return(0,V.Z)(function*(){const H=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(x,H)})()}attemptFetch(x,{throttleEndTimeMillis:N,backoffCount:H}){var ie=this;return(0,V.Z)(function*(){yield function co(D,x){return new Promise((N,H)=>{const ie=Math.max(x-Date.now(),0),de=setTimeout(N,ie);D.addEventListener(()=>{clearTimeout(de),H($n.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,N);try{const de=yield ie.client.fetch(x);return yield ie.storage.deleteThrottleMetadata(),de}catch(de){if(!function md(D){if(!(D instanceof ue.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(de))throw de;const Be={throttleEndTimeMillis:Date.now()+(0,ue.$s)(H),backoffCount:H+1};return yield ie.storage.setThrottleMetadata(Be),ie.attemptFetch(x,Be)}})()}}class _d{constructor(x,N,H,ie,de){this.app=x,this._client=N,this._storageCache=H,this._storage=ie,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sc(D,x){const N=D.target.error||void 0;return $n.create(x,{originalErrorMessage:N&&N.message})}const ho="app_namespace_store";class zg{constructor(x,N,H,ie=function Hg(){return new Promise((D,x)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=H=>{x(sc(H,"storage-open"))},N.onsuccess=H=>{D(H.target.result)},N.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(ho,{keyPath:"compositeKey"})}}catch(N){x($n.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=x,this.appName=N,this.namespace=H,this.openDbPromise=ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var N=this;return(0,V.Z)(function*(){const H=yield N.openDbPromise;return new Promise((ie,de)=>{const st=H.transaction([ho],"readonly").objectStore(ho),ut=N.createCompositeKey(x);try{const At=st.get(ut);At.onerror=tn=>{de(sc(tn,"storage-get"))},At.onsuccess=tn=>{const Ot=tn.target.result;ie(Ot?Ot.value:void 0)}}catch(At){de($n.create("storage-get",{originalErrorMessage:At&&At.message}))}})})()}set(x,N){var H=this;return(0,V.Z)(function*(){const ie=yield H.openDbPromise;return new Promise((de,Be)=>{const ut=ie.transaction([ho],"readwrite").objectStore(ho),At=H.createCompositeKey(x);try{const tn=ut.put({compositeKey:At,value:N});tn.onerror=Ot=>{Be(sc(Ot,"storage-set"))},tn.onsuccess=()=>{de()}}catch(tn){Be($n.create("storage-set",{originalErrorMessage:tn&&tn.message}))}})})()}delete(x){var N=this;return(0,V.Z)(function*(){const H=yield N.openDbPromise;return new Promise((ie,de)=>{const st=H.transaction([ho],"readwrite").objectStore(ho),ut=N.createCompositeKey(x);try{const At=st.delete(ut);At.onerror=tn=>{de(sc(tn,"storage-delete"))},At.onsuccess=()=>{ie()}}catch(At){de($n.create("storage-delete",{originalErrorMessage:At&&At.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class vd{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,V.Z)(function*(){const N=x.storage.getLastFetchStatus(),H=x.storage.getLastSuccessfulFetchTimestampMillis(),ie=x.storage.getActiveConfig(),de=yield N;de&&(x.lastFetchStatus=de);const Be=yield H;Be&&(x.lastSuccessfulFetchTimestampMillis=Be);const st=yield ie;st&&(x.activeConfig=st)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function su(){return bd.apply(this,arguments)}function bd(){return(bd=(0,V.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Aa(){(0,ge._registerComponent)(new we.wA("remote-config",function D(x,{instanceIdentifier:N}){const H=x.getProvider("app").getImmediate(),ie=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw $n.create("registration-window");if(!(0,ue.hl)())throw $n.create("indexed-db-unavailable");const{projectId:de,apiKey:Be,appId:st}=H.options;if(!de)throw $n.create("registration-project-id");if(!Be)throw $n.create("registration-api-key");if(!st)throw $n.create("registration-app-id");const ut=new zg(st,H.name,N=N||"firebase"),At=new vd(ut),tn=new le.Yd(ss);tn.logLevel=le.in.ERROR;const Ot=new Pi(ie,ge.SDK_VERSION,N,de,Be,st),gi=new Vg(Ot,ut),Ci=new Ug(gi,ut,At,tn),qa=new _d(H,Ci,At,ut,tn);return function vn(D){const x=(0,ue.m9)(D);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(qa),qa},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(ss,"0.3.8"),(0,ge.registerVersion)(ss,"0.3.8","esm2017")}();const wd="/firebase-messaging-sw.js",Ri="/firebase-cloud-messaging-push-scope",zo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xa="google.c.a.c_id",Ed="google.c.a.c_l",tf="google.c.a.ts",Ma="google.c.a.e";var ka=(()=>{return(D=ka||(ka={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",ka;var D})();function Wi(D){const x=new Uint8Array(D);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cd(D){const N=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(N),ie=new Uint8Array(H.length);for(let de=0;de<H.length;++de)ie[de]=H.charCodeAt(de);return ie}const Oi="fcm_token_details_db",wr="fcm_token_object_Store";function oc(D){return Td.apply(this,arguments)}function Td(){return Td=(0,V.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(Oi))return null;let x=null;return(yield(0,he.X3)(Oi,5,{upgrade:(H=(0,V.Z)(function*(ie,de,Be,st){var ut;if(de<2||!ie.objectStoreNames.contains(wr))return;const At=st.objectStore(wr),tn=yield At.index("fcmSenderId").get(D);if(yield At.clear(),tn)if(2===de){const Ot=tn;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;x={token:Ot.fcmToken,createTime:null!==(ut=Ot.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:Wi(Ot.vapidKey)}}}else if(3===de){const Ot=tn;x={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Wi(Ot.auth),p256dh:Wi(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Wi(Ot.vapidKey)}}}else if(4===de){const Ot=tn;x={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Wi(Ot.auth),p256dh:Wi(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Wi(Ot.vapidKey)}}}}),function(de,Be,st,ut){return H.apply(this,arguments)})})).close(),yield(0,he.Lj)(Oi),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),ac(x)?x:null;var H}),Td.apply(this,arguments)}function ac(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:x}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const ds="firebase-messaging-store";let nf=null;function _n(){return nf||(nf=(0,he.X3)("firebase-messaging-database",1,{upgrade:(D,x)=>{0===x&&D.createObjectStore(ds)}})),nf}function ml(D){return qo.apply(this,arguments)}function qo(){return(qo=(0,V.Z)(function*(D){const x=wi(D),H=yield(yield _n()).transaction(ds).objectStore(ds).get(x);if(H)return H;{const ie=yield oc(D.appConfig.senderId);if(ie)return yield cn(D,ie),ie}})).apply(this,arguments)}function cn(D,x){return _l.apply(this,arguments)}function _l(){return(_l=(0,V.Z)(function*(D,x){const N=wi(D),ie=(yield _n()).transaction(ds,"readwrite");return yield ie.objectStore(ds).put(x,N),yield ie.done,x})).apply(this,arguments)}function ou(D){return fo.apply(this,arguments)}function fo(){return(fo=(0,V.Z)(function*(D){const x=wi(D),H=(yield _n()).transaction(ds,"readwrite");yield H.objectStore(ds).delete(x),yield H.done})).apply(this,arguments)}function wi({appConfig:D}){return D.appId}const Rn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hs(D,x){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,V.Z)(function*(D,x){const N=yield Ra(D),H=po(x),ie={method:"POST",headers:N,body:JSON.stringify(H)};let de;try{de=yield(yield fetch(fs(D.appConfig),ie)).json()}catch(Be){throw Rn.create("token-subscribe-failed",{errorInfo:Be})}if(de.error)throw Rn.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw Rn.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function Wo(D,x){return ks.apply(this,arguments)}function ks(){return(ks=(0,V.Z)(function*(D,x){const N=yield Ra(D),H=po(x.subscriptionOptions),ie={method:"PATCH",headers:N,body:JSON.stringify(H)};let de;try{de=yield(yield fetch(`${fs(D.appConfig)}/${x.token}`,ie)).json()}catch(Be){throw Rn.create("token-update-failed",{errorInfo:Be})}if(de.error)throw Rn.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw Rn.create("token-update-no-token");return de.token})).apply(this,arguments)}function yl(D,x){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,V.Z)(function*(D,x){const H={method:"DELETE",headers:yield Ra(D)};try{const de=yield(yield fetch(`${fs(D.appConfig)}/${x}`,H)).json();if(de.error)throw Rn.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(ie){throw Rn.create("token-unsubscribe-failed",{errorInfo:ie})}})).apply(this,arguments)}function fs({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Ra(D){return It.apply(this,arguments)}function It(){return(It=(0,V.Z)(function*({appConfig:D,installations:x}){const N=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function po({p256dh:D,auth:x,endpoint:N,vapidKey:H}){const ie={web:{endpoint:N,auth:x,p256dh:D}};return H!==zo&&(ie.web.applicationPubKey=H),ie}const cc=6048e5;function vl(D){return dc.apply(this,arguments)}function dc(){return(dc=(0,V.Z)(function*(D){const x=yield Zo(D.swRegistration,D.vapidKey),N={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:x.endpoint,auth:Wi(x.getKey("auth")),p256dh:Wi(x.getKey("p256dh"))},H=yield ml(D.firebaseDependencies);if(H){if(uu(H.subscriptionOptions,N))return Date.now()>=H.createTime+cc?hc(D,{token:H.token,createTime:Date.now(),subscriptionOptions:N}):H.token;try{yield yl(D.firebaseDependencies,H.token)}catch(ie){console.warn(ie)}return Pe(D.firebaseDependencies,N)}return Pe(D.firebaseDependencies,N)})).apply(this,arguments)}function au(D){return lu.apply(this,arguments)}function lu(){return(lu=(0,V.Z)(function*(D){const x=yield ml(D.firebaseDependencies);x&&(yield yl(D.firebaseDependencies,x.token),yield ou(D.firebaseDependencies));const N=yield D.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function hc(D,x){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,V.Z)(function*(D,x){try{const N=yield Wo(D.firebaseDependencies,x),H=Object.assign(Object.assign({},x),{token:N,createTime:Date.now()});return yield cn(D.firebaseDependencies,H),N}catch(N){throw yield au(D),N}})).apply(this,arguments)}function Pe(D,x){return $t.apply(this,arguments)}function $t(){return($t=(0,V.Z)(function*(D,x){const H={token:yield hs(D,x),createTime:Date.now(),subscriptionOptions:x};return yield cn(D,H),H.token})).apply(this,arguments)}function Zo(D,x){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,V.Z)(function*(D,x){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cd(x)})})).apply(this,arguments)}function uu(D,x){return x.vapidKey===D.vapidKey&&x.endpoint===D.endpoint&&x.auth===D.auth&&x.p256dh===D.p256dh}function Ko(D){const x={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Er(D,x){if(!x.notification)return;D.notification={};const N=x.notification.title;N&&(D.notification.title=N);const H=x.notification.body;H&&(D.notification.body=H);const ie=x.notification.image;ie&&(D.notification.image=ie)}(x,D),function fc(D,x){!x.data||(D.data=x.data)}(x,D),function pc(D,x){if(!x.fcmOptions)return;D.fcmOptions={};const N=x.fcmOptions.link;N&&(D.fcmOptions.link=N);const H=x.fcmOptions.analytics_label;H&&(D.fcmOptions.analyticsLabel=H)}(x,D),x}function gc(D){return"object"==typeof D&&!!D&&xa in D}function Id(D,x){const N=[];for(let H=0;H<D.length;H++)N.push(D.charAt(H)),H<x.length&&N.push(x.charAt(H));return N.join("")}function Ps(D){return Rn.create("missing-app-config-values",{valueName:D})}Id("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Id("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ni{constructor(x,N,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ie=function Gg(D){if(!D||!D.options)throw Ps("App Configuration Object");if(!D.name)throw Ps("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:N}=D;for(const H of x)if(!N[H])throw Ps(H);return{appName:D.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:ie,installations:N,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Cr(D){return cu.apply(this,arguments)}function cu(){return(cu=(0,V.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(wd,{scope:Ri}),D.swRegistration.update().catch(()=>{})}catch(x){throw Rn.create("failed-service-worker-registration",{browserErrorMessage:x.message})}})).apply(this,arguments)}function go(D,x){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,V.Z)(function*(D,x){if(!x&&!D.swRegistration&&(yield Cr(D)),x||!D.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Rn.create("invalid-sw-registration");D.swRegistration=x}})).apply(this,arguments)}function mc(D,x){return du.apply(this,arguments)}function du(){return(du=(0,V.Z)(function*(D,x){x?D.vapidKey=x:D.vapidKey||(D.vapidKey=zo)})).apply(this,arguments)}function _c(){return(_c=(0,V.Z)(function*(D,x){if(!navigator)throw Rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rn.create("permission-blocked");return yield mc(D,null==x?void 0:x.vapidKey),yield go(D,null==x?void 0:x.serviceWorkerRegistration),vl(D)})).apply(this,arguments)}function Na(D,x,N){return fu.apply(this,arguments)}function fu(){return(fu=(0,V.Z)(function*(D,x,N){const H=pu(x);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:N[xa],message_name:N[Ed],message_time:N[tf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pu(D){switch(D){case ka.NOTIFICATION_CLICKED:return"notification_open";case ka.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Sd(){return(Sd=(0,V.Z)(function*(D,x){const N=x.data;if(!N.isFirebaseMessaging)return;D.onMessageHandler&&N.messageType===ka.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ko(N)):D.onMessageHandler.next(Ko(N)));const H=N.data;gc(H)&&"1"===H[Ma]&&(yield Na(D,N.messageType,H))})).apply(this,arguments)}const gu="@firebase/messaging",Ad=D=>{const x=new Ni(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Dd(D,x){return Sd.apply(this,arguments)}(x,N)),x},Fa=D=>{const x=D.getProvider("messaging").getImmediate();return{getToken:H=>function hu(D,x){return _c.apply(this,arguments)}(x,H)}};function mu(){return lr.apply(this,arguments)}function lr(){return(lr=(0,V.Z)(function*(){try{yield(0,ue.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xd(){(0,ge._registerComponent)(new we.wA("messaging",Ad,"PUBLIC")),(0,ge._registerComponent)(new we.wA("messaging-internal",Fa,"PRIVATE")),(0,ge.registerVersion)(gu,"0.9.13"),(0,ge.registerVersion)(gu,"0.9.13","esm2017")}();const kd="analytics",qg="firebase_id",Rs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jo="https://www.googletagmanager.com/gtag/js",si=new le.Yd("@firebase/analytics");function Pd(D){return Promise.all(D.map(x=>x.catch(N=>N)))}function Wg(D,x){const N=document.createElement("script");N.src=`${Jo}?l=${D}&id=${x}`,N.async=!0,document.head.appendChild(N)}function La(D,x,N,H,ie,de){return _u.apply(this,arguments)}function _u(){return(_u=(0,V.Z)(function*(D,x,N,H,ie,de){const Be=H[ie];try{if(Be)yield x[Be];else{const ut=(yield Pd(N)).find(At=>At.measurementId===ie);ut&&(yield x[ut.appId])}}catch(st){si.error(st)}D("config",ie,de)})).apply(this,arguments)}function wl(D,x,N,H,ie){return ps.apply(this,arguments)}function ps(){return(ps=(0,V.Z)(function*(D,x,N,H,ie){try{let de=[];if(ie&&ie.send_to){let Be=ie.send_to;Array.isArray(Be)||(Be=[Be]);const st=yield Pd(N);for(const ut of Be){const At=st.find(Ot=>Ot.measurementId===ut),tn=At&&x[At.appId];if(!tn){de=[];break}de.push(tn)}}0===de.length&&(de=Object.values(x)),yield Promise.all(de),D("event",H,ie||{})}catch(de){si.error(de)}})).apply(this,arguments)}function Kg(){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(Jo))return x;return null}const pi=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Bn=new class Vn{constructor(x={},N=1e3){this.throttleMetadata=x,this.intervalMillis=N}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,N){this.throttleMetadata[x]=N}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function yu(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Br(D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,V.Z)(function*(D){var x;const{appId:N,apiKey:H}=D,ie={method:"GET",headers:yu(H)},de=Rs.replace("{app-id}",N),Be=yield fetch(de,ie);if(200!==Be.status&&304!==Be.status){let st="";try{const ut=yield Be.json();(null===(x=ut.error)||void 0===x?void 0:x.message)&&(st=ut.error.message)}catch(ut){}throw pi.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:st})}return Be.json()})).apply(this,arguments)}function jt(D){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,V.Z)(function*(D,x=Bn,N){const{appId:H,apiKey:ie,measurementId:de}=D.options;if(!H)throw pi.create("no-app-id");if(!ie){if(de)return{measurementId:de,appId:H};throw pi.create("no-api-key")}const Be=x.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},st=new Rd;return setTimeout((0,V.Z)(function*(){st.abort()}),void 0!==N?N:6e4),dt({appId:H,apiKey:ie,measurementId:de},Be,st,x)})).apply(this,arguments)}function dt(D,x,N){return ea.apply(this,arguments)}function ea(){return(ea=(0,V.Z)(function*(D,{throttleEndTimeMillis:x,backoffCount:N},H,ie=Bn){const{appId:de,measurementId:Be}=D;try{yield vc(H,x)}catch(st){if(Be)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:de,measurementId:Be};throw st}try{const st=yield Br(D);return ie.deleteThrottleMetadata(de),st}catch(st){if(!gs(st)){if(ie.deleteThrottleMetadata(de),Be)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${st.message}]`),{appId:de,measurementId:Be};throw st}const ut=503===Number(st.customData.httpStatus)?(0,ue.$s)(N,ie.intervalMillis,30):(0,ue.$s)(N,ie.intervalMillis),At={throttleEndTimeMillis:Date.now()+ut,backoffCount:N+1};return ie.setThrottleMetadata(de,At),si.debug(`Calling attemptFetch again in ${ut} millis`),dt(D,At,H,ie)}})).apply(this,arguments)}function vc(D,x){return new Promise((N,H)=>{const ie=Math.max(x-Date.now(),0),de=setTimeout(N,ie);D.addEventListener(()=>{clearTimeout(de),H(pi.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function gs(D){if(!(D instanceof ue.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Rd{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}function Od(){return bc.apply(this,arguments)}function bc(){return(bc=(0,V.Z)(function*(){if(!(0,ue.hl)())return si.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(D){return si.warn(pi.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function ta(){return(ta=(0,V.Z)(function*(D,x,N,H,ie,de,Be){var st;const ut=jt(D);ut.then(Ci=>{N[Ci.measurementId]=Ci.appId,D.options.measurementId&&Ci.measurementId!==D.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Ci.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ci=>si.error(Ci)),x.push(ut);const At=Od().then(Ci=>{if(Ci)return H.getId()}),[tn,Ot]=yield Promise.all([ut,At]);Kg()||Wg(de,tn.measurementId),ie("js",new Date);const gi=null!==(st=null==Be?void 0:Be.config)&&void 0!==st?st:{};return gi.origin="firebase",gi.update=!0,null!=Ot&&(gi[qg]=Ot),ie("config",tn.measurementId,gi),tn.measurementId})).apply(this,arguments)}class _o{constructor(x){this.app=x}_delete(){return delete On[this.app.options.appId],Promise.resolve()}}let On={},vu=[];const bu={};let wu,Os,Ua="dataLayer",Eu=!1;function Ba(D,x,N){!function kn(){const D=[];if((0,ue.ru)()&&D.push("This is a browser extension environment."),(0,ue.zI)()||D.push("Cookies are not available."),D.length>0){const x=D.map((H,ie)=>`(${ie+1}) ${H}`).join(" "),N=pi.create("invalid-analytics-context",{errorInfo:x});si.warn(N.message)}}();const H=D.options.appId;if(!H)throw pi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw pi.create("no-api-key");si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=On[H])throw pi.create("already-exists",{id:H});if(!Eu){!function Xo(D){let x=[];Array.isArray(window[D])?x=window[D]:window[D]=x}(Ua);const{wrappedGtag:de,gtagCore:Be}=function Zg(D,x,N,H,ie){let de=function(...Be){window[H].push(arguments)};return window[ie]&&"function"==typeof window[ie]&&(de=window[ie]),window[ie]=function El(D,x,N,H){function de(){return(de=(0,V.Z)(function*(Be,st,ut){try{"event"===Be?yield wl(D,x,N,st,ut):"config"===Be?yield La(D,x,N,H,st,ut):D("set",st)}catch(At){si.error(At)}})).apply(this,arguments)}return function ie(Be,st,ut){return de.apply(this,arguments)}}(de,D,x,N),{gtagCore:de,wrappedGtag:window[ie]}}(On,vu,bu,Ua,"gtag");Os=de,wu=Be,Eu=!0}return On[H]=function mo(D,x,N,H,ie,de,Be){return ta.apply(this,arguments)}(D,vu,bu,x,wu,Ua,N),new _o(D)}function na(){return(na=(0,V.Z)(function*(D,x,N,H,ie){if(ie&&ie.global)D("event",N,H);else{const de=yield x;D("event",N,Object.assign(Object.assign({},H),{send_to:de}))}})).apply(this,arguments)}function Il(){return sf.apply(this,arguments)}function sf(){return(sf=(0,V.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(D){return!1}})).apply(this,arguments)}const Cc="@firebase/analytics";!function uf(){(0,ge._registerComponent)(new we.wA(kd,(x,{options:N})=>Ba(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ge._registerComponent)(new we.wA("analytics-internal",function D(x){try{const N=x.getProvider(kd).getImmediate();return{logEvent:(H,ie,de)=>function lf(D,x,N,H){D=(0,ue.m9)(D),function yo(D,x,N,H,ie){return na.apply(this,arguments)}(Os,On[D.app.options.appId],x,N,H).catch(ie=>si.error(ie))}(N,H,ie,de)}}catch(N){throw pi.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ge.registerVersion)(Cc,"0.7.9"),(0,ge.registerVersion)(Cc,"0.7.9","esm2017")}();var Jg=U(4408),Fd=U(7565);const Iu=new class oi extends Fd.v{}(class ra extends Jg.o{constructor(x,N){super(x,N),this.scheduler=x,this.work=N}schedule(x,N=0){return N>0?super.schedule(x,N):(this.delay=N,this.state=x,this.scheduler.flush(this),this)}execute(x,N){return N>0||this.closed?super.execute(x,N):this._execute(x,N)}requestAsyncId(x,N,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(x,N,H):x.flush(this)}});var Ld=U(4986),Xg=U(8505),Zi=U(5363),ur=U(9468);const Su=new d.GfV("7.3.0"),Ha="__angularfire_symbol__analyticsIsSupportedValue",Fs="__angularfire_symbol__analyticsIsSupported",bo="__angularfire_symbol__remoteConfigIsSupportedValue",wo="__angularfire_symbol__remoteConfigIsSupported",za="__angularfire_symbol__messagingIsSupportedValue",Tc="__angularfire_symbol__messagingIsSupported";function sa(D,x,N){if(x){if(1===x.length)return x[0];const de=x.filter(Be=>Be.app===N);if(1===de.length)return de[0]}return N.container.getProvider(D).getImmediate({optional:!0})}globalThis[Fs]||(globalThis[Fs]=Il().then(D=>globalThis[Ha]=D).catch(()=>globalThis[Ha]=!1)),globalThis[Tc]||(globalThis[Tc]=mu().then(D=>globalThis[za]=D).catch(()=>globalThis[za]=!1)),globalThis[wo]||(globalThis[wo]=su().then(D=>globalThis[bo]=D).catch(()=>globalThis[bo]=!1));const $y=(D,x)=>{const N=x?[x]:(0,se.C6)(),H=[];return N.forEach(ie=>{ie.container.getProvider(D).instances.forEach(Be=>{H.includes(Be)||H.push(Be)})}),H};function dr(){}class Ud{constructor(x,N=Iu){this.zone=x,this.delegate=N}now(){return this.delegate.now()}schedule(x,N,H){const ie=this.zone;return this.delegate.schedule(function(Be){ie.runGuarded(()=>{x.apply(this,[Be])})},N,H)}}class Ga{constructor(x){this.zone=x,this.task=null}call(x,N){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dr,{},dr,dr)),N.pipe((0,Xg.b)({next:H,complete:H,error:H})).subscribe(x).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mu=(()=>{class D{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Ud(Zone.current)),this.insideAngular=N.run(()=>new Ud(Zone.current,Ld.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(N){return new(N||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Fi(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ls(D){return D.pipe((0,Zi.Q)(Fi().outsideAngular))}function cf(D){return Fi(),function $a(D){return function(N){return(N=N.lift(new Ga(D.ngZone))).pipe((0,ur.R)(D.outsideAngular),(0,Zi.Q)(D.insideAngular))}}(Fi())(D)}},2090:(nt,Te,U)=>{U.d(Te,{$s:()=>Wt,BH:()=>Ke,DV:()=>en,Dv:()=>oo,G6:()=>We,GJ:()=>on,L:()=>he,LL:()=>fe,Mn:()=>Se,Pz:()=>zt,Sg:()=>Oe,UG:()=>ye,UI:()=>ns,US:()=>we,Wj:()=>Gn,Yr:()=>qe,ZB:()=>q,ZR:()=>Ee,b$:()=>et,cI:()=>Kt,d:()=>ke,dS:()=>Vo,eu:()=>De,g5:()=>V,gK:()=>ir,gQ:()=>nr,h$:()=>le,hl:()=>W,hu:()=>se,jU:()=>Ae,lb:()=>vr,m9:()=>ki,ne:()=>rs,p$:()=>K,pd:()=>so,r3:()=>zi,ru:()=>Ye,tV:()=>me,uI:()=>$e,ug:()=>Yt,vZ:()=>_r,w1:()=>Ie,w9:()=>gn,xO:()=>Gi,xb:()=>Gt,z$:()=>Ve,zI:()=>ee,zd:()=>is});const se=function(z,J){if(!z)throw V(J)},V=function(z){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+z)},ge=function(z){const J=[];let X=0;for(let xe=0;xe<z.length;xe++){let Y=z.charCodeAt(xe);Y<128?J[X++]=Y:Y<2048?(J[X++]=Y>>6|192,J[X++]=63&Y|128):55296==(64512&Y)&&xe+1<z.length&&56320==(64512&z.charCodeAt(xe+1))?(Y=65536+((1023&Y)<<10)+(1023&z.charCodeAt(++xe)),J[X++]=Y>>18|240,J[X++]=Y>>12&63|128,J[X++]=Y>>6&63|128,J[X++]=63&Y|128):(J[X++]=Y>>12|224,J[X++]=Y>>6&63|128,J[X++]=63&Y|128)}return J},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,J){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,xe=[];for(let Y=0;Y<z.length;Y+=3){const re=z[Y],Fe=Y+1<z.length,it=Fe?z[Y+1]:0,Et=Y+2<z.length,kt=Et?z[Y+2]:0;let ni=(15&it)<<2|kt>>6,$i=63&kt;Et||($i=64,Fe||(ni=64)),xe.push(X[re>>2],X[(3&re)<<4|it>>4],X[ni],X[$i])}return xe.join("")},encodeString(z,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(z):this.encodeByteArray(ge(z),J)},decodeString(z,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(z):function(z){const J=[];let X=0,xe=0;for(;X<z.length;){const Y=z[X++];if(Y<128)J[xe++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const re=z[X++];J[xe++]=String.fromCharCode((31&Y)<<6|63&re)}else if(Y>239&&Y<365){const Et=((7&Y)<<18|(63&z[X++])<<12|(63&z[X++])<<6|63&z[X++])-65536;J[xe++]=String.fromCharCode(55296+(Et>>10)),J[xe++]=String.fromCharCode(56320+(1023&Et))}else{const re=z[X++],Fe=z[X++];J[xe++]=String.fromCharCode((15&Y)<<12|(63&re)<<6|63&Fe)}}return J.join("")}(this.decodeStringToByteArray(z,J))},decodeStringToByteArray(z,J){this.init_();const X=J?this.charToByteMapWebSafe_:this.charToByteMap_,xe=[];for(let Y=0;Y<z.length;){const re=X[z.charAt(Y++)],it=Y<z.length?X[z.charAt(Y)]:0;++Y;const kt=Y<z.length?X[z.charAt(Y)]:64;++Y;const xt=Y<z.length?X[z.charAt(Y)]:64;if(++Y,null==re||null==it||null==kt||null==xt)throw Error();xe.push(re<<2|it>>4),64!==kt&&(xe.push(it<<4&240|kt>>2),64!==xt&&xe.push(kt<<6&192|xt))}return xe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},le=function(z){const J=ge(z);return we.encodeByteArray(J,!0)},he=function(z){return le(z).replace(/\./g,"")},me=function(z){try{return we.decodeString(z,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function K(z){return q(void 0,z)}function q(z,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return J}for(const X in J)!J.hasOwnProperty(X)||!ae(X)||(z[X]=q(z[X],J[X]));return z}function ae(z){return"__proto__"!==z}class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,X)=>{this.resolve=J,this.reject=X})}wrapCallback(J){return(X,xe)=>{X?this.reject(X):this.resolve(xe),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(X):J(X,xe))}}}function Oe(z,J){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xe=J||"demo-project",Y=z.iat||0,re=z.sub||z.user_id;if(!re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${xe}`,aud:xe,iat:Y,exp:Y+3600,auth_time:Y,sub:re,user_id:re,firebase:{sign_in_provider:"custom",identities:{}}},z);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Fe)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function Ae(){return"object"==typeof self&&self.self===self}function Ye(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return Ve().indexOf("Electron/")>=0}function Ie(){const z=Ve();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Se(){return Ve().indexOf("MSAppHost/")>=0}function qe(){return!1}function We(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function De(){return new Promise((z,J)=>{try{let X=!0;const xe="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(xe);Y.onsuccess=()=>{Y.result.close(),X||self.indexedDB.deleteDatabase(xe),z(!0)},Y.onupgradeneeded=()=>{X=!1},Y.onerror=()=>{var re;J((null===(re=Y.error)||void 0===re?void 0:re.message)||"")}}catch(X){J(X)}})}function ee(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ee extends Error{constructor(J,X,xe){super(X),this.code=J,this.customData=xe,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(J,X,xe){this.service=J,this.serviceName=X,this.errors=xe}create(J,...X){const xe=X[0]||{},Y=`${this.service}/${J}`,re=this.errors[J],Fe=re?function je(z,J){return z.replace(yt,(X,xe)=>{const Y=J[xe];return null!=Y?String(Y):`<${xe}?>`})}(re,xe):"Error";return new Ee(Y,`${this.serviceName}: ${Fe} (${Y}).`,xe)}}const yt=/\{\$([^}]+)}/g;function Kt(z){return JSON.parse(z)}function zt(z){return JSON.stringify(z)}const Xe=function(z){let J={},X={},xe={},Y="";try{const re=z.split(".");J=Kt(me(re[0])||""),X=Kt(me(re[1])||""),Y=re[2],xe=X.d||{},delete X.d}catch(re){}return{header:J,claims:X,data:xe,signature:Y}},gn=function(z){const X=Xe(z).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},on=function(z){const J=Xe(z).claims;return"object"==typeof J&&!0===J.admin};function zi(z,J){return Object.prototype.hasOwnProperty.call(z,J)}function en(z,J){if(Object.prototype.hasOwnProperty.call(z,J))return z[J]}function Gt(z){for(const J in z)if(Object.prototype.hasOwnProperty.call(z,J))return!1;return!0}function ns(z,J,X){const xe={};for(const Y in z)Object.prototype.hasOwnProperty.call(z,Y)&&(xe[Y]=J.call(X,z[Y],Y,z));return xe}function _r(z,J){if(z===J)return!0;const X=Object.keys(z),xe=Object.keys(J);for(const Y of X){if(!xe.includes(Y))return!1;const re=z[Y],Fe=J[Y];if(Ai(re)&&Ai(Fe)){if(!_r(re,Fe))return!1}else if(re!==Fe)return!1}for(const Y of xe)if(!X.includes(Y))return!1;return!0}function Ai(z){return null!==z&&"object"==typeof z}function Gi(z){const J=[];for(const[X,xe]of Object.entries(z))Array.isArray(xe)?xe.forEach(Y=>{J.push(encodeURIComponent(X)+"="+encodeURIComponent(Y))}):J.push(encodeURIComponent(X)+"="+encodeURIComponent(xe));return J.length?"&"+J.join("&"):""}function is(z){const J={};return z.replace(/^\?/,"").split("&").forEach(xe=>{if(xe){const[Y,re]=xe.split("=");J[decodeURIComponent(Y)]=decodeURIComponent(re)}}),J}function so(z){const J=z.indexOf("?");if(!J)return"";const X=z.indexOf("#",J);return z.substring(J,X>0?X:void 0)}class nr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let J=1;J<this.blockSize;++J)this.pad_[J]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(J,X){X||(X=0);const xe=this.W_;if("string"==typeof J)for(let xt=0;xt<16;xt++)xe[xt]=J.charCodeAt(X)<<24|J.charCodeAt(X+1)<<16|J.charCodeAt(X+2)<<8|J.charCodeAt(X+3),X+=4;else for(let xt=0;xt<16;xt++)xe[xt]=J[X]<<24|J[X+1]<<16|J[X+2]<<8|J[X+3],X+=4;for(let xt=16;xt<80;xt++){const ni=xe[xt-3]^xe[xt-8]^xe[xt-14]^xe[xt-16];xe[xt]=4294967295&(ni<<1|ni>>>31)}let kt,En,Y=this.chain_[0],re=this.chain_[1],Fe=this.chain_[2],it=this.chain_[3],Et=this.chain_[4];for(let xt=0;xt<80;xt++){xt<40?xt<20?(kt=it^re&(Fe^it),En=1518500249):(kt=re^Fe^it,En=1859775393):xt<60?(kt=re&Fe|it&(re|Fe),En=2400959708):(kt=re^Fe^it,En=3395469782);const ni=(Y<<5|Y>>>27)+kt+Et+En+xe[xt]&4294967295;Et=it,it=Fe,Fe=4294967295&(re<<30|re>>>2),re=Y,Y=ni}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+re&4294967295,this.chain_[2]=this.chain_[2]+Fe&4294967295,this.chain_[3]=this.chain_[3]+it&4294967295,this.chain_[4]=this.chain_[4]+Et&4294967295}update(J,X){if(null==J)return;void 0===X&&(X=J.length);const xe=X-this.blockSize;let Y=0;const re=this.buf_;let Fe=this.inbuf_;for(;Y<X;){if(0===Fe)for(;Y<=xe;)this.compress_(J,Y),Y+=this.blockSize;if("string"==typeof J){for(;Y<X;)if(re[Fe]=J.charCodeAt(Y),++Fe,++Y,Fe===this.blockSize){this.compress_(re),Fe=0;break}}else for(;Y<X;)if(re[Fe]=J[Y],++Fe,++Y,Fe===this.blockSize){this.compress_(re),Fe=0;break}}this.inbuf_=Fe,this.total_+=X}digest(){const J=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&X,X/=256;this.compress_(this.buf_);let xe=0;for(let Y=0;Y<5;Y++)for(let re=24;re>=0;re-=8)J[xe]=this.chain_[Y]>>re&255,++xe;return J}}function rs(z,J){const X=new Tt(z,J);return X.subscribe.bind(X)}class Tt{constructor(J,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{J(this)}).catch(xe=>{this.error(xe)})}next(J){this.forEachObserver(X=>{X.next(J)})}error(J){this.forEachObserver(X=>{X.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,X,xe){let Y;if(void 0===J&&void 0===X&&void 0===xe)throw new Error("Missing Observer.");Y=function Ln(z,J){if("object"!=typeof z||null===z)return!1;for(const X of J)if(X in z&&"function"==typeof z[X])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:X,complete:xe},void 0===Y.next&&(Y.next=zn),void 0===Y.error&&(Y.error=zn),void 0===Y.complete&&(Y.complete=zn);const re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(Fe){}}),this.observers.push(Y),re}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,J)}sendOne(J,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{X(this.observers[J])}catch(xe){"undefined"!=typeof console&&console.error&&console.error(xe)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}const oo=function(z,J,X,xe){let Y;if(xe<J?Y="at least "+J:xe>X&&(Y=0===X?"none":"no more than "+X),Y)throw new Error(z+" failed: Was called with "+xe+(1===xe?" argument.":" arguments.")+" Expects "+Y+".")};function ir(z,J){return`${z} failed: ${J} argument `}function Gn(z,J,X,xe){if((!xe||X)&&"function"!=typeof X)throw new Error(ir(z,J)+"must be a valid function.")}function vr(z,J,X,xe){if((!xe||X)&&("object"!=typeof X||null===X))throw new Error(ir(z,J)+"must be a valid context object.")}const Vo=function(z){const J=[];let X=0;for(let xe=0;xe<z.length;xe++){let Y=z.charCodeAt(xe);if(Y>=55296&&Y<=56319){const re=Y-55296;xe++,se(xe<z.length,"Surrogate pair missing trail surrogate."),Y=65536+(re<<10)+(z.charCodeAt(xe)-56320)}Y<128?J[X++]=Y:Y<2048?(J[X++]=Y>>6|192,J[X++]=63&Y|128):Y<65536?(J[X++]=Y>>12|224,J[X++]=Y>>6&63|128,J[X++]=63&Y|128):(J[X++]=Y>>18|240,J[X++]=Y>>12&63|128,J[X++]=Y>>6&63|128,J[X++]=63&Y|128)}return J},Yt=function(z){let J=0;for(let X=0;X<z.length;X++){const xe=z.charCodeAt(X);xe<128?J++:xe<2048?J+=2:xe>=55296&&xe<=56319?(J+=4,X++):J+=3}return J};function Wt(z,J=1e3,X=2){const xe=J*Math.pow(X,z),Y=Math.round(.5*xe*(Math.random()-.5)*2);return Math.min(144e5,xe+Y)}function ki(z){return z&&z._delegate?z._delegate:z}},953:(nt,Te,U)=>{var d=U(5e3);let se=null;function V(){return se}const le=new d.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function me(){return(0,d.LFG)(q)}()},providedIn:"platform"}),n})();const K=new d.OlP("Location Initialized");let q=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(t){const i=V().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=V().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ae()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ae()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(le))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ke(){return new q((0,d.LFG)(le))}()},providedIn:"platform"}),n})();function ae(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ve(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ae(n){const e=(0,d.LFG)(le).location;return new et((0,d.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ye=new d.OlP("appBaseHref");let et=(()=>{class n extends ye{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+$e(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+$e(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+$e(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(he),d.LFG(Ye,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n extends ye{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Oe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+$e(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+$e(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(he),d.LFG(Ye,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(t,i){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ve(We(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+$e(i))}normalize(t){return n.stripTrailingSlash(function qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Oe,n.stripTrailingSlash=Ve,n.\u0275fac=function(t){return new(t||n)(d.LFG(ye),d.LFG(he))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Se(){return new Ie((0,d.LFG)(ye),(0,d.LFG)(he))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}function Sa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let xs=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class lo{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Un=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new lo(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,l),Ho(c,r)}});for(let r=0,s=i.length;r<s;r++){const c=i.get(r).context;c.index=r,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ho(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ho(n,e){n.context.$implicit=e.item}let xn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class vn{constructor(){this.$implicit=null,this.ngIf=null}}function nu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let Ma=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Go="browser";function $o(n){return"server"===n}let ac=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Pa((0,d.LFG)(le),window)}),n})();class Pa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ds(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=lc(this.window.history)||lc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function lc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _n{}class qo extends class ml extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(n){se||(se=n)}(new qo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function _l(){return cn=cn||document.querySelector("base"),cn?cn.getAttribute("href"):null}();return null==t?null:function fo(n){ou=ou||document.createElement("a"),ou.setAttribute("href",n);const e=ou.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){cn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Sa(document.cookie,e)}}let ou,cn=null;const wi=new d.OlP("TRANSITION_ID"),Rn=[{provide:d.ip1,useFactory:function uc(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const i=V(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[wi,le,d.zs3],multi:!0}];class hs{static init(){(0,d.VLi)(new hs)}addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const c=function(f){l=l||f,s--,0==s&&i(l)};r.forEach(function(f){f.whenStable(c)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?V().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ei=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Wo=new d.OlP("EventManagerPlugins");let ks=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Wo),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class yl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=V().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ur=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),fs=(()=>{class n extends Ur{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,r.push(i.appendChild(l))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Ra),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ra))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(le))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Ra(n){V().remove(n)}const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},po=/%COMP%/g;function Oa(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Oa(n,r,t):(r=r.replace(po,n),t.push(r))}return t}function Pe(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Zo=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Mn(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case d.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Er(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case d.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Oa(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ks),d.LFG(fs),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Mn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(It[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=It[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=It[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pe(i)):this.eventManager.addEventListener(e,t,Pe(i))}}class Er extends Mn{constructor(e,t,i,r){super(e),this.component=i;const s=Oa(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function lu(n){return"_ngcontent-%COMP%".replace(po,n)}(r+"-"+i.id),this.hostAttr=function hc(n){return"_nghost-%COMP%".replace(po,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class fc extends Mn{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Oa(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const c=document.createElement("style");c.textContent=s[l],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let pc=(()=>{class n extends yl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(le))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=["alt","control","meta","shift"],Gg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ps={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ni={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Cr=(()=>{class n extends yl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="";if(gc.forEach(f=>{const y=i.indexOf(f);y>-1&&(i.splice(y,1),l+=f+".")}),l+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=l,c}static getEventFullKey(t){let i="",r=function cu(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ps.hasOwnProperty(e)&&(e=Ps[e]))}return Gg[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gc.forEach(s=>{s!=r&&Ni[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(le))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const hu=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:Go},{provide:d.g9A,useValue:function go(){qo.makeCurrent(),hs.init()},multi:!0},{provide:le,useFactory:function mc(){return(0,d.RDi)(document),document},deps:[]}]),_c=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Vr(){return new d.qLn},deps:[]},{provide:Wo,useClass:pc,multi:!0,deps:[le,d.R0b,d.Lbi]},{provide:Wo,useClass:Cr,multi:!0,deps:[le]},{provide:Zo,useClass:Zo,deps:[ks,fs,d.AFp]},{provide:d.FYo,useExisting:Zo},{provide:Ur,useExisting:fs},{provide:fs,useClass:fs,deps:[le]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:ks,useClass:ks,deps:[Wo,d.R0b]},{provide:_n,useClass:Ei,deps:[]}];let Na=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:wi,useExisting:d.AFp},Rn]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:_c,imports:[Ma,d.hGG]}),n})();"undefined"!=typeof window&&window;let wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):d.LFG(El),i},providedIn:"root"}),n})(),El=(()=>{class n extends wl{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(i),(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(le))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ps(n){return new El(n.get(le))}(d.LFG(d.zs3)),i},providedIn:"root"}),n})(),Yg=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var pi=U(7669),Qt=U(8996);function pt(...n){const e=(0,pi.yG)(n);return(0,Qt.D)(n,e)}var Vn=U(8306),Bn=U(5577),yu=U(576);function Br(n,e){return(0,yu.m)(e)?(0,Bn.z)(n,e,1):(0,Bn.z)(n,1)}var Tn=U(4482),jt=U(5403);function Xn(n,e){return(0,Tn.e)((t,i)=>{let r=0;t.subscribe((0,jt.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var dt=U(4004);class ea{}class vc{}class gs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof gs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new gs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof gs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(c=>-1===s.indexOf(c)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Rd{encodeKey(e){return ta(e)}encodeValue(e){return ta(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bc=/%(\d[a-f0-9])/gi,mo={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ta(n){return encodeURIComponent(n).replace(bc,(e,t)=>{var i;return null!==(i=mo[t])&&void 0!==i?i:e})}function _o(n){return`${n}`}class On{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Rd,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Od(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,c]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],f=t.get(l)||[];f.push(c),t.set(l,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new On({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(_o(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(_o(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class bu{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Va(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function wu(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Os(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Cu{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ua(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new gs),this.context||(this.context=new bu),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+l}}else this.params=new On,this.urlWithParams=t}serializeBody(){return null===this.body?null:Va(this.body)||wu(this.body)||Os(this.body)||function Eu(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof On?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Os(this.body)?null:wu(this.body)?this.body.type||null:Va(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof On?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,w=e.params||this.params;const C=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((S,k)=>S.set(k,e.setHeaders[k]),y)),e.setParams&&(w=Object.keys(e.setParams).reduce((S,k)=>S.set(k,e.setParams[k]),w)),new Cu(i,r,l,{params:w,headers:y,context:C,reportProgress:f,responseType:s,withCredentials:c})}}var kn=(()=>((kn=kn||{})[kn.Sent=0]="Sent",kn[kn.UploadProgress=1]="UploadProgress",kn[kn.ResponseHeader=2]="ResponseHeader",kn[kn.DownloadProgress=3]="DownloadProgress",kn[kn.Response=4]="Response",kn[kn.User=5]="User",kn))();class Ba{constructor(e,t=200,i="OK"){this.headers=e.headers||new gs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class yo extends Ba{constructor(e={}){super(e),this.type=kn.ResponseHeader}clone(e={}){return new yo({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class na extends Ba{constructor(e={}){super(e),this.type=kn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new na({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class wc extends Ba{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ms(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vo=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Cu)s=t;else{let f,y;f=r.headers instanceof gs?r.headers:new gs(r.headers),r.params&&(y=r.params instanceof On?r.params:new On({fromObject:r.params})),s=new Cu(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=pt(s).pipe(Br(f=>this.handler.handle(f)));if(t instanceof Cu||"events"===r.observe)return l;const c=l.pipe(Xn(f=>f instanceof na));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe((0,dt.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return c.pipe((0,dt.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return c.pipe((0,dt.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return c.pipe((0,dt.U)(f=>f.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new On).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,ms(r,i))}post(t,i,r={}){return this.request("POST",t,ms(r,i))}put(t,i,r={}){return this.request("PUT",t,ms(r,i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ea))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ja{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Cl=new d.OlP("HTTP_INTERCEPTORS");let Ns=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Qg=/^\)\]\}',?\n/;let lf=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vn.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((k,R)=>r.setRequestHeader(k,R.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&r.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();r.responseType="json"!==k?k:"text"}const s=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const k=r.statusText||"OK",R=new gs(r.getAllResponseHeaders()),j=function Gy(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return l=new yo({headers:R,status:r.status,statusText:k,url:j}),l},f=()=>{let{headers:k,status:R,statusText:j,url:Q}=c(),pe=null;204!==R&&(pe=void 0===r.response?r.responseText:r.response),0===R&&(R=pe?200:0);let Me=R>=200&&R<300;if("json"===t.responseType&&"string"==typeof pe){const Ue=pe;pe=pe.replace(Qg,"");try{pe=""!==pe?JSON.parse(pe):null}catch(Ne){pe=Ue,Me&&(Me=!1,pe={error:Ne,text:pe})}}Me?(i.next(new na({body:pe,headers:k,status:R,statusText:j,url:Q||void 0})),i.complete()):i.error(new wc({error:pe,headers:k,status:R,statusText:j,url:Q||void 0}))},y=k=>{const{url:R}=c(),j=new wc({error:k,status:r.status||0,statusText:r.statusText||"Unknown Error",url:R||void 0});i.error(j)};let w=!1;const C=k=>{w||(i.next(c()),w=!0);let R={type:kn.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),"text"===t.responseType&&!!r.responseText&&(R.partialText=r.responseText),i.next(R)},S=k=>{let R={type:kn.UploadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),i.next(R)};return r.addEventListener("load",f),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),t.reportProgress&&(r.addEventListener("progress",C),null!==s&&r.upload&&r.upload.addEventListener("progress",S)),r.send(s),i.next({type:kn.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",f),r.removeEventListener("timeout",y),t.reportProgress&&(r.removeEventListener("progress",C),null!==s&&r.upload&&r.upload.removeEventListener("progress",S)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_n))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Cc=new d.OlP("XSRF_COOKIE_NAME"),Tu=new d.OlP("XSRF_HEADER_NAME");class uf{}let Au,Jg=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sa(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(le),d.LFG(d.Lbi),d.LFG(Cc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ra=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(uf),d.LFG(Tu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Fd=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(Cl,[]);this.chain=i.reduceRight((r,s)=>new ja(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(vc),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Du=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:ra,useClass:Ns}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Cc,useValue:t.cookieName}:[],t.headerName?{provide:Tu,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[ra,{provide:Cl,useExisting:ra,multi:!0},{provide:uf,useClass:Jg},{provide:Cc,useValue:"XSRF-TOKEN"},{provide:Tu,useValue:"X-XSRF-TOKEN"}]}),n})(),Ld=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[vo,{provide:ea,useClass:Fd},lf,{provide:vc,useExisting:lf}],imports:[[Du.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),za=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();try{Au="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Au=!1}let dr,Ls,xu=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Oi(n){return n===Go}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Au)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ga(n){return function Ud(){if(null==dr&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dr=!0}))}finally{dr=dr||!1}return dr}()?n:!!n.capture}function Us(n){return n.composedPath?n.composedPath()[0]:n.target}var D=U(7579);class x extends D.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var aa=U(4671);function Tf(n,e=aa.y){return n=null!=n?n:Ka,(0,Tn.e)((t,i)=>{let r,s=!0;t.subscribe((0,jt.x)(i,l=>{const c=e(l);(s||!n(r,c))&&(s=!1,r=c,i.next(l))}))})}function Ka(n,e){return n===e}var la=U(8421),_m=U(5032);function If(n){return(0,Tn.e)((e,t)=>{(0,la.Xf)(n).subscribe((0,jt.x)(t,()=>t.complete(),_m.Z)),!t.closed&&e.subscribe(t)})}function Ya(n){return null!=n&&"false"!=`${n}`}function Pc(n){return n instanceof d.SBq?n.nativeElement:n}function ZE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function vv(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const bv=new d.OlP("cdk-input-modality-detector-options"),KE={ignoreKeys:[18,17,224,91,16]},Wd=Ga({passive:!0,capture:!0});let vx=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new x(null),this._lastTouchMs=0,this._onKeydown=l=>{var c,f;(null===(f=null===(c=this._options)||void 0===c?void 0:c.ignoreKeys)||void 0===f?void 0:f.some(y=>y===l.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Us(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ZE(l)?"keyboard":"mouse"),this._mostRecentTarget=Us(l))},this._onTouchstart=l=>{vv(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Us(l))},this._options=Object.assign(Object.assign({},KE),s),this.modalityDetected=this._modality.pipe(function cv(n){return Xn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Tf()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Wd),r.addEventListener("mousedown",this._onMousedown,Wd),r.addEventListener("touchstart",this._onTouchstart,Wd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wd),document.removeEventListener("mousedown",this._onMousedown,Wd),document.removeEventListener("touchstart",this._onTouchstart,Wd))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xu),d.LFG(d.R0b),d.LFG(le),d.LFG(bv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cx=new d.OlP("cdk-focus-monitor-default-options"),Oc=Ga({passive:!0,capture:!0});let QE=(()=>{class n{constructor(t,i,r,s,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new D.x,this._rootNodeFocusAndBlurListener=c=>{const f=Us(c),y="focus"===c.type?this._onFocus:this._onBlur;for(let w=f;w;w=w.parentElement)y.call(this,c,w)},this._document=s,this._detectionMode=(null==l?void 0:l.detectionMode)||0}monitor(t,i=!1){const r=Pc(t);if(!this._platform.isBrowser||1!==r.nodeType)return pt(null);const s=function cf(n){if(function Ic(){if(null==Ls){const n="undefined"!=typeof document?document.head:null;Ls=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Ls}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const c={checkChildren:i,subject:new D.x,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){const i=Pc(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Pc(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,f])=>this._originChanged(c,i,f)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Us(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Oc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Oc)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(If(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Oc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Oc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(xu),d.LFG(vx),d.LFG(le,8),d.LFG(Cx,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wv="cdk-high-contrast-black-on-white",Ev="cdk-high-contrast-white-on-black",xf="cdk-high-contrast-active";let JE=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(xf),t.remove(wv),t.remove(Ev),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(xf),t.add(wv)):2===i&&(t.add(xf),t.add(Ev))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xu),d.LFG(le))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mf{}const ca="*";function Tv(n,e){return{type:7,name:n,definitions:e,options:{}}}function Kd(n,e=null){return{type:4,styles:e,timings:n}}function eC(n,e=null){return{type:2,steps:n,options:e}}function xl(n){return{type:6,styles:n,offset:null}}function Sm(n,e,t){return{type:0,name:n,styles:e,options:t}}function kf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Iv(n){Promise.resolve(null).then(n)}class Pf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Iv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class nC{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?Iv(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,c)=>Math.max(l,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const nn=!1;function iC(n){return new d.vHH(3e3,nn)}function Bx(){return"undefined"!=typeof window&&void 0!==window.document}function cC(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function kl(n){switch(n.length){case 0:return new Pf;case 1:return n[0];default:return new nC(n)}}function Pv(n,e,t,i,r={},s={}){const l=[],c=[];let f=-1,y=null;if(i.forEach(w=>{const C=w.offset,S=C==f,k=S&&y||{};Object.keys(w).forEach(R=>{let j=R,Q=w[R];if("offset"!==R)switch(j=e.normalizePropertyName(j,l),Q){case"!":Q=r[R];break;case ca:Q=s[R];break;default:Q=e.normalizeStyleValue(R,j,Q,l)}k[j]=Q}),S||c.push(k),y=k,f=C}),l.length)throw function xm(n){return new d.vHH(3502,nn)}();return c}function Rv(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Of(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Of(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Of(t,"destroy",n)))}}function Of(n,e,t){const i=t.totalTime,s=dC(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function dC(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function To(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function jx(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let hC=(n,e)=>!1,Hx=(n,e,t)=>[],zx=null;function fC(n){const e=n.parentNode||n.host;return e===zx?null:e}(cC()||"undefined"!=typeof Element)&&(Bx()?(zx=(()=>document.documentElement)(),hC=(n,e)=>{for(;e;){if(e===n)return!0;e=fC(e)}return!1}):hC=(n,e)=>n.contains(e),Hx=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Yd=null,Pl=!1;function km(n){Yd||(Yd=function Gx(){return"undefined"!=typeof document?document.body:null}()||{},Pl=!!Yd.style&&"WebkitAppearance"in Yd.style);let e=!0;return Yd.style&&!function I2(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yd.style,!e&&Pl&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Yd.style)),e}const Ov=hC,Pm=Hx;let Rm=(()=>{class n{validateStyleProperty(t){return km(t)}matchesElement(t,i){return!1}containsElement(t,i){return Ov(t,i)}getParentElement(t){return fC(t)}query(t,i,r){return Pm(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,c=[],f){return new Pf(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Nv=(()=>{class n{}return n.NOOP=new Rm,n})();const Nf="ng-enter",Om="ng-leave",Ff="ng-trigger",Nm=".ng-trigger",pC="ng-animating",Nc=".ng-animating";function Io(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Lf(parseFloat(e[1]),e[2])}function Lf(n,e){return"s"===e?1e3*n:n}function Rl(n,e,t){return n.hasOwnProperty("duration")?n:function Uf(n,e,t){let r,s=0,l="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return e.push(iC()),{duration:0,delay:0,easing:""};r=Lf(parseFloat(c[1]),c[2]);const f=c[3];null!=f&&(s=Lf(parseFloat(f),c[4]));const y=c[5];y&&(l=y)}else r=n;if(!t){let c=!1,f=e.length;r<0&&(e.push(function Sx(){return new d.vHH(3100,nn)}()),c=!0),s<0&&(e.push(function Ax(){return new d.vHH(3101,nn)}()),c=!0),c&&e.splice(f,0,iC())}return{duration:r,delay:s,easing:l}}(n,e,t)}function ha(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ol(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else ha(n,t);return t}function Lv(n,e,t){return t?e+":"+t+";":""}function Fm(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Lv(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Lv(0,Yx(t),n.style[t]));n.setAttribute("style",e)}function Do(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=Um(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),cC()&&Fm(n))}function Fu(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=Um(t);n.style[i]=""}),cC()&&Fm(n))}function Lu(n){return Array.isArray(n)?1==n.length?n[0]:eC(n):n}const Lm=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zx(n){let e=[];if("string"==typeof n){let t;for(;t=Lm.exec(n);)e.push(t[1]);Lm.lastIndex=0}return e}function Vf(n,e,t){const i=n.toString(),r=i.replace(Lm,(s,l)=>{let c=e[l];return e.hasOwnProperty(l)||(t.push(function rC(n){return new d.vHH(3003,nn)}()),c=""),c.toString()});return r==i?n:r}function Bf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Kx=/-+([a-z0-9])/g;function Um(n){return n.replace(Kx,(...e)=>e[1].toUpperCase())}function Yx(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Mx(n){return new d.vHH(3004,nn)}()}}function mC(n,e){return window.getComputedStyle(n)[e]}function e1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function t1(n,e,t){if(":"==n[0]){const f=function vC(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Av(n){return new d.vHH(3016,nn)}()),"* => *"}}(n,t);if("function"==typeof f)return void e.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function lC(n){return new d.vHH(3015,nn)}()),e;const r=i[1],s=i[2],l=i[3];e.push(bC(r,l));"<"==s[0]&&!("*"==r&&"*"==l)&&e.push(bC(l,r))}(i,t,e)):t.push(n),t}const Bm=new Set(["true","1"]),jf=new Set(["false","0"]);function bC(n,e){const t=Bm.has(n)||jf.has(n),i=Bm.has(e)||jf.has(e);return(r,s)=>{let l="*"==n||n==r,c="*"==e||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?Bm.has(n):jf.has(n)),!c&&i&&"boolean"==typeof s&&(c=s?Bm.has(e):jf.has(e)),l&&c}}const EC=new RegExp("s*:selfs*,?","g");function jm(n,e,t,i){return new Qa(n).build(e,t,i)}class Qa{constructor(e){this._driver=e}build(e,t,i){const r=new r1(t);this._resetContextStyleTimingState(r);const s=zs(this,Lu(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function Px(){return new d.vHH(3006,nn)}()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),0==c.type){const f=c,y=f.name;y.toString().split(/\s*,\s*/).forEach(w=>{f.name=w,s.push(this.visitState(f,t))}),f.name=y}else if(1==c.type){const f=this.visitTransition(c,t);i+=f.queryCount,r+=f.depCount,l.push(f)}else t.errors.push(function Vt(){return new d.vHH(3007,nn)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(c=>{if(Hf(c)){const f=c;Object.keys(f).forEach(y=>{Zx(f[y]).forEach(w=>{l.hasOwnProperty(w)||s.add(w)})})}}),s.size&&(Bf(s.values()),t.errors.push(function sC(n,e){return new d.vHH(3008,nn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=zs(this,Lu(e.animation),t);return{type:1,matchers:e1(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Fc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>zs(this,i,t)),options:Fc(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const c=zs(this,l,t);return r=Math.max(r,t.currentTime),c});return t.currentTime=r,{type:3,steps:s,options:Fc(e.options)}}visitAnimate(e,t){const i=function s1(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return jv(Rl(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=jv(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Rl(t,e);return jv(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:xl({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,c=!1;if(!l){c=!0;const y={};i.easing&&(y.easing=i.easing),l=xl(y)}t.currentTime+=i.duration+i.delay;const f=this.visitStyle(l,t);f.isEmptyStep=c,r=f}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(l=>{"string"==typeof l?l==ca?i.push(l):t.errors.push(function oC(n){return new d.vHH(3002,nn)}()):i.push(l)}):i.push(e.styles);let r=!1,s=null;return i.forEach(l=>{if(Hf(l)){const c=l,f=c.easing;if(f&&(s=f,delete c.easing),!r)for(let y in c)if(c[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&Object.keys(l).forEach(c=>{if(!this._driver.validateStyleProperty(c))return delete l[c],void t.unsupportedCSSPropertiesFound.add(c);const f=t.collectedStyles[t.currentQuerySelector],y=f[c];let w=!0;y&&(s!=r&&s>=y.startTime&&r<=y.endTime&&(t.errors.push(function Am(n,e,t,i,r){return new d.vHH(3010,nn)}()),w=!1),s=y.startTime),w&&(f[c]={startTime:s,endTime:r}),t.options&&function Wx(n,e,t){const i=e.params||{},r=Zx(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function xx(n){return new d.vHH(3001,nn)}())})}(l[c],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function da(){return new d.vHH(3011,nn)}()),i;let s=0;const l=[];let c=!1,f=!1,y=0;const w=e.steps.map(pe=>{const Me=this._makeStyleAst(pe,t);let Ue=null!=Me.offset?Me.offset:function S2(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Hf(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Hf(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Me.styles),Ne=0;return null!=Ue&&(s++,Ne=Me.offset=Ue),f=f||Ne<0||Ne>1,c=c||Ne<y,y=Ne,l.push(Ne),Me});f&&t.errors.push(function aC(){return new d.vHH(3012,nn)}()),c&&t.errors.push(function Ox(){return new d.vHH(3200,nn)}());const C=e.steps.length;let S=0;s>0&&s<C?t.errors.push(function Dv(){return new d.vHH(3202,nn)}()):0==s&&(S=1/(C-1));const k=C-1,R=t.currentTime,j=t.currentAnimateTimings,Q=j.duration;return w.forEach((pe,Me)=>{const Ue=S>0?Me==k?1:S*Me:l[Me],Ne=Ue*Q;t.currentTime=R+j.delay+Ne,j.duration=Ne,this._validateStyleAst(pe,t),pe.offset=Ue,i.styles.push(pe)}),i}visitReference(e,t){return{type:8,animation:zs(this,Lu(e.animation),t),options:Fc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Fc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Fc(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function Bv(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(EC,"")),n=n.replace(/@\*/g,Nm).replace(/@\w+/g,t=>Nm+"-"+t.substr(1)).replace(/:animating/g,Nc),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,To(t.collectedStyles,t.currentQuerySelector,{});const c=zs(this,Lu(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:c,originalSelector:e.selector,options:Fc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ml(){return new d.vHH(3013,nn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Rl(e.timings,t.errors,!0);return{type:12,animation:zs(this,Lu(e.animation),t),timings:i,options:null}}}class r1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hf(n){return!Array.isArray(n)&&"object"==typeof n}function Fc(n){return n?(n=ha(n)).params&&(n.params=function n1(n){return n?ha(n):null}(n.params)):n={},n}function jv(n,e,t){return{duration:n,delay:e,easing:t}}function zf(n,e,t,i,r,s,l=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:c}}class Hm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Hv=new RegExp(":enter","g"),zv=new RegExp(":leave","g");function Gf(n,e,t,i,r,s={},l={},c,f,y=[]){return(new TC).buildKeyframes(n,e,t,i,r,s,l,c,f,y)}class TC{buildKeyframes(e,t,i,r,s,l,c,f,y,w=[]){y=y||new Hm;const C=new IC(e,t,y,r,s,w,[]);C.options=f,C.currentTimeline.setStyles([l],null,C.errors,f),zs(this,i,C);const S=C.timelines.filter(k=>k.containsAnimation());if(Object.keys(c).length){let k;for(let R=S.length-1;R>=0;R--){const j=S[R];if(j.element===t){k=j;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([c],null,C.errors,f)}return S.length?S.map(k=>k.buildKeyframes()):[zf(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?Io(i.duration):null,c=null!=i.delay?Io(i.delay):null;return 0!==l&&e.forEach(f=>{const y=t.appendInstructionToTimeline(f,l,c);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),zs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Gv);const l=Io(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>zs(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Io(e.options.delay):0;e.steps.forEach(l=>{const c=t.createSubContext(e.options);s&&c.delayNextStep(s),zs(this,l,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Rl(t.params?Vf(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,c=t.createSubContext().currentTimeline;c.easing=i.easing,e.styles.forEach(f=>{c.forwardTime((f.offset||0)*s),c.setStyles(f.styles,f.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Io(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gv);let l=i;const c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=c.length;let f=null;c.forEach((y,w)=>{t.currentQueryIndex=w;const C=t.createSubContext(e.options,y);s&&C.delayNextStep(s),y===t.element&&(f=C.currentTimeline),zs(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),c=l*(t.currentQueryTotal-1);let f=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=c-f;break;case"full":f=i.currentStaggerTime}const w=t.currentTimeline;f&&w.delayNextStep(f);const C=w.currentTime;zs(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const Gv={};class IC{constructor(e,t,i,r,s,l,c,f){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new Qd(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Io(i.duration)),null!=i.delay&&(r.delay=Io(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(c=>{(!t||!l.hasOwnProperty(c))&&(l[c]=Vf(s[c],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new IC(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Gv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new A2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let c=[];if(r&&c.push(this.element),e.length>0){e=(e=e.replace(Hv,"."+this._enterClassName)).replace(zv,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),c.push(...y)}return!s&&0==c.length&&l.push(function Sv(n){return new d.vHH(3014,nn)}()),c}}class Qd{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Qd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ca,this._currentKeyframe[t]=ca}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},l=function SC(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=ca})):Ol(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(l).forEach(c=>{const f=Vf(l[c],s,i);this._pendingStyles[c]=f,this._localTimelineStyles.hasOwnProperty(c)||(this._backFill[c]=this._globalTimelineStyles.hasOwnProperty(c)?this._globalTimelineStyles[c]:ca),this._updateStyle(c,f)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,f)=>{const y=Ol(c,!0);Object.keys(y).forEach(w=>{const C=y[w];"!"==C?e.add(w):C==ca&&t.add(w)}),i||(y.offset=f/this.duration),r.push(y)});const s=e.size?Bf(e.values()):[],l=t.size?Bf(t.values()):[];if(i){const c=r[0],f=ha(c);c.offset=0,f.offset=1,r=[c,f]}return zf(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class A2 extends Qd{constructor(e,t,i,r,s,l,c=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,c=t/l,f=Ol(e[0],!1);f.offset=0,s.push(f);const y=Ol(e[0],!1);y.offset=DC(c),s.push(y);const w=e.length-1;for(let C=1;C<=w;C++){let S=Ol(e[C],!1);S.offset=DC((t+S.offset*i)/l),s.push(S)}i=l,t=0,r="",e=s}return zf(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function DC(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Gm{}class AC extends Gm{normalizePropertyName(e,t){return Um(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(Nl[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function kx(n,e){return new d.vHH(3005,nn)}())}return l+s}}const Nl=(()=>function $m(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xC(n,e,t,i,r,s,l,c,f,y,w,C,S){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:c,queriedElements:f,preStyleProps:y,postStyleProps:w,totalTime:C,errors:S}}const $v={};class c1{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function qv(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],l=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):l}build(e,t,i,r,s,l,c,f,y,w){const C=[],S=this.ast.options&&this.ast.options.params||$v,R=this.buildStyles(i,c&&c.params||$v,C),j=f&&f.params||$v,Q=this.buildStyles(r,j,C),pe=new Set,Me=new Map,Ue=new Map,Ne="void"===r,at={params:Object.assign(Object.assign({},S),j)},lt=w?[]:Gf(e,t,this.ast.animation,s,l,R,Q,at,y,C);let Ft=0;if(lt.forEach(Fn=>{Ft=Math.max(Fn.duration+Fn.delay,Ft)}),C.length)return xC(t,this._triggerName,i,r,Ne,R,Q,[],[],Me,Ue,Ft,C);lt.forEach(Fn=>{const ts=Fn.element,Si=To(Me,ts,{});Fn.preStyleProps.forEach(mr=>Si[mr]=!0);const Qh=To(Ue,ts,{});Fn.postStyleProps.forEach(mr=>Qh[mr]=!0),ts!==t&&pe.add(ts)});const An=Bf(pe.values());return xC(t,this._triggerName,i,r,Ne,R,Q,lt,An,Me,Ue,Ft)}}class MC{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=ha(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!=l&&(r[s]=l)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const l=s;Object.keys(l).forEach(c=>{let f=l[c];f.length>1&&(f=Vf(f,r,t));const y=this.normalizer.normalizePropertyName(c,t);f=this.normalizer.normalizeStyleValue(c,y,f,t),i[y]=f})}}),i}}class $f{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new MC(r.style,r.options&&r.options.params||{},i)}),qm(this.states,"true","1"),qm(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new c1(e,r,this.states))}),this.fallbackTransition=function d1(n,e,t){return new c1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,c)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function qm(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const kC=new Hm;class PC{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=jm(this._driver,t,i,[]);if(i.length)throw function Mm(n){return new d.vHH(3503,nn)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=Pv(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let l;const c=new Map;if(s?(l=Gf(this._driver,t,s,Nf,Om,{},{},i,kC,r),l.forEach(w=>{const C=To(c,w.element,{});w.postStyleProps.forEach(S=>C[S]=null)})):(r.push(function xv(){return new d.vHH(3300,nn)}()),l=[]),r.length)throw function Mv(n){return new d.vHH(3504,nn)}();c.forEach((w,C)=>{Object.keys(w).forEach(S=>{w[S]=this._driver.computeStyle(C,S,ca)})});const y=kl(l.map(w=>{const C=c.get(w.element);return this._buildPlayer(w,{},C)}));return this._playersById[e]=y,y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function kv(n){return new d.vHH(3301,nn)}();return t}listen(e,t,i,r){const s=dC(t,"","","");return Rv(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Zv="ng-animate-queued",qf="ng-animate-disabled",Jd=[],Kv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},g1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},So="__ng_removed";class Uu{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function OC(n){return null!=n?n:null}(i?e.value:e),i){const s=ha(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Wf="void",Yv=new Uu(Wf);class m1{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function C2(n,e){return new d.vHH(3302,nn)}();if(null==i||0==i.length)throw function Nx(n){return new d.vHH(3303,nn)}();if(!function NC(n){return"start"==n||"done"==n}(i))throw function Fx(n,e){return new d.vHH(3400,nn)}();const s=To(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const c=To(this._engine.statesByElement,e,{});return c.hasOwnProperty(t)||(xo(e,Ff),xo(e,Ff+"-"+t),c[t]=Yv),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(l);f>=0&&s.splice(f,1),this._triggers[t]||delete c[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Lx(n){return new d.vHH(3401,nn)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new Ao(this.id,t,e);let c=this._engine.statesByElement.get(e);c||(xo(e,Ff),xo(e,Ff+"-"+t),this._engine.statesByElement.set(e,c={}));let f=c[t];const y=new Uu(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&y.absorbOptions(f.options),c[t]=y,f||(f=Yv),y.value!==Wf&&f.value===y.value){if(!function y1(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(f.params,y.params)){const j=[],Q=s.matchStyles(f.value,f.params,j),pe=s.matchStyles(y.value,y.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Fu(e,Q),Do(e,pe)})}return}const S=To(this._engine.playersByElement,e,[]);S.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let k=s.matchTransition(f.value,y.value,e,y.params),R=!1;if(!k){if(!r)return;k=s.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:k,fromState:f,toState:y,player:l,isFallbackTransition:R}),R||(xo(e,Zv),l.onStart(()=>{Xd(e,Zv)})),l.onDone(()=>{let j=this.players.indexOf(l);j>=0&&this.players.splice(j,1);const Q=this._engine.playersByElement.get(e);if(Q){let pe=Q.indexOf(l);pe>=0&&Q.splice(pe,1)}}),this.players.push(l),S.push(l),l}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Nm,!0);i.forEach(r=>{if(r[So])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const c=[];if(Object.keys(s).forEach(f=>{if(l.set(f,s[f].value),this._triggers[f]){const y=this.trigger(e,f,Wf,r);y&&c.push(y)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&kl(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const f=this._triggers[l].fallbackTransition,y=i[l]||Yv,w=new Uu(Wf),C=new Ao(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:f,fromState:y,toState:w,player:C,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[So];(!s||s===Kv)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){xo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(c=>{if(c.name==i.triggerName){const f=dC(s,i.triggerName,i.fromState.value,i.toState.value);f._data=e,Rv(i.player,c.phase,f,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class _1{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new m1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let l=!1;if(void 0!==this.driver.getParentElement){let c=this.driver.getParentElement(t);for(;c;){const f=r.get(c);if(f){const y=i.indexOf(f);i.splice(y+1,0,e),l=!0;break}c=this.driver.getParentElement(c)}}else for(let c=s;c>=0;c--)if(this.driver.containsElement(i[c].hostElement,t)){i.splice(c+1,0,e),l=!0;break}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const l=i[r[s]].namespaceId;if(l){const c=this._fetchNamespace(l);c&&t.add(c)}}}return t}trigger(e,t,i,r){if(Zf(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Zf(t))return;const s=t[So];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xo(e,qf)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xd(e,qf))}removeNode(e,t,i,r){if(Zf(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[So]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Zf(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Nm,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Nc,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return kl(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[So];if(i&&i.setForRemoval){if(e[So]=Kv,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(qf))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)xo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?kl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Ux(n){return new d.vHH(3402,nn)}()}_flushAnimations(e,t){const i=new Hm,r=[],s=new Map,l=[],c=new Map,f=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(gt=>{w.add(gt);const Mt=this.driver.query(gt,".ng-animate-queued",!0);for(let Lt=0;Lt<Mt.length;Lt++)w.add(Mt[Lt])});const C=this.bodyNode,S=Array.from(this.statesByElement.keys()),k=LC(S,this.collectedEnterElements),R=new Map;let j=0;k.forEach((gt,Mt)=>{const Lt=Nf+j++;R.set(Mt,Lt),gt.forEach(yn=>xo(yn,Lt))});const Q=[],pe=new Set,Me=new Set;for(let gt=0;gt<this.collectedLeaveElements.length;gt++){const Mt=this.collectedLeaveElements[gt],Lt=Mt[So];Lt&&Lt.setForRemoval&&(Q.push(Mt),pe.add(Mt),Lt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(yn=>pe.add(yn)):Me.add(Mt))}const Ue=new Map,Ne=LC(S,Array.from(pe));Ne.forEach((gt,Mt)=>{const Lt=Om+j++;Ue.set(Mt,Lt),gt.forEach(yn=>xo(yn,Lt))}),e.push(()=>{k.forEach((gt,Mt)=>{const Lt=R.get(Mt);gt.forEach(yn=>Xd(yn,Lt))}),Ne.forEach((gt,Mt)=>{const Lt=Ue.get(Mt);gt.forEach(yn=>Xd(yn,Lt))}),Q.forEach(gt=>{this.processLeaveNode(gt)})});const at=[],lt=[];for(let gt=this._namespaceList.length-1;gt>=0;gt--)this._namespaceList[gt].drainQueuedTransitions(t).forEach(Lt=>{const yn=Lt.player,Fr=Lt.element;if(at.push(yn),this.collectedEnterElements.length){const ro=Fr[So];if(ro&&ro.setForMove){if(ro.previousTriggersValues&&ro.previousTriggersValues.has(Lt.triggerName)){const Fg=ro.previousTriggersValues.get(Lt.triggerName),Xh=this.statesByElement.get(Lt.element);Xh&&Xh[Lt.triggerName]&&(Xh[Lt.triggerName].value=Fg)}return void yn.destroy()}}const rc=!C||!this.driver.containsElement(C,Fr),Ia=Ue.get(Fr),Jh=R.get(Fr),vi=this._buildInstruction(Lt,i,Jh,Ia,rc);if(vi.errors&&vi.errors.length)return void lt.push(vi);if(rc)return yn.onStart(()=>Fu(Fr,vi.fromStyles)),yn.onDestroy(()=>Do(Fr,vi.toStyles)),void r.push(yn);if(Lt.isFallbackTransition)return yn.onStart(()=>Fu(Fr,vi.fromStyles)),yn.onDestroy(()=>Do(Fr,vi.toStyles)),void r.push(yn);const v8=[];vi.timelines.forEach(ro=>{ro.stretchStartingKeyframe=!0,this.disabledNodes.has(ro.element)||v8.push(ro)}),vi.timelines=v8,i.append(Fr,vi.timelines),l.push({instruction:vi,player:yn,element:Fr}),vi.queriedElements.forEach(ro=>To(c,ro,[]).push(yn)),vi.preStyleProps.forEach((ro,Fg)=>{const Xh=Object.keys(ro);if(Xh.length){let Lg=f.get(Fg);Lg||f.set(Fg,Lg=new Set),Xh.forEach(_2=>Lg.add(_2))}}),vi.postStyleProps.forEach((ro,Fg)=>{const Xh=Object.keys(ro);let Lg=y.get(Fg);Lg||y.set(Fg,Lg=new Set),Xh.forEach(_2=>Lg.add(_2))})});if(lt.length){const gt=[];lt.forEach(Mt=>{gt.push(function T2(n,e){return new d.vHH(3505,nn)}())}),at.forEach(Mt=>Mt.destroy()),this.reportError(gt)}const Ft=new Map,An=new Map;l.forEach(gt=>{const Mt=gt.element;i.has(Mt)&&(An.set(Mt,Mt),this._beforeAnimationBuild(gt.player.namespaceId,gt.instruction,Ft))}),r.forEach(gt=>{const Mt=gt.element;this._getPreviousPlayers(Mt,!1,gt.namespaceId,gt.triggerName,null).forEach(yn=>{To(Ft,Mt,[]).push(yn),yn.destroy()})});const Fn=Q.filter(gt=>VC(gt,f,y)),ts=new Map;FC(ts,this.driver,Me,y,ca).forEach(gt=>{VC(gt,f,y)&&Fn.push(gt)});const Qh=new Map;k.forEach((gt,Mt)=>{FC(Qh,this.driver,new Set(gt),f,"!")}),Fn.forEach(gt=>{const Mt=ts.get(gt),Lt=Qh.get(gt);ts.set(gt,Object.assign(Object.assign({},Mt),Lt))});const mr=[],Hy=[],y8={};l.forEach(gt=>{const{element:Mt,player:Lt,instruction:yn}=gt;if(i.has(Mt)){if(w.has(Mt))return Lt.onDestroy(()=>Do(Mt,yn.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(yn.totalTime),void r.push(Lt);let Fr=y8;if(An.size>1){let Ia=Mt;const Jh=[];for(;Ia=Ia.parentNode;){const vi=An.get(Ia);if(vi){Fr=vi;break}Jh.push(Ia)}Jh.forEach(vi=>An.set(vi,Fr))}const rc=this._buildAnimation(Lt.namespaceId,yn,Ft,s,Qh,ts);if(Lt.setRealPlayer(rc),Fr===y8)mr.push(Lt);else{const Ia=this.playersByElement.get(Fr);Ia&&Ia.length&&(Lt.parentPlayer=kl(Ia)),r.push(Lt)}}else Fu(Mt,yn.fromStyles),Lt.onDestroy(()=>Do(Mt,yn.toStyles)),Hy.push(Lt),w.has(Mt)&&r.push(Lt)}),Hy.forEach(gt=>{const Mt=s.get(gt.element);if(Mt&&Mt.length){const Lt=kl(Mt);gt.setRealPlayer(Lt)}}),r.forEach(gt=>{gt.parentPlayer?gt.syncPlayerEvents(gt.parentPlayer):gt.destroy()});for(let gt=0;gt<Q.length;gt++){const Mt=Q[gt],Lt=Mt[So];if(Xd(Mt,Om),Lt&&Lt.hasAnimation)continue;let yn=[];if(c.size){let rc=c.get(Mt);rc&&rc.length&&yn.push(...rc);let Ia=this.driver.query(Mt,Nc,!0);for(let Jh=0;Jh<Ia.length;Jh++){let vi=c.get(Ia[Jh]);vi&&vi.length&&yn.push(...vi)}}const Fr=yn.filter(rc=>!rc.destroyed);Fr.length?UC(this,Mt,Fr):this.processLeaveNode(Mt)}return Q.length=0,mr.forEach(gt=>{this.players.push(gt),gt.onDone(()=>{gt.destroy();const Mt=this.players.indexOf(gt);this.players.splice(Mt,1)}),gt.play()}),mr}elementContainsData(e,t){let i=!1;const r=t[So];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const c=this.playersByQueriedElement.get(e);c&&(l=c)}else{const c=this.playersByElement.get(e);if(c){const f=!s||s==Wf;c.forEach(y=>{y.queued||!f&&y.triggerName!=r||l.push(y)})}}return(i||r)&&(l=l.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const y=f.element,w=y!==s,C=To(i,y,[]);this._getPreviousPlayers(y,w,l,c,t.toState).forEach(k=>{const R=k.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),k.destroy(),C.push(k)})}Fu(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const c=t.triggerName,f=t.element,y=[],w=new Set,C=new Set,S=t.timelines.map(R=>{const j=R.element;w.add(j);const Q=j[So];if(Q&&Q.removedBeforeQueried)return new Pf(R.duration,R.delay);const pe=j!==f,Me=function x2(n){const e=[];return Xv(n,e),e}((i.get(j)||Jd).map(Ft=>Ft.getRealPlayer())).filter(Ft=>!!Ft.element&&Ft.element===j),Ue=s.get(j),Ne=l.get(j),at=Pv(0,this._normalizer,0,R.keyframes,Ue,Ne),lt=this._buildPlayer(R,at,Me);if(R.subTimeline&&r&&C.add(j),pe){const Ft=new Ao(e,c,j);Ft.setRealPlayer(lt),y.push(Ft)}return lt});y.forEach(R=>{To(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function Qv(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,R.element,R))}),w.forEach(R=>xo(R,pC));const k=kl(S);return k.onDestroy(()=>{w.forEach(R=>Xd(R,pC)),Do(f,t.toStyles)}),C.forEach(R=>{To(r,R,[]).push(k)}),k}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Pf(e.duration,e.delay)}}class Ao{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Pf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>Rv(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){To(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Zf(n){return n&&1===n.nodeType}function Jv(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function FC(n,e,t,i,r){const s=[];t.forEach(f=>s.push(Jv(f)));const l=[];i.forEach((f,y)=>{const w={};f.forEach(C=>{const S=w[C]=e.computeStyle(y,C,r);(!S||0==S.length)&&(y[So]=g1,l.push(y))}),n.set(y,w)});let c=0;return t.forEach(f=>Jv(f,s[c++])),l}function LC(n,e){const t=new Map;if(n.forEach(c=>t.set(c,[])),0==e.length)return t;const r=new Set(e),s=new Map;function l(c){if(!c)return 1;let f=s.get(c);if(f)return f;const y=c.parentNode;return f=t.has(y)?y:r.has(y)?1:l(y),s.set(c,f),f}return e.forEach(c=>{const f=l(c);1!==f&&t.get(f).push(c)}),t}function xo(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Xd(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function UC(n,e,t){kl(t).onDone(()=>n.processLeaveNode(e))}function Xv(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof nC?Xv(i.players,e):e.push(i)}}function VC(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class e0{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new _1(e,t,i),this._timelineEngine=new PC(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let c=this._triggerCache[l];if(!c){const f=[],w=jm(this._driver,s,f,[]);if(f.length)throw function E2(n,e){return new d.vHH(3404,nn)}();c=function Wv(n,e,t){return new $f(n,e,t)}(r,w,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(t,r,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=jx(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,c]=jx(i);return this._timelineEngine.listen(l,t,c,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let t0=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Do(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Do(this._element,this._initialStyles),this._endStyles&&(Do(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fu(this._element,this._endStyles),this._endStyles=null),Do(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function n0(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];BC(r)&&(e=e||{},e[r]=n[r])}return e}function BC(n){return"display"===n||"position"===n}class r0{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:mC(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class k2{validateStyleProperty(e){return km(e)}matchesElement(e,t){return!1}containsElement(e,t){return Ov(e,t)}getParentElement(e){return fC(e)}query(e,t,i){return Pm(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const y={},w=l.filter(S=>S instanceof r0);(function Qx(n,e){return 0===n||0===e})(i,r)&&w.forEach(S=>{let k=S.currentSnapshot;Object.keys(k).forEach(R=>y[R]=k[R])}),t=function Hs(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],l=[];if(i.forEach(c=>{s.hasOwnProperty(c)||l.push(c),s[c]=t[c]}),l.length)for(var r=1;r<e.length;r++){let c=e[r];l.forEach(function(f){c[f]=mC(n,f)})}}return e}(e,t=t.map(S=>Ol(S,!1)),y);const C=function M2(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=n0(e[0]),e.length>1&&(i=n0(e[e.length-1]))):e&&(t=n0(e)),t||i?new t0(n,t,i):null}(e,t);return new r0(e,t,f,C)}}let fa=(()=>{class n extends Mf{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?eC(t):t;return s0(this._renderer,null,i,"register",[r]),new P2(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(le))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class P2 extends class XE{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new R2(this._id,e,t||{},this._renderer)}}class R2{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return s0(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function s0(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const o0="@.disabled";let v1=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{const c=null==l?void 0:l.parentNode(s);c&&l.removeChild(c,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new b1("",s,this.engine),this._rendererCache.set(s,w)),w}const l=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,t);const f=w=>{Array.isArray(w)?w.forEach(f):this.engine.registerTrigger(l,c,t,w.name,w)};return i.data.animation.forEach(f),new jC(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,c]=s;l(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(e0),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class b1{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==o0?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class jC extends b1{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==o0?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function a0(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),l="";return"@"!=s.charAt(0)&&([s,l]=function w1(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(e,t,i)}}let l0=(()=>{class n extends e0{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(le),d.LFG(Nv),d.LFG(Gm))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Yf=new d.OlP("AnimationModuleType"),HC=[{provide:Mf,useClass:fa},{provide:Gm,useFactory:function E1(){return new AC}},{provide:e0,useClass:l0},{provide:d.FYo,useFactory:function C1(n,e,t){return new v1(n,e,t)},deps:[Zo,e0,d.R0b]}],zC=[{provide:Nv,useFactory:()=>new k2},{provide:Yf,useValue:"BrowserAnimations"},...HC],T1=[{provide:Nv,useClass:Rm},{provide:Yf,useValue:"NoopAnimations"},...HC];let Wm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?T1:zC}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:zC,imports:[Na]}),n})();const Ym=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function Lc(){return!0}});let mi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Dl(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(JE),d.LFG(Ym,8),d.LFG(le))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[za],za]}),n})();function Uc(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ya(e)}}}function Vc(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function eh(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ya(e)}}}class N1{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const u0={enterDuration:225,exitDuration:150},Qm=Ga({passive:!0}),WC=["mousedown","touchstart"],ZC=["mouseup","mouseleave","touchend","touchcancel"];class B2{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Pc(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},u0),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function c0(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),c=e-r.left,f=t-r.top,y=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=c-l+"px",w.style.top=f-l+"px",w.style.height=2*l+"px",w.style.width=2*l+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(w),function L1(n){window.getComputedStyle(n).getPropertyValue("opacity")}(w),w.style.transform="scale(1)";const C=new N1(this,w,i);return C.state=0,this._activeRipples.add(C),i.persistent||(this._mostRecentTransientRipple=C),this._runTimeoutOutsideZone(()=>{const S=C===this._mostRecentTransientRipple;C.state=1,!i.persistent&&(!S||!this._isPointerDown)&&C.fadeOut()},y),C}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},u0),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Pc(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(WC))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ZC),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=ZE(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!vv(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Qm)})})}_removeTriggerEvents(){this._triggerElement&&(WC.forEach(e=>{this._triggerElement.removeEventListener(e,this,Qm)}),this._pointerUpEventsRegistered&&ZC.forEach(e=>{this._triggerElement.removeEventListener(e,this,Qm)}))}}const d0=new d.OlP("mat-ripple-global-options");let KC=(()=>{class n{constructor(t,i,r,s,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new B2(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(xu),d.Y36(d0,8),d.Y36(Yf,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),j2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[mi],mi]}),n})();const H1=["mat-button",""],z1=["*"],YC=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],$1=Vc(Uc(eh(class{constructor(n){this._elementRef=n}})));let rp=(()=>{class n extends $1{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of YC)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(QE),d.Y36(Yf,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&d.Gf(KC,5),2&t){let r;d.iGM(r=d.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(d.uIk("disabled",i.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:H1,ngContentSelectors:z1,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),d.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[KC],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),f0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[j2,mi],mi]}),n})();function K2(n,e){1&n&&(d.O4$(),d._UZ(0,"line",9))}function p0(n,e){1&n&&(d.O4$(),d.TgZ(0,"g",17),d._UZ(1,"path",18),d.TgZ(2,"g",19),d._UZ(3,"ellipse",20)(4,"ellipse",21),d.qZA(),d.TgZ(5,"g",22),d._UZ(6,"ellipse",23)(7,"ellipse",24),d.qZA(),d._UZ(8,"path",25),d.qZA())}function W1(n,e){1&n&&(d.O4$(),d._UZ(0,"path",26))}function Y2(n,e){1&n&&(d.O4$(),d._UZ(0,"path",27))}function sp(n,e){1&n&&(d.O4$(),d._UZ(0,"path",28))}function QC(n,e){1&n&&(d.O4$(),d._UZ(0,"path",29))}function g0(n,e){1&n&&(d.O4$(),d._UZ(0,"path",30))}function m0(n,e){if(1&n&&(d.O4$(),d.TgZ(0,"g",10),d.YNc(1,p0,9,0,"g",11),d.YNc(2,W1,1,0,"path",12),d.YNc(3,Y2,1,0,"path",13),d.YNc(4,sp,1,0,"path",14),d.YNc(5,QC,1,0,"path",15),d.YNc(6,g0,1,0,"path",16),d.qZA()),2&n){const t=d.oxw();d.ekj("man-bounce",0===t.mistakesRemaining),d.xp6(1),d.Q6J("ngIf",t.mistakesRemaining<=6),d.xp6(1),d.Q6J("ngIf",t.mistakesRemaining<=5),d.xp6(1),d.Q6J("ngIf",t.mistakesRemaining<=4),d.xp6(1),d.Q6J("ngIf",t.mistakesRemaining<=3),d.xp6(1),d.Q6J("ngIf",t.mistakesRemaining<=2),d.xp6(1),d.Q6J("ngIf",t.mistakesRemaining<=1)}}function Z1(n,e){1&n&&(d.O4$(),d.TgZ(0,"g",31),d._UZ(1,"path",32),d.TgZ(2,"g",33)(3,"g")(4,"g"),d._UZ(5,"path",34),d.qZA()()(),d.TgZ(6,"g",35)(7,"g")(8,"g"),d._UZ(9,"path",36),d.qZA()()(),d.TgZ(10,"g",37)(11,"g")(12,"g"),d._UZ(13,"path",38),d.qZA()()(),d.TgZ(14,"g",39)(15,"g")(16,"g"),d._UZ(17,"path",40),d.qZA()()(),d.TgZ(18,"g",41),d._UZ(19,"path",42),d.TgZ(20,"g",43),d._UZ(21,"ellipse",44)(22,"ellipse",45),d.qZA(),d.TgZ(23,"g",46),d._UZ(24,"ellipse",47)(25,"ellipse",48),d.qZA(),d.TgZ(26,"g")(27,"g")(28,"g"),d._UZ(29,"path",49),d.qZA()()()()())}let Jm=(()=>{class n{constructor(){this.guesses=[],this.question="",this.gameFinished=new d.vpe,this.MAX_MISTAKES=7,this.success=!1,this.mistakesRemaining=this.MAX_MISTAKES}ngOnChanges(t){var i,r;(null===(i=null==t?void 0:t.question)||void 0===i?void 0:i.currentValue)&&(null==t?void 0:t.question.currentValue)!==(null==t?void 0:t.question.previousValue)&&(this.mistakesRemaining=this.MAX_MISTAKES,this.success=!1);const s=null===(r=null==t?void 0:t.guesses)||void 0===r?void 0:r.currentValue;if(s&&s.length&&s!==t.guesses.previousValue){const l=[...s].pop();this.checkGuess(l)}}checkGuess(t){let i=!0;this.mistakesRemaining-=this.wasGuessAMistake(t);for(let r=0;r<this.question.length;r++)if(!this.guesses.find(s=>s.toLowerCase()===this.question[r].toLowerCase())){i=!1;break}this.success=i,(this.success||0===this.mistakesRemaining)&&this.gameFinished.emit(this.success)}wasGuessAMistake(t){for(let i=0;i<this.question.length;i++)if(this.question[i].toLowerCase()===t.toLowerCase())return 0;return 1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-hangman-display"]],inputs:{guesses:"guesses",question:"question"},outputs:{gameFinished:"gameFinished"},features:[d.TTD],decls:10,vars:4,consts:[["version","1.1","id","hangman","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","250px","height","350px","viewBox","0 0 250 350","enable-background","new 0 0 250 350",0,"xml","space","preserve"],["id","base1","fill","none","stroke","#000000","stroke-width","10","stroke-miterlimit","10","x1","28","y1","326.034","x2","219","y2","326.034"],["id","base2","fill","none","stroke","#000000","stroke-width","8.6093","stroke-miterlimit","10","x1","171.5","y1","30","x2","171.5","y2","324"],["id","base3","fill","none","stroke","#000000","stroke-width","8","stroke-miterlimit","10","x1","70.5","y1","34.173","x2","173.5","y2","34.173"],["id","base4","fill","none","stroke","#000000","stroke-width","4.505","stroke-miterlimit","10","x1","72.797","y1","59.357","x2","72.797","y2","35.336"],["id","base4Longer","fill","none","stroke","#000000","stroke-width","4.505","stroke-miterlimit","10","x1","72.797","y1","79.357","x2","72.797","y2","35.336",4,"ngIf"],["id","man",3,"man-bounce",4,"ngIf"],["id","happy","class","man-bounce",4,"ngIf"],[1,"mistakes-count"],["id","base4Longer","fill","none","stroke","#000000","stroke-width","4.505","stroke-miterlimit","10","x1","72.797","y1","79.357","x2","72.797","y2","35.336"],["id","man"],["id","base5",4,"ngIf"],["id","base6","fill","none","stroke","#000000","stroke-width","4","stroke-miterlimit","10","d","M73.733,120.504\n           \t\tc2.231,6.518,5.267,22.163,3.6,32.496c-1.554,9.634-1.231,15.06-5,21.56",4,"ngIf"],["id","base7","d","M75.065,130.611c-2.748,0.216-7.625,0.003-13.268-1.197c-5.647-1.194-12.057-3.245-17.699-6.816\n     \t\t\t\t\tc-2.746-1.925-4.967-4.29-6.758-6.628c-1.802-2.339-3.227-4.642-4.368-6.665c-2.25-4.065-3.493-6.958-3.382-7.609\n     \t\t\t\t\tc0.755,0.225,2.689,3.042,5.422,6.985c1.384,1.957,2.989,4.193,4.915,6.367c1.928,2.155,4.167,4.3,6.78,5.787\n     \t\t\t\t\tc0.616,0.404,1.385,0.699,2.076,1.052c0.716,0.328,1.402,0.708,2.137,0.996c0.735,0.286,1.468,0.571,2.196,0.854l1.089,0.423\n     \t\t\t\t\tc0.372,0.117,0.741,0.233,1.109,0.349c1.47,0.472,2.91,0.938,4.342,1.259c0.711,0.178,1.409,0.353,2.093,0.523\n     \t\t\t\t\tc0.692,0.13,1.37,0.257,2.03,0.381c0.661,0.116,1.302,0.263,1.928,0.345c0.627,0.077,1.234,0.151,1.819,0.222\n     \t\t\t\t\tc0.585,0.064,1.148,0.158,1.685,0.188c0.537,0.025,1.048,0.048,1.533,0.071c0.484,0.022,0.942,0.042,1.37,0.062\n     \t\t\t\t\tc0.424-0.001,0.811-0.037,1.171-0.052c0.716-0.043,1.308-0.079,1.753-0.106C74.664,128.338,74.586,129.756,75.065,130.611z",4,"ngIf"],["id","base8","d","M76.791,127.418c2.232,0.218,6.497,0.305,11.459-0.534c4.944-0.822,10.628-2.68,15.177-5.905\n     \t\t\t\t\tc4.604-3.196,8.202-7.399,10.665-10.737c2.497-3.362,3.817-5.859,4.319-6.221c0.405,0.705-0.514,3.883-2.889,7.796\n     \t\t\t\t\tc-2.363,3.904-6.216,8.679-11.433,12.199c-5.229,3.551-11.484,5.361-16.645,6.106c-5.191,0.753-9.331,0.568-11.171,0.479\n     \t\t\t\t\tC76.842,129.719,77.054,128.318,76.791,127.418z",4,"ngIf"],["id","base9","d","M74.188,174.161c-2.884,5.522-9.027,17.557-16.091,30.819c-3.535,6.629-7.295,13.566-11.034,20.128\n      \t\t\t\tc-1.871,3.281-3.735,6.468-5.594,9.464c-0.931,1.498-1.862,2.946-2.818,4.328c-0.48,0.691-0.962,1.365-1.486,2.02\n      \t\t\t\tc-0.261,0.327-0.532,0.648-0.84,0.97c-0.162,0.163-0.311,0.317-0.545,0.494c-0.247,0.199-0.53,0.329-0.822,0.43\n      \t\t\t\tc-2.525,0.6-4.865,1.155-6.97,1.655c-2.081,0.483-3.941,0.872-5.512,1.262c-3.148,0.738-5.195,1.113-5.754,1.003\n      \t\t\t\tc0.459-0.436,2.401-1.249,5.45-2.342c1.515-0.565,3.348-1.112,5.402-1.74c2.027-0.599,4.276-1.264,6.702-1.979\n      \t\t\t\tc0.042-0.015,0.078-0.043,0.108-0.073c0.065-0.075,0.185-0.175,0.293-0.313c0.224-0.254,0.46-0.558,0.689-0.876\n      \t\t\t\tc0.462-0.636,0.923-1.324,1.377-2.039c0.914-1.427,1.821-2.953,2.739-4.525c1.833-3.15,3.702-6.51,5.59-9.954\n      \t\t\t\tc3.773-6.891,7.617-14.125,11.197-20.928c7.155-13.607,13.245-25.496,15.272-29.686C71.976,173.459,73.11,174.344,74.188,174.161\n      \t\t\t\tz",4,"ngIf"],["id","base10","d","M74.167,173.943c4.141,7.45,15.448,27.067,25.586,45.385c2.544,4.57,5.031,9.053,7.249,13.303\n     \t\t\t\t\tc1.113,2.117,2.185,4.156,3.201,6.088c0.502,0.969,0.991,1.91,1.464,2.82l0.05,0.111c0.036,0.035,0.096,0.07,0.143,0.105\n     \t\t\t\t\tc0.191,0.129,0.381,0.258,0.569,0.383c0.389,0.268,0.775,0.527,1.189,0.758c3.228,1.914,6.099,3.375,8.164,4.51\n     \t\t\t\t\tc2.076,1.125,3.383,1.904,3.675,2.273c-0.546,0.043-2.137-0.418-4.513-1.316c-2.375-0.924-5.536-2.17-9.177-4.16\n     \t\t\t\t\tc-0.51-0.309-1.029-0.621-1.558-0.941c-0.104-0.037-0.167-0.139-0.222-0.252l-0.181-0.32l-0.242-0.42\n     \t\t\t\t\tc-0.132-0.23-0.266-0.461-0.401-0.693c-0.536-0.932-1.089-1.893-1.657-2.879c-1.124-1.977-2.307-4.059-3.531-6.213\n     \t\t\t\t\tc-2.401-4.322-5.116-8.912-7.771-13.586c-10.665-18.697-21.841-38.367-25.056-43.764\n     \t\t\t\t\tC72.361,175.398,73.718,174.924,74.167,173.943z",4,"ngIf"],["id","base5"],["id","happy1_1_","fill","#FFFFFF","stroke","#000000","stroke-width","4","stroke-miterlimit","10","d","M97.201,82.503\n               \t\t\tc1.314,22.317-10.13,38.146-23.467,38.001c-10.005-0.109-24.204-14.328-24.185-36.664c0.006-7.731,10.014-23.063,23.699-22.835\n               \t\t\tC89.567,61.275,96.746,74.784,97.201,82.503z"],["id","eye1_1_"],["transform","matrix(0.9055 -0.4244 0.4244 0.9055 -28.5286 34.7614)","fill","#FFFFFF","stroke","#000000","stroke-width","2.5082","stroke-miterlimit","10","cx","63.769","cy","81.422","rx","8.082","ry","8.5"],["transform","matrix(0.9055 -0.4245 0.4245 0.9055 -28.5309 34.765)","cx","63.768","cy","81.423","rx","2.012","ry","2.468"],["id","eye2_1_"],["transform","matrix(0.9055 -0.4244 0.4244 0.9055 -26.9988 40.5386)","fill","#FFFFFF","stroke","#000000","stroke-width","3","stroke-miterlimit","10","cx","77.501","cy","80.876","rx","9.667","ry","10.167"],["transform","matrix(0.9054 -0.4245 0.4245 0.9054 -27.0009 40.5437)","cx","77.5","cy","80.875","rx","2.407","ry","2.952"],["d","M60.848,105.121c0.504-1.196,1.583-2.175,2.597-3.033c1.048-0.857,2.18-1.594,3.36-2.237\n         \t\t\t\t\t\tc2.363-1.286,4.941-2.193,7.727-2.618c1.394-0.206,2.848-0.268,4.343-0.126c1.49,0.147,3.043,0.505,4.511,1.258\n         \t\t\t\t\t\tc1.461,0.739,2.814,1.947,3.592,3.468c0.786,1.522,0.965,3.223,0.803,4.823c-0.464-1.205-1.037-2.33-1.798-3.227\n         \t\t\t\t\t\tc-0.757-0.901-1.682-1.539-2.701-1.952c-2.043-0.823-4.472-0.889-6.983-0.685c-2.515,0.216-5.14,0.677-7.785,1.333\n         \t\t\t\t\t\tc-1.322,0.329-2.653,0.703-3.97,1.155c-0.651,0.233-1.312,0.474-1.939,0.769C61.976,104.339,61.345,104.659,60.848,105.121z"],["id","base6","fill","none","stroke","#000000","stroke-width","4","stroke-miterlimit","10","d","M73.733,120.504\n           \t\tc2.231,6.518,5.267,22.163,3.6,32.496c-1.554,9.634-1.231,15.06-5,21.56"],["id","base7","d","M75.065,130.611c-2.748,0.216-7.625,0.003-13.268-1.197c-5.647-1.194-12.057-3.245-17.699-6.816\n     \t\t\t\t\tc-2.746-1.925-4.967-4.29-6.758-6.628c-1.802-2.339-3.227-4.642-4.368-6.665c-2.25-4.065-3.493-6.958-3.382-7.609\n     \t\t\t\t\tc0.755,0.225,2.689,3.042,5.422,6.985c1.384,1.957,2.989,4.193,4.915,6.367c1.928,2.155,4.167,4.3,6.78,5.787\n     \t\t\t\t\tc0.616,0.404,1.385,0.699,2.076,1.052c0.716,0.328,1.402,0.708,2.137,0.996c0.735,0.286,1.468,0.571,2.196,0.854l1.089,0.423\n     \t\t\t\t\tc0.372,0.117,0.741,0.233,1.109,0.349c1.47,0.472,2.91,0.938,4.342,1.259c0.711,0.178,1.409,0.353,2.093,0.523\n     \t\t\t\t\tc0.692,0.13,1.37,0.257,2.03,0.381c0.661,0.116,1.302,0.263,1.928,0.345c0.627,0.077,1.234,0.151,1.819,0.222\n     \t\t\t\t\tc0.585,0.064,1.148,0.158,1.685,0.188c0.537,0.025,1.048,0.048,1.533,0.071c0.484,0.022,0.942,0.042,1.37,0.062\n     \t\t\t\t\tc0.424-0.001,0.811-0.037,1.171-0.052c0.716-0.043,1.308-0.079,1.753-0.106C74.664,128.338,74.586,129.756,75.065,130.611z"],["id","base8","d","M76.791,127.418c2.232,0.218,6.497,0.305,11.459-0.534c4.944-0.822,10.628-2.68,15.177-5.905\n     \t\t\t\t\tc4.604-3.196,8.202-7.399,10.665-10.737c2.497-3.362,3.817-5.859,4.319-6.221c0.405,0.705-0.514,3.883-2.889,7.796\n     \t\t\t\t\tc-2.363,3.904-6.216,8.679-11.433,12.199c-5.229,3.551-11.484,5.361-16.645,6.106c-5.191,0.753-9.331,0.568-11.171,0.479\n     \t\t\t\t\tC76.842,129.719,77.054,128.318,76.791,127.418z"],["id","base9","d","M74.188,174.161c-2.884,5.522-9.027,17.557-16.091,30.819c-3.535,6.629-7.295,13.566-11.034,20.128\n      \t\t\t\tc-1.871,3.281-3.735,6.468-5.594,9.464c-0.931,1.498-1.862,2.946-2.818,4.328c-0.48,0.691-0.962,1.365-1.486,2.02\n      \t\t\t\tc-0.261,0.327-0.532,0.648-0.84,0.97c-0.162,0.163-0.311,0.317-0.545,0.494c-0.247,0.199-0.53,0.329-0.822,0.43\n      \t\t\t\tc-2.525,0.6-4.865,1.155-6.97,1.655c-2.081,0.483-3.941,0.872-5.512,1.262c-3.148,0.738-5.195,1.113-5.754,1.003\n      \t\t\t\tc0.459-0.436,2.401-1.249,5.45-2.342c1.515-0.565,3.348-1.112,5.402-1.74c2.027-0.599,4.276-1.264,6.702-1.979\n      \t\t\t\tc0.042-0.015,0.078-0.043,0.108-0.073c0.065-0.075,0.185-0.175,0.293-0.313c0.224-0.254,0.46-0.558,0.689-0.876\n      \t\t\t\tc0.462-0.636,0.923-1.324,1.377-2.039c0.914-1.427,1.821-2.953,2.739-4.525c1.833-3.15,3.702-6.51,5.59-9.954\n      \t\t\t\tc3.773-6.891,7.617-14.125,11.197-20.928c7.155-13.607,13.245-25.496,15.272-29.686C71.976,173.459,73.11,174.344,74.188,174.161\n      \t\t\t\tz"],["id","base10","d","M74.167,173.943c4.141,7.45,15.448,27.067,25.586,45.385c2.544,4.57,5.031,9.053,7.249,13.303\n     \t\t\t\t\tc1.113,2.117,2.185,4.156,3.201,6.088c0.502,0.969,0.991,1.91,1.464,2.82l0.05,0.111c0.036,0.035,0.096,0.07,0.143,0.105\n     \t\t\t\t\tc0.191,0.129,0.381,0.258,0.569,0.383c0.389,0.268,0.775,0.527,1.189,0.758c3.228,1.914,6.099,3.375,8.164,4.51\n     \t\t\t\t\tc2.076,1.125,3.383,1.904,3.675,2.273c-0.546,0.043-2.137-0.418-4.513-1.316c-2.375-0.924-5.536-2.17-9.177-4.16\n     \t\t\t\t\tc-0.51-0.309-1.029-0.621-1.558-0.941c-0.104-0.037-0.167-0.139-0.222-0.252l-0.181-0.32l-0.242-0.42\n     \t\t\t\t\tc-0.132-0.23-0.266-0.461-0.401-0.693c-0.536-0.932-1.089-1.893-1.657-2.879c-1.124-1.977-2.307-4.059-3.531-6.213\n     \t\t\t\t\tc-2.401-4.322-5.116-8.912-7.771-13.586c-10.665-18.697-21.841-38.367-25.056-43.764\n     \t\t\t\t\tC72.361,175.398,73.718,174.924,74.167,173.943z"],["id","happy",1,"man-bounce"],["id","happy2","fill","none","stroke","#000000","stroke-width","4","stroke-miterlimit","10","d","M81.167,215.667\n           \t\tc-4.102,7.518-8.666,38.107,2.333,52.667"],["id","happy3"],["d","M78.277,225.281c-3.559,0.312-9.486-1.455-15.086-5.576c-1.402-1.029-2.817-2.166-4.139-3.504\n           \t\t\t\t\tc-0.66-0.67-1.316-1.364-1.922-2.137c-0.615-0.768-1.19-1.551-1.708-2.586c-0.878-1.982-1.202-3.979-1.382-5.935\n           \t\t\t\t\tc-0.174-1.96-0.19-3.897-0.14-5.803c0.257-7.611,1.402-14.723,2.248-20.11c0.452-2.681,0.833-4.938,1.114-6.604\n           \t\t\t\t\tc0.299-1.657,0.464-2.718,0.678-3.031c0.27,0.333,0.5,1.551,0.52,3.386c0.028,1.835-0.114,4.289-0.35,7.16\n           \t\t\t\t\tc-0.434,5.732-1.382,13.195-1.342,20.728c0.029,1.872,0.12,3.756,0.415,5.53c0.152,0.882,0.336,1.749,0.611,2.526\n           \t\t\t\t\tc0.14,0.381,0.285,0.764,0.467,1.083c0.099,0.162,0.161,0.315,0.283,0.488l0.37,0.52c2.048,2.759,4.801,5.021,7.398,6.715\n           \t\t\t\t\tc2.615,1.711,5.178,2.867,7.307,3.44c2.135,0.606,3.779,0.593,4.72,0.498C77.931,223,77.704,224.426,78.277,225.281z"],["id","happy4"],["d","M79.696,224.58c0.634,0.274,0.956,0.564,1.31,0.848c0.349,0.289,0.67,0.585,1.007,0.892\n           \t\t\t\t\tc0.671,0.613,1.39,1.274,2.216,1.926c1.638,1.311,3.728,2.579,6.251,3.253c2.516,0.683,5.434,0.691,8.367,0.057\n           \t\t\t\t\tc2.936-0.617,5.89-1.836,8.647-3.269c5.538-2.892,10.339-6.686,13.95-9.584c3.6-2.925,6.103-4.965,6.794-4.957\n           \t\t\t\t\tc-0.109,0.752-2.281,3.405-5.86,6.878c-3.589,3.434-8.638,7.679-14.716,10.804l-1.142,0.58l-1.18,0.52\n           \t\t\t\t\tc-0.778,0.363-1.587,0.667-2.403,0.95c-1.611,0.604-3.302,1.051-4.998,1.317c-3.391,0.563-6.864,0.247-9.739-0.8\n           \t\t\t\t\tc-2.895-1.021-5.127-2.65-6.76-4.016c-0.779-0.677-1.471-1.277-2.059-1.789c-0.274-0.232-0.518-0.425-0.692-0.538\n           \t\t\t\t\tc-0.15-0.111-0.282-0.102,0.008-0.052c-0.089-0.222-0.042-0.519,0.119-0.737c0.139-0.238,0.314-0.48,0.477-0.723\n           \t\t\t\t\tC79.609,225.659,79.896,225.143,79.696,224.58z"],["id","happy5"],["d","M83.89,268.624c-0.628,2.025-1.507,4.864-2.538,8.415c-0.53,1.763-1.054,3.688-1.703,5.722\n           \t\t\t\t\tc-0.645,2.034-1.329,4.192-2.042,6.444c-0.665,2.265-1.586,4.563-2.443,6.945c-0.438,1.189-0.881,2.395-1.329,3.611\n           \t\t\t\t\tl-0.337,0.914c-0.028,0.079-0.025,0.046-0.029,0.08l0.026,0.039c0.02,0.027-0.01-0.009,0.083,0.103\n           \t\t\t\t\tc0.181,0.226,0.374,0.443,0.578,0.653c1.611,1.699,3.78,2.965,6.117,3.889c2.341,0.934,4.861,1.536,7.388,1.981\n           \t\t\t\t\tc5.073,0.877,10.195,1.089,14.984,1.315c1.204,0.063,2.386,0.126,3.542,0.188c0.583,0.045,1.16,0.089,1.729,0.133\n           \t\t\t\t\tc0.287,0.029,0.572,0.058,0.855,0.086l0.435,0.052l0.666,0.092c0.881,0.134,1.718,0.327,2.344,0.612\n           \t\t\t\t\tc0.624,0.289,1.056,0.618,1.367,1.068c0.154,0.225,0.261,0.519,0.274,0.831c0.007,0.154-0.003,0.314-0.043,0.463\n           \t\t\t\t\tc-0.024,0.067-0.025,0.168-0.067,0.206l-0.161,0.096c-0.433,0.247-0.858,0.489-1.274,0.727l-0.314,0.172l-0.54,0.161\n           \t\t\t\t\tc-0.357,0.104-0.711,0.208-1.062,0.311c-0.521,0.155-1.03,0.308-1.528,0.456c-0.824,0.283-1.61,0.554-2.353,0.809\n           \t\t\t\t\tc-1.482,0.541-2.794,1.021-3.907,1.427c-2.229,0.815-3.681,1.301-4.154,1.281c0.329-0.441,1.729-1.353,3.994-2.545\n           \t\t\t\t\tc1.131-0.6,2.482-1.262,4.037-1.955c0.786-0.333,1.594-0.718,2.494-1.041c0.147-0.055,0.121-0.05,0.171-0.071l0.101-0.046\n           \t\t\t\t\tl0.19-0.089c0.112-0.045,0.227-0.09,0.343-0.137c0.051-0.023,0.108-0.036,0.146-0.065c0.007-0.064-0.005-0.135-0.049-0.193\n           \t\t\t\t\tc-0.091-0.117-0.249-0.158-0.38-0.187c-0.136-0.028-0.265-0.039-0.383-0.045l-0.178-0.005c-0.268-0.02-0.537-0.039-0.808-0.059\n           \t\t\t\t\tc-2.227-0.133-4.645-0.144-7.152-0.2c-5.018-0.116-10.459-0.305-15.95-1.412c-2.738-0.56-5.497-1.365-8.098-2.664\n           \t\t\t\t\tc-1.293-0.66-2.554-1.43-3.688-2.387c-0.575-0.467-1.103-0.996-1.609-1.54l-0.363-0.426l-0.246-0.3l-0.292-0.389l-0.586-0.785\n           \t\t\t\t\tl-0.073-0.098l0.042-0.118l0.084-0.235l0.168-0.472c0.946-2.606,1.874-5.163,2.771-7.635c0.894-2.313,1.568-4.627,2.26-6.805\n           \t\t\t\t\tc0.676-2.186,1.355-4.238,1.917-6.179c0.56-1.94,1.077-3.733,1.542-5.346c0.941-3.259,1.672-5.786,2.115-7.319\n           \t\t\t\t\tC81.607,268.267,82.878,268.947,83.89,268.624z"],["id","happy6"],["d","M83.119,266.13c3.646,0.559,10.3,1.522,18.255,2.972c3.977,0.739,8.275,1.575,12.684,2.748\n           \t\t\t\t\tc0.551,0.137,1.105,0.308,1.661,0.479c0.556,0.177,1.108,0.317,1.674,0.544l0.986,0.366l0.735,0.273\n           \t\t\t\t\tc0.03,0.013,0.063,0.021,0.09,0.036l0.042,0.092l0.083,0.184l0.165,0.366c0.254,0.559,0.368,0.819,0.504,1.146l0.239,0.947\n           \t\t\t\t\tc0.55,2.519,0.436,4.85,0.384,7.132c-0.176,4.547-0.475,8.886-0.142,12.876c0.042,1.004,0.223,1.958,0.326,2.909\n           \t\t\t\t\tc0.193,0.926,0.327,1.853,0.579,2.713c0.255,0.859,0.462,1.716,0.81,2.483l0.231,0.583l0.123,0.336\n           \t\t\t\t\tc0.146,0.132,0.246,0.184,0.556,0.268c0.573,0.12,1.261,0.025,1.907-0.177c0.65-0.196,1.271-0.477,1.846-0.773\n           \t\t\t\t\tc1.152-0.604,2.137-1.261,2.961-1.833c1.648-1.154,2.681-1.959,3.094-2.061c-0.112,0.477-0.947,1.663-2.566,3.206\n           \t\t\t\t\tc-0.817,0.763-1.823,1.624-3.145,2.423c-0.665,0.394-1.412,0.774-2.311,1.038c-0.459,0.115-0.944,0.226-1.498,0.219\n           \t\t\t\t\tc-0.544-0.012-1.123-0.066-1.837-0.434l-0.486-0.28l-0.123-0.071c-0.029-0.033-0.042-0.079-0.064-0.118l-0.12-0.246\n           \t\t\t\t\tc-0.129-0.27-0.26-0.542-0.392-0.816c-0.2-0.432-0.403-0.87-0.609-1.316c-0.3-0.925-0.698-1.867-0.929-2.868\n           \t\t\t\t\tc-0.554-1.991-0.842-4.127-1.046-6.327c-0.353-4.396-0.033-9.069-0.014-13.59c-0.007-1.124-0.038-2.244-0.175-3.289l-0.105-0.78\n           \t\t\t\t\tc-0.042-0.254-0.121-0.477-0.176-0.716c-0.076-0.479-0.378-1.009-0.292-0.862l-0.904-0.327\n           \t\t\t\t\tc-0.517-0.175-1.064-0.321-1.592-0.483c-1.062-0.318-2.163-0.574-3.236-0.848c-4.34-1.021-8.596-1.812-12.451-2.489\n           \t\t\t\t\tc-7.718-1.341-13.881-2.198-16.549-2.504C83.114,268.44,83.54,267.074,83.119,266.13z"],["id","happy7"],["id","happy1","fill","#FFFFFF","stroke","#000000","stroke-width","4","stroke-miterlimit","10","d","M117.314,188.834\n           \t\t\tc-8.281,20.766-25.362,30.241-37.377,24.449c-9.013-4.344-15.835-23.244-6.339-43.461c3.287-6.999,18.855-16.633,31.15-10.62\n           \t\t\tC119.411,166.374,120.178,181.652,117.314,188.834z"],["id","eye1"],["fill","#FFFFFF","stroke","#000000","stroke-width","2.5082","stroke-miterlimit","10","cx","87.501","cy","173.667","rx","8.082","ry","8.5"],["cx","87.5","cy","173.667","rx","2.012","ry","2.468"],["id","eye2"],["fill","#FFFFFF","stroke","#000000","stroke-width","3","stroke-miterlimit","10","cx","100.167","cy","179","rx","9.667","ry","10.167"],["cx","100.166","cy","179","rx","2.406","ry","2.953"],["d","M76.616,184.989c0.537,3.09,1.521,5.89,2.636,8.527c1.142,2.608,2.522,5.073,4.363,6.845\n           \t\t\t\t\t\tc1.82,1.793,4.161,2.64,7.087,2.354c2.913-0.277,6.097-1.537,9.396-3.142c-1.897,2.203-4.242,4.231-7.278,5.541\n           \t\t\t\t\t\tc-1.523,0.621-3.248,1.042-5.089,0.955c-1.834-0.074-3.733-0.727-5.272-1.828c-1.558-1.091-2.739-2.562-3.62-4.111\n           \t\t\t\t\t\tc-0.885-1.558-1.493-3.215-1.91-4.896C76.123,191.871,75.967,188.372,76.616,184.989z"]],template:function(t,i){1&t&&(d.O4$(),d.TgZ(0,"svg",0),d._UZ(1,"line",1)(2,"line",2)(3,"line",3)(4,"line",4),d.YNc(5,K2,1,0,"line",5),d.YNc(6,m0,7,8,"g",6),d.YNc(7,Z1,30,0,"g",7),d.qZA(),d.kcU(),d.TgZ(8,"div",8),d._uU(9),d.qZA()),2&t&&(d.xp6(5),d.Q6J("ngIf",0===i.mistakesRemaining),d.xp6(1),d.Q6J("ngIf",!i.success),d.xp6(1),d.Q6J("ngIf",i.success),d.xp6(2),d.hij("Intentos restantes: ",i.mistakesRemaining,""))},directives:[xn],styles:[".mistakes-count[_ngcontent-%COMP%]{text-align:center}.man-bounce[_ngcontent-%COMP%]{animation:shimmy 1s infinite;animation-direction:alternate}@keyframes shimmy{0%{transform:translate(0)}to{transform:translateY(17px)}}"]}),n})();function Xm(n,e){if(1&n&&(d.TgZ(0,"div",2)(1,"div",3),d._uU(2),d.qZA()()),2&n){const t=e.$implicit;d.xp6(2),d.hij(" ",t.guessed?t.value:""," ")}}let _0=(()=>{class n{constructor(){this.question="",this.guesses=[],this.characters=[]}ngOnInit(){}ngOnChanges(t){var i,r;(null===(i=null==t?void 0:t.question)||void 0===i?void 0:i.currentValue)&&(null==t?void 0:t.question.currentValue)!==(null==t?void 0:t.question.previousValue)&&(this.characters=this.question.split("").map(l=>({value:l,guessed:!1})));const s=null===(r=null==t?void 0:t.guesses)||void 0===r?void 0:r.currentValue;if(s&&s.length&&s!==t.guesses.previousValue){const l=[...t.guesses.currentValue].pop();this.characters=this.characters.map(c=>c.value.toLowerCase()===l.toLowerCase()?Object.assign(Object.assign({},c),{guessed:!0}):c)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-hangman-question"]],inputs:{question:"question",guesses:"guesses"},features:[d.TTD],decls:2,vars:1,consts:[[1,"characters"],["class","character",4,"ngFor","ngForOf"],[1,"character"],[1,"character-name"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0),d.YNc(1,Xm,3,1,"div",1),d.qZA()),2&t&&(d.xp6(1),d.Q6J("ngForOf",i.characters))},directives:[Un],styles:[".characters[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:space-between;margin:30px auto}.characters[_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]{padding-bottom:8px;border-bottom:1px solid #333;min-width:20px;min-height:20px;text-align:center}"]}),n})();function e_(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",3),d.NdJ("click",function(){const s=d.CHM(t).$implicit;return d.oxw().onKeyClick(s)}),d.TgZ(1,"div",4),d._uU(2),d.qZA()()}if(2&n){const t=e.$implicit;d.ekj("btn--disabled",t.guessed),d.xp6(2),d.hij(" ",t.value," ")}}let t_=(()=>{class n{constructor(){this.question="",this.keyPressed=new d.vpe,this.keys=[],this.keys="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(t=>({value:t,guessed:!1}))}ngOnInit(){}ngOnChanges(t){var i;(null===(i=null==t?void 0:t.question)||void 0===i?void 0:i.currentValue)&&(null==t?void 0:t.question.currentValue)!==(null==t?void 0:t.question.previousValue)&&this.addMissingKeys()}addMissingKeys(){for(let t=0;t<this.question.length;t++){if(this.keys.find(s=>s.value.toLowerCase()===this.question[t].toLowerCase()))continue;const r=Math.floor(11*Math.random());this.keys.splice(r,0,{value:this.question[t],guessed:!1})}}onKeyClick(t){t.guessed||(t.guessed=!0,this.keyPressed.emit(t.value))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-hangman-keyboard"]],inputs:{question:"question"},outputs:{keyPressed:"keyPressed"},features:[d.TTD],decls:3,vars:1,consts:[[1,"keyboard"],[1,"keys"],["class","key btn",3,"btn--disabled","click",4,"ngFor","ngForOf"],[1,"key","btn",3,"click"],[1,"key-char"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"div",1),d.YNc(2,e_,3,3,"div",2),d.qZA()()),2&t&&(d.xp6(2),d.Q6J("ngForOf",i.keys))},directives:[Un],styles:[".keyboard[_ngcontent-%COMP%]{max-width:600px;margin:30px auto}.keyboard[_ngcontent-%COMP%]   .keys[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}"]}),n})();function JC(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d._UZ(1,"img",3),d.TgZ(2,"h1"),d._uU(3,"Juego del ahorcado"),d.qZA(),d.TgZ(4,"button",4),d.NdJ("click",function(){return d.CHM(t),d.oxw().start()}),d._uU(5,"Comenzar"),d.qZA()()}}function XC(n,e){if(1&n&&(d.TgZ(0,"p"),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Oqu(t)}}function y0(n,e){if(1&n){const t=d.EpF();d.ynx(0),d.TgZ(1,"app-hangman-keyboard",11),d.NdJ("keyPressed",function(r){return d.CHM(t),d.oxw(2).guess(r)}),d.qZA(),d.TgZ(2,"div",12)(3,"h3"),d._uU(4,"Letras elegidas:"),d.qZA(),d.YNc(5,XC,2,1,"p",13),d.qZA(),d.BQk()}if(2&n){const t=d.oxw(2);d.xp6(1),d.Q6J("question",t.question),d.xp6(4),d.Q6J("ngForOf",t.guesses)}}function eT(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",14),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).reset()}),d._uU(1," Comenzar de nuevo "),d.qZA()}}function tT(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",5)(1,"div")(2,"app-hangman-display",6),d.NdJ("gameFinished",function(){return d.CHM(t),d.oxw().onGameFinished()}),d.qZA(),d._UZ(3,"app-hangman-question",7),d.qZA(),d.TgZ(4,"div",8),d.YNc(5,y0,6,2,"ng-container",9),d.qZA()(),d.YNc(6,eT,2,0,"ng-template",null,10,d.W1O)}if(2&n){const t=d.MAs(7),i=d.oxw();d.xp6(2),d.Q6J("guesses",i.guesses)("question",i.question),d.xp6(1),d.Q6J("guesses",i.guesses)("question",i.question),d.xp6(2),d.Q6J("ngIf",!i.restartGameBtnShown)("ngIfElse",t)}}let v0=(()=>{class n{constructor(t,i,r){this.hangmanService=t,this.location=i,this.http=r,this.question="",this.questions=[],this.guesses=[],this.category="",this.restartGameBtnShown=!1,this.word="",this.beginGame=!1}ngOnInit(){this.http.get("https://palabras-aleatorias-public-api.herokuapp.com/random").subscribe(t=>{this.word=t.body.Word,this.pickNewQuestion()})}start(){this.beginGame=!0}getQuestions(){this.http.get("https://palabras-aleatorias-public-api.herokuapp.com/random").subscribe(t=>{this.word=t.body.Word,this.pickNewQuestion()})}guess(t){!t||this.guesses.includes(t)||(this.guesses=[...this.guesses,t])}dummyClick(){const t=prompt("Enter a key")||"";this.guess(t)}reset(){this.guesses=[],this.getQuestions(),this.restartGameBtnShown=!1}pickNewQuestion(){this.question=this.word,console.log(this.word)}onGameFinished(){this.restartGameBtnShown=!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Yg),d.Y36(Ie),d.Y36(vo))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-hangman"]],decls:3,vars:2,consts:[["class","hangman-start",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"hangman-start"],["src","../../../../assets/ahorcado.png","width","200px",1,"preguntados-image"],["mat-raised-button","","color","primary",3,"click"],[1,"hangman"],[3,"guesses","question","gameFinished"],[3,"guesses","question"],[1,"keyboard"],[4,"ngIf","ngIfElse"],["restartGameBtn",""],[3,"question","keyPressed"],[1,"guessed"],[4,"ngFor","ngForOf"],[1,"btn",3,"click"]],template:function(t,i){if(1&t&&(d.YNc(0,JC,6,0,"div",0),d.YNc(1,tT,8,6,"ng-template",null,1,d.W1O)),2&t){const r=d.MAs(2);d.Q6J("ngIf",!i.beginGame)("ngIfElse",r)}},directives:[xn,rp,Jm,_0,t_,Un],styles:["[_nghost-%COMP%]{height:100%;width:100%}.hangman[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.hangman-start[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.keyboard[_ngcontent-%COMP%]{flex-direction:column}.guessed[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}p[_ngcontent-%COMP%]{padding:0 5px}button[_ngcontent-%COMP%]{margin:10px;width:300px}"]}),n})();const{isArray:nT}=Array,{getPrototypeOf:Y1,prototype:iT,keys:rT}=Object;function n_(n){if(1===n.length){const e=n[0];if(nT(e))return{args:e,keys:null};if(function sT(n){return n&&"object"==typeof n&&Y1(n)===iT}(e)){const t=rT(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Q1}=Array;function b0(n){return(0,dt.U)(e=>function oT(n,e){return Q1(e)?n(...e):n(e)}(n,e))}function w0(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var E0=U(9672);function C0(n,e,t){n?(0,E0.f)(t,n,e):e()}function ih(n,e){const t=(0,yu.m)(n)?n:()=>n,i=r=>r.error(t());return new Vn.y(e?r=>e.schedule(i,0,r):i)}const op=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ap=U(8189);function dT(...n){return function cT(){return(0,ap.J)(1)}()((0,Qt.D)(n,(0,pi.yG)(n)))}function hT(n){return new Vn.y(e=>{(0,la.Xf)(n()).subscribe(e)})}var Bc=U(515),i_=U(727);function fT(){return(0,Tn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,jt.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Ui extends Vn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Tn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new i_.w0;const t=this.getSubject();e.add(this.source.subscribe((0,jt.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=i_.w0.EMPTY)}return e}refCount(){return fT()(this)}}function Vi(n,e){return(0,Tn.e)((t,i)=>{let r=null,s=0,l=!1;const c=()=>l&&!r&&i.complete();t.subscribe((0,jt.x)(i,f=>{null==r||r.unsubscribe();let y=0;const w=s++;(0,la.Xf)(n(f,w)).subscribe(r=(0,jt.x)(i,C=>i.next(e?e(f,C,w,y++):C),()=>{r=null,c()}))},()=>{l=!0,c()}))})}var T0=U(5698);function r_(...n){const e=(0,pi.yG)(n);return(0,Tn.e)((t,i)=>{(e?dT(n,t,e):dT(n,t)).subscribe(i)})}function pT(n,e,t,i,r){return(s,l)=>{let c=t,f=e,y=0;s.subscribe((0,jt.x)(l,w=>{const C=y++;f=c?n(f,w,C):(c=!0,w),i&&l.next(f)},r&&(()=>{c&&l.next(f),l.complete()})))}}function jc(n,e){return(0,Tn.e)(pT(n,e,arguments.length>=2,!0))}function Ja(n){return(0,Tn.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,jt.x)(t,void 0,void 0,l=>{s=(0,la.Xf)(n(l,Ja(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function s_(n){return n<=0?()=>Bc.E:(0,Tn.e)((e,t)=>{let i=[];e.subscribe((0,jt.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Hc(n=J1){return(0,Tn.e)((e,t)=>{let i=!1;e.subscribe((0,jt.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function J1(){return new op}function gT(n){return(0,Tn.e)((e,t)=>{let i=!1;e.subscribe((0,jt.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function zc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xn((r,s)=>n(r,s,i)):aa.y,(0,T0.q)(1),t?gT(e):Hc(()=>new op))}var hr=U(8505);class ga{constructor(e,t){this.id=e,this.url=t}}class lp extends ga{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ys extends ga{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _T extends ga{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yT extends ga{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xa extends ga{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ma extends ga{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _a extends ga{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vT extends ga{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bT extends ga{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wT{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ET{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eM{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tM{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I0{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class up{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CT{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class nM{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gc(n){return new nM(n)}const D0="ngNavigationCancelingError";function rh(n){const e=Error("NavigationCancelingError: "+n);return e[D0]=!0,e}function TT(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],c=n[s];if(l.startsWith(":"))r[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Mo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!cp(n[r],e[r]))return!1;return!0}function cp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function S0(n){return Array.prototype.concat.apply([],n)}function A0(n){return n.length>0?n[n.length-1]:null}function Ki(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ya(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Qt.D)(Promise.resolve(n)):pt(n)}const ST={exact:function xT(n,e,t){if(!qc(n.segments,e.segments)||!o_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!xT(n.children[i],e.children[i],t))return!1;return!0},subset:MT},x0={exact:function sM(n,e){return Mo(n,e)},subset:function oM(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cp(n[t],e[t]))},ignored:()=>!0};function AT(n,e,t){return ST[t.paths](n.root,e.root,t.matrixParams)&&x0[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function MT(n,e,t){return kT(n,e,e.segments,t)}function kT(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!qc(r,t)||e.hasChildren()||!o_(r,t,i))}if(n.segments.length===t.length){if(!qc(n.segments,t)||!o_(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!MT(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(qc(n.segments,r)&&o_(n.segments,r,i)&&n.children[Zt])&&kT(n.children[Zt],e,s,i)}}function o_(n,e,t){return e.every((i,r)=>x0[t](n[r].parameters,i.parameters))}class $c{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gc(this.queryParams)),this._queryParamMap}toString(){return lM.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ki(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return a_(this)}}class dp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gc(this.parameters)),this._parameterMap}toString(){return P0(this)}}function qc(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class RT{}class OT{parse(e){const t=new Q2(e);return new $c(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${hp(e.root,!0)}`,i=function LT(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${fp(t)}=${fp(r)}`).join("&"):`${fp(t)}=${fp(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function NT(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lM=new OT;function a_(n){return n.segments.map(e=>P0(e)).join("/")}function hp(n,e){if(!n.hasChildren())return a_(n);if(e){const t=n.children[Zt]?hp(n.children[Zt],!1):"",i=[];return Ki(n.children,(r,s)=>{s!==Zt&&i.push(`${s}:${hp(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function aM(n,e){let t=[];return Ki(n.children,(i,r)=>{r===Zt&&(t=t.concat(e(i,r)))}),Ki(n.children,(i,r)=>{r!==Zt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Zt?[hp(n.children[Zt],!1)]:[`${r}:${hp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${a_(n)}/${t[0]}`:`${a_(n)}/(${t.join("//")})`}}function M0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fp(n){return M0(n).replace(/%3B/gi,";")}function l_(n){return M0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pp(n){return decodeURIComponent(n)}function k0(n){return pp(n.replace(/\+/g,"%20"))}function P0(n){return`${l_(n.path)}${function FT(n){return Object.keys(n).map(e=>`;${l_(e)}=${l_(n[e])}`).join("")}(n.parameters)}`}const R0=/^[^\/()?;=#]+/;function sh(n){const e=n.match(R0);return e?e[0]:""}const Wc=/^[^=?&#]+/,cM=/^[^&#]+/;class Q2{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Zt]=new rn(e,t)),i}parseSegment(){const e=sh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new dp(pp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=sh(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=sh(this.remaining);r&&(i=r,this.capture(i))}e[pp(t)]=pp(i)}parseQueryParam(e){const t=function uM(n){const e=n.match(Wc);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function oh(n){const e=n.match(cM);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=k0(t),s=k0(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=sh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Zt);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[Zt]:new rn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class u_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=UT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=UT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=c_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return c_(e,this._root).map(t=>t.value)}}function UT(n,e){if(n===e.value)return e;for(const t of e.children){const i=UT(n,t);if(i)return i}return null}function c_(n,e){if(n===e.value)return[e];for(const t of e.children){const i=c_(n,t);if(i.length)return i.unshift(e),i}return[]}class el{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gp(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Dt extends u_{constructor(e,t){super(e),this.snapshot=t,Wn(this,e)}toString(){return this.snapshot.toString()}}function VT(n,e){const t=function dM(n,e){const l=new Zc([],{},{},"",{},Zt,e,null,n.root,-1,{});return new _p("",new el(l,[]))}(n,e),i=new x([new dp("",{})]),r=new x({}),s=new x({}),l=new x({}),c=new x(""),f=new ah(i,r,l,c,s,Zt,e,t.root);return f.snapshot=t.root,new Dt(new el(f,[]),t)}class ah{constructor(e,t,i,r,s,l,c,f){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=c,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(e=>Gc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(e=>Gc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mp(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function hM(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Zc{constructor(e,t,i,r,s,l,c,f,y,w,C){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=c,this.routeConfig=f,this._urlSegment=y,this._lastPathIndex=w,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _p extends u_{constructor(e,t){super(t),this.url=e,Wn(this,t)}toString(){return fM(this._root)}}function Wn(n,e){e.value._routerState=n,e.children.forEach(t=>Wn(n,t))}function fM(n){const e=n.children.length>0?` { ${n.children.map(fM).join(", ")} } `:"";return`${n.value}${e}`}function d_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Mo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Mo(e.params,t.params)||n.params.next(t.params),function IT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Mo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Mo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function O0(n,e){const t=Mo(n.params,e.params)&&function PT(n,e){return qc(n,e)&&n.every((t,i)=>Mo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||O0(n.parent,e.parent))}function lh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function BT(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return lh(n,i,r);return lh(n,i)})}(n,e,t);return new el(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(c=>lh(n,c)),l}}const i=function jT(n){return new ah(new x(n.url),new x(n.params),new x(n.queryParams),new x(n.fragment),new x(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>lh(n,s));return new el(i,r)}}function h_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function yp(n){return"object"==typeof n&&null!=n&&n.outlets}function N0(n,e,t,i,r){let s={};if(i&&Ki(i,(c,f)=>{s[f]=Array.isArray(c)?c.map(y=>`${y}`):`${c}`}),n===e)return new $c(t,s,r);const l=uh(n,e,t);return new $c(l,s,r)}function uh(n,e,t){const i={};return Ki(n.children,(r,s)=>{i[s]=r===e?t:uh(r,e,t)}),new rn(n.segments,i)}class zT{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&h_(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(yp);if(r&&r!==A0(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class F0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function L0(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return p_(n,e,t);const i=function vp(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],c=t[i];if(yp(c))break;const f=`${c}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===f)break;if(f&&y&&"object"==typeof y&&void 0===y.outlets){if(!WT(f,y,l))return s;i+=2}else{if(!WT(f,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new rn(n.segments.slice(0,i.pathIndex),{});return s.children[Zt]=new rn(n.segments.slice(i.pathIndex),n.children),p_(s,0,r)}return i.match&&0===r.length?new rn(n.segments,{}):i.match&&!n.hasChildren()?Kc(n,e,t):i.match?p_(n,0,r):Kc(n,e,t)}function p_(n,e,t){if(0===t.length)return new rn(n.segments,{});{const i=function $T(n){return yp(n[0])?n[0].outlets:{[Zt]:n}}(t),r={};return Ki(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=L0(n.children[l],e,s))}),Ki(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new rn(n.segments,r)}}function Kc(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(yp(s)){const f=mM(s.outlets);return new rn(i,f)}if(0===r&&h_(t[0])){i.push(new dp(n.segments[e].path,qT(t[0]))),r++;continue}const l=yp(s)?s.outlets[Zt]:`${s}`,c=r<t.length-1?t[r+1]:null;l&&c&&h_(c)?(i.push(new dp(l,qT(c))),r+=2):(i.push(new dp(l,{})),r++)}return new rn(i,{})}function mM(n){const e={};return Ki(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Kc(new rn([],{}),0,t))}),e}function qT(n){const e={};return Ki(n,(t,i)=>e[i]=`${t}`),e}function WT(n,e,t){return n==t.path&&Mo(e,t.parameters)}class KT{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),d_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=gp(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Ki(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=gp(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=gp(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=gp(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new up(s.value.snapshot))}),e.children.length&&this.forwardEvent(new tM(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(d_(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),d_(c.route.value),this.activateChildRoutes(e,null,l.children)}else{const c=function YT(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),f=c?c.module.componentFactoryResolver:null;l.attachRef=null,l.route=r,l.resolver=f,l.outlet&&l.outlet.activateWith(r,f),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class U0{constructor(e,t){this.routes=e,this.module=t}}function Fl(n){return"function"==typeof n}function Yc(n){return n instanceof $c}const ch=Symbol("INITIAL_VALUE");function Vu(){return Vi(n=>function aT(...n){const e=(0,pi.yG)(n),t=(0,pi.jO)(n),{args:i,keys:r}=n_(n);if(0===i.length)return(0,Qt.D)([],e);const s=new Vn.y(function lT(n,e,t=aa.y){return i=>{C0(e,()=>{const{length:r}=n,s=new Array(r);let l=r,c=r;for(let f=0;f<r;f++)C0(e,()=>{const y=(0,Qt.D)(n[f],e);let w=!1;y.subscribe((0,jt.x)(i,C=>{s[f]=C,w||(w=!0,c--),c||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>w0(r,l):aa.y));return t?s.pipe(b0(t)):s}(n.map(e=>e.pipe((0,T0.q)(1),r_(ch)))).pipe(jc((e,t)=>{let i=!1;return t.reduce((r,s,l)=>r!==ch?r:(s===ch&&(i=!0),i||!1!==s&&l!==t.length-1&&!Yc(s)?r:s),e)},ch),Xn(e=>e!==ch),(0,dt.U)(e=>Yc(e)?e:!0===e),(0,T0.q)(1)))}class yM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bp,this.attachRef=null}}class bp{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new yM,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let wp=(()=>{class n{constructor(t,i,r,s,l){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=s||Zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const l=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),c=this.parentContexts.getOrCreateContext(this.name).children,f=new Ep(t,c,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(bp),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ep{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ah?this.route:e===bp?this.childContexts:this.parent.get(e,t)}}let QT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&d._UZ(0,"router-outlet")},directives:[wp],encapsulation:2}),n})();function JT(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];vM(i,bM(e,i))}}function vM(n,e){n.children&&JT(n.children,e)}function bM(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function V0(n){const e=n.children&&n.children.map(V0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=QT),t}function Gs(n){return n.outlet||Zt}function XT(n,e){const t=n.filter(i=>Gs(i)===e);return t.push(...n.filter(i=>Gs(i)!==e)),t}const eI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ll(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},eI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||TT)(t,n,e);if(!s)return Object.assign({},eI);const l={};Ki(s.posParams,(f,y)=>{l[y]=f.path});const c=s.consumed.length>0?Object.assign(Object.assign({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:c,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function g_(n,e,t,i,r="corrected"){if(t.length>0&&function nI(n,e,t){return t.some(i=>Cp(n,e,i)&&Gs(i)!==Zt)}(n,t,i)){const l=new rn(e,function wM(n,e,t,i){const r={};r[Zt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Gs(s)!==Zt){const l=new rn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,r[Gs(s)]=l}return r}(n,e,i,new rn(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function EM(n,e,t){return t.some(i=>Cp(n,e,i))}(n,t,i)){const l=new rn(n.segments,function tI(n,e,t,i,r,s){const l={};for(const c of i)if(Cp(n,t,c)&&!r[Gs(c)]){const f=new rn([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:e.length,l[Gs(c)]=f}return Object.assign(Object.assign({},r),l)}(n,e,t,i,n.children,r));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const s=new rn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Cp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function iI(n,e,t,i){return!!(Gs(n)===i||i!==Zt&&Cp(e,t,n))&&("**"===n.path||Ll(e,n,t).matched)}function m_(n,e,t){return 0===e.length&&!n.children[t]}class __{constructor(e){this.segmentGroup=e||null}}class B0{constructor(e){this.urlTree=e}}function dh(n){return ih(new __(n))}function rI(n){return ih(new B0(n))}class IM{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=g_(this.urlTree.root,[],[],this.config).segmentGroup,t=new rn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Zt).pipe((0,dt.U)(s=>this.createUrlTree(H0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ja(s=>{if(s instanceof B0)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof __?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Zt).pipe((0,dt.U)(r=>this.createUrlTree(H0(r),e.queryParams,e.fragment))).pipe(Ja(r=>{throw r instanceof __?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new rn([],{[Zt]:e}):e;return new $c(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,dt.U)(s=>new rn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Qt.D)(r).pipe(Br(s=>{const l=i.children[s],c=XT(t,s);return this.expandSegmentGroup(e,c,l,s).pipe((0,dt.U)(f=>({segment:f,outlet:s})))}),jc((s,l)=>(s[l.outlet]=l.segment,s),{}),function mT(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xn((r,s)=>n(r,s,i)):aa.y,s_(1),t?gT(e):Hc(()=>new op))}())}expandSegment(e,t,i,r,s,l){return(0,Qt.D)(i).pipe(Br(c=>this.expandSegmentAgainstRoute(e,t,i,c,r,s,l).pipe(Ja(y=>{if(y instanceof __)return pt(null);throw y}))),zc(c=>!!c),Ja((c,f)=>{if(c instanceof op||"EmptyError"===c.name)return m_(t,r,s)?pt(new rn([],{})):dh(t);throw c}))}expandSegmentAgainstRoute(e,t,i,r,s,l,c){return iI(r,t,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,l):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l):dh(t):dh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?rI(s):this.lineralizeSegments(i,s).pipe((0,Bn.z)(l=>{const c=new rn(l,{});return this.expandSegment(e,c,t,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:c,consumedSegments:f,remainingSegments:y,positionalParamSegments:w}=Ll(t,r,s);if(!c)return dh(t);const C=this.applyRedirectCommands(f,r.redirectTo,w);return r.redirectTo.startsWith("/")?rI(C):this.lineralizeSegments(r,C).pipe((0,Bn.z)(S=>this.expandSegment(e,t,i,S.concat(y),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?pt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,dt.U)(C=>(i._loadedConfig=C,new rn(r,{})))):pt(new rn(r,{}));const{matched:l,consumedSegments:c,remainingSegments:f}=Ll(t,i,r);return l?this.getChildConfig(e,i,r).pipe((0,Bn.z)(w=>{const C=w.module,S=w.routes,{segmentGroup:k,slicedSegments:R}=g_(t,c,f,S),j=new rn(k.segments,k.children);if(0===R.length&&j.hasChildren())return this.expandChildren(C,S,j).pipe((0,dt.U)(Ue=>new rn(c,Ue)));if(0===S.length&&0===R.length)return pt(new rn(c,{}));const Q=Gs(i)===s;return this.expandSegment(C,j,S,R,Q?Zt:s,!0).pipe((0,dt.U)(Me=>new rn(c.concat(Me.segments),Me.children)))})):dh(t)}getChildConfig(e,t,i){return t.children?pt(new U0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?pt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Bn.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,dt.U)(s=>(t._loadedConfig=s,s))):function TM(n){return ih(rh(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):pt(new U0([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?pt(r.map(l=>{const c=e.get(l);let f;if(function J2(n){return n&&Fl(n.canLoad)}(c))f=c.canLoad(t,i);else{if(!Fl(c))throw new Error("Invalid CanLoad guard");f=c(t,i)}return ya(f)})).pipe(Vu(),(0,hr.b)(l=>{if(!Yc(l))return;const c=rh(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw c.url=l,c}),(0,dt.U)(l=>!0===l)):pt(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return pt(i);if(r.numberOfChildren>1||!r.children[Zt])return ih(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Zt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new $c(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Ki(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const c=r.substring(1);i[s]=t[c]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return Ki(t.children,(c,f)=>{l[f]=this.createSegmentGroup(e,c,i,r)}),new rn(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function H0(n){const e={};for(const i of Object.keys(n.children)){const s=H0(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function sI(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}class oI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class y_{constructor(e,t){this.component=e,this.route=t}}function SM(n,e,t){const i=n._root;return hh(i,e?e._root:null,t,[i.value])}function v_(n,e,t){const i=function xM(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function hh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=gp(e);return n.children.forEach(l=>{(function aI(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const f=function MM(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qc(n.url,e.url)||!Mo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!O0(n,e)||!Mo(n.queryParams,e.queryParams);default:return!O0(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new oI(i)):(s.data=l.data,s._resolvedData=l._resolvedData),hh(n,e,s.component?c?c.children:null:t,i,r),f&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new y_(c.outlet.component,l))}else l&&Tp(e,c,r),r.canActivateChecks.push(new oI(i)),hh(n,null,s.component?c?c.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),Ki(s,(l,c)=>Tp(l,t.getContext(c),r)),r}function Tp(n,e,t){const i=gp(n),r=n.value;Ki(i,(s,l)=>{Tp(s,r.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new y_(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class OM{}function cI(n){return new Vn.y(e=>e.error(n))}class NM{constructor(e,t,i,r,s,l){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){const e=g_(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Zt);if(null===t)return null;const i=new Zc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new el(i,t),s=new _p(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=mp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const l=t.children[s],c=XT(e,s),f=this.processSegmentGroup(c,l,s);if(null===f)return null;i.push(...f)}const r=fI(i);return function dI(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const l=this.processSegmentAgainstRoute(s,t,i,r);if(null!==l)return l}return m_(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!iI(e,t,i,r))return null;let s,l=[],c=[];if("**"===e.path){const k=i.length>0?A0(i).parameters:{};s=new Zc(i,k,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ip(e),Gs(e),e.component,e,UM(t),pI(t)+i.length,gI(e))}else{const k=Ll(t,e,i);if(!k.matched)return null;l=k.consumedSegments,c=k.remainingSegments,s=new Zc(l,k.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ip(e),Gs(e),e.component,e,UM(t),pI(t)+l.length,gI(e))}const f=function FM(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:y,slicedSegments:w}=g_(t,l,c,f.filter(k=>void 0===k.redirectTo),this.relativeLinkResolution);if(0===w.length&&y.hasChildren()){const k=this.processChildren(f,y);return null===k?null:[new el(s,k)]}if(0===f.length&&0===w.length)return[new el(s,[])];const C=Gs(e)===r,S=this.processSegment(f,y,w,C?Zt:r);return null===S?null:[new el(s,S)]}}function hI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function fI(n){const e=[],t=new Set;for(const i of n){if(!hI(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=fI(i.children);e.push(new el(i.value,r))}return e.filter(i=>!t.has(i))}function UM(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pI(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Ip(n){return n.data||{}}function gI(n){return n.resolve||{}}function W0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Z0(n){return Vi(e=>{const t=n(e);return t?(0,Qt.D)(t).pipe((0,dt.U)(()=>e)):pt(e)})}class mI extends class HM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const b_=new d.OlP("ROUTES");class w_{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,dt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const l=s.create(e);return new U0(S0(l.injector.get(b_,void 0,d.XFs.Self|d.XFs.Optional)).map(V0),l)}),Ja(s=>{throw t._loader$=void 0,s}));return t._loader$=new Ui(r,()=>new D.x).pipe(fT()),t._loader$}loadModuleFactory(e){return ya(e()).pipe((0,Bn.z)(t=>t instanceof d.YKP?pt(t):(0,Qt.D)(this.compiler.compileModuleAsync(t))))}}class Sp{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function zM(n){throw n}function _I(n,e,t){return e.parse("/")}function K0(n,e){return pt(null)}const GM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$M={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{class n{constructor(t,i,r,s,l,c,f){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new D.x,this.errorHandler=zM,this.malformedUriErrorHandler=_I,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:K0,afterPreactivation:K0},this.urlHandlingStrategy=new Sp,this.routeReuseStrategy=new mI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(d.h0i),this.console=l.get(d.c2e);const C=l.get(d.R0b);this.isNgZoneEnabled=C instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function DT(){return new $c(new rn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new w_(l,c,S=>this.triggerEvent(new wT(S)),S=>this.triggerEvent(new ET(S))),this.routerState=VT(this.currentUrlTree,this.rootComponentType),this.transitions=new x({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Xn(r=>0!==r.id),(0,dt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Vi(r=>{let s=!1,l=!1;return pt(r).pipe((0,hr.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.currentRawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vi(c=>{const f=this.browserUrlTree.toString(),y=!this.navigated||c.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return WM(c.source)&&(this.browserUrlTree=c.extractedUrl),pt(c).pipe(Vi(C=>{const S=this.transitions.getValue();return i.next(new lp(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),S!==this.transitions.getValue()?Bc.E:Promise.resolve(C)}),function DM(n,e,t,i){return Vi(r=>function j0(n,e,t,i,r){return new IM(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,dt.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,hr.b)(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function fh(n,e,t,i,r){return(0,Bn.z)(s=>function q0(n,e,t,i,r="emptyOnly",s="legacy"){try{const l=new NM(n,e,t,i,r,s).recognize();return null===l?cI(new OM):pt(l)}catch(l){return cI(l)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,dt.U)(l=>Object.assign(Object.assign({},s),{targetSnapshot:l}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,hr.b)(C=>{if("eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(k,C)}this.browserUrlTree=C.urlAfterRedirects}const S=new Xa(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);i.next(S)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:k,source:R,restoredState:j,extras:Q}=c,pe=new lp(S,this.serializeUrl(k),R,j);i.next(pe);const Me=VT(k,this.rootComponentType).snapshot;return pt(Object.assign(Object.assign({},c),{targetSnapshot:Me,urlAfterRedirects:k,extras:Object.assign(Object.assign({},Q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=c.rawUrl,c.resolve(null),Bc.E}),Z0(c=>{const{targetSnapshot:f,id:y,extractedUrl:w,rawUrl:C,extras:{skipLocationChange:S,replaceUrl:k}}=c;return this.hooks.beforePreactivation(f,{navigationId:y,appliedUrlTree:w,rawUrlTree:C,skipLocationChange:!!S,replaceUrl:!!k})}),(0,hr.b)(c=>{const f=new ma(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}),(0,dt.U)(c=>Object.assign(Object.assign({},c),{guards:SM(c.targetSnapshot,c.currentSnapshot,this.rootContexts)})),function lI(n,e){return(0,Bn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?pt(Object.assign(Object.assign({},t),{guardsResult:!0})):function kM(n,e,t,i){return(0,Qt.D)(n).pipe((0,Bn.z)(r=>function $0(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?pt(s.map(c=>{const f=v_(c,e,r);let y;if(function tU(n){return n&&Fl(n.canDeactivate)}(f))y=ya(f.canDeactivate(n,e,t,i));else{if(!Fl(f))throw new Error("Invalid CanDeactivate guard");y=ya(f(n,e,t,i))}return y.pipe(zc())})).pipe(Vu()):pt(!0)}(r.component,r.route,t,e,i)),zc(r=>!0!==r,!0))}(l,i,r,n).pipe((0,Bn.z)(c=>c&&function _M(n){return"boolean"==typeof n}(c)?function PM(n,e,t,i){return(0,Qt.D)(e).pipe(Br(r=>dT(function z0(n,e){return null!==n&&e&&e(new eM(n)),pt(!0)}(r.route.parent,i),function RM(n,e){return null!==n&&e&&e(new I0(n)),pt(!0)}(r.route,i),function uI(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function AM(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>hT(()=>pt(l.guards.map(f=>{const y=v_(f,l.node,t);let w;if(function eU(n){return n&&Fl(n.canActivateChild)}(y))w=ya(y.canActivateChild(i,n));else{if(!Fl(y))throw new Error("Invalid CanActivateChild guard");w=ya(y(i,n))}return w.pipe(zc())})).pipe(Vu())));return pt(s).pipe(Vu())}(n,r.path,t),function G0(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return pt(!0);const r=i.map(s=>hT(()=>{const l=v_(s,e,t);let c;if(function X2(n){return n&&Fl(n.canActivate)}(l))c=ya(l.canActivate(e,n));else{if(!Fl(l))throw new Error("Invalid CanActivate guard");c=ya(l(e,n))}return c.pipe(zc())}));return pt(r).pipe(Vu())}(n,r.route,t))),zc(r=>!0!==r,!0))}(i,s,n,e):pt(c)),(0,dt.U)(c=>Object.assign(Object.assign({},t),{guardsResult:c})))})}(this.ngModule.injector,c=>this.triggerEvent(c)),(0,hr.b)(c=>{if(Yc(c.guardsResult)){const y=rh(`Redirecting to "${this.serializeUrl(c.guardsResult)}"`);throw y.url=c.guardsResult,y}const f=new _a(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.triggerEvent(f)}),Xn(c=>!!c.guardsResult||(this.restoreHistory(c),this.cancelNavigationTransition(c,""),!1)),Z0(c=>{if(c.guards.canActivateChecks.length)return pt(c).pipe((0,hr.b)(f=>{const y=new vT(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),Vi(f=>{let y=!1;return pt(f).pipe(function Dp(n,e){return(0,Bn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return pt(t);let s=0;return(0,Qt.D)(r).pipe(Br(l=>function VM(n,e,t,i){return function nU(n,e,t,i){const r=W0(n);if(0===r.length)return pt({});const s={};return(0,Qt.D)(r).pipe((0,Bn.z)(l=>function BM(n,e,t,i){const r=v_(n,e,i);return ya(r.resolve?r.resolve(e,t):r(e,t))}(n[l],e,t,i).pipe((0,hr.b)(c=>{s[l]=c}))),s_(1),(0,Bn.z)(()=>W0(s).length===r.length?pt(s):Bc.E))}(n._resolve,n,e,i).pipe((0,dt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),mp(n,t).resolve),null)))}(l.route,i,n,e)),(0,hr.b)(()=>s++),s_(1),(0,Bn.z)(l=>s===r.length?pt(t):Bc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,hr.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),(0,hr.b)(f=>{const y=new bT(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}))}),Z0(c=>{const{targetSnapshot:f,id:y,extractedUrl:w,rawUrl:C,extras:{skipLocationChange:S,replaceUrl:k}}=c;return this.hooks.afterPreactivation(f,{navigationId:y,appliedUrlTree:w,rawUrlTree:C,skipLocationChange:!!S,replaceUrl:!!k})}),(0,dt.U)(c=>{const f=function pM(n,e,t){const i=lh(n,e._root,t?t._root:void 0);return new Dt(i,e)}(this.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return Object.assign(Object.assign({},c),{targetRouterState:f})}),(0,hr.b)(c=>{this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,dt.U)(i=>(new KT(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,c=>this.triggerEvent(c)),(0,hr.b)({next(){s=!0},complete(){s=!0}}),function X1(n){return(0,Tn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var c;s||l||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(c=this.currentNavigation)||void 0===c?void 0:c.id)===r.id&&(this.currentNavigation=null)}),Ja(c=>{if(l=!0,function iM(n){return n&&n[D0]}(c)){const f=Yc(c.url);f||(this.navigated=!0,this.restoreHistory(r,!0));const y=new _T(r.id,this.serializeUrl(r.extractedUrl),c.message);i.next(y),f?setTimeout(()=>{const w=this.urlHandlingStrategy.merge(c.url,this.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||WM(r.source)};this.scheduleNavigation(w,"imperative",null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new yT(r.id,this.serializeUrl(r.extractedUrl),c);i.next(f);try{r.resolve(this.errorHandler(c))}catch(y){r.reject(y)}}return Bc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},l=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(l){const f=Object.assign({},l);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,l,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){JT(t),this.config=t.map(V0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:c,preserveFragment:f}=i,y=r||this.routerState.root,w=f?this.currentUrlTree.fragment:l;let C=null;switch(c){case"merge":C=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}return null!==C&&(C=this.removeEmptyProps(C)),function HT(n,e,t,i,r){if(0===t.length)return N0(e.root,e.root,e.root,i,r);const s=function gM(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zT(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Ki(s.outlets,(f,y)=>{c[y]="string"==typeof f?f.split("/"):f}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((c,f)=>{0==f&&"."===c||(0==f&&""===c?t=!0:".."===c?e++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new zT(t,e,i)}(t);if(s.toRoot())return N0(e.root,e.root,new rn([],{}),i,r);const l=function f_(n,e,t){if(n.isAbsolute)return new F0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new F0(s,s===e.root,0)}const i=h_(n.commands[0])?0:1;return function GT(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new F0(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),c=l.processChildren?p_(l.segmentGroup,l.index,s.commands):L0(l.segmentGroup,l.index,s.commands);return N0(e.root,l.segmentGroup,c,i,r)}(y,this.currentUrlTree,t,C,null!=w?w:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Yc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function qM(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},GM):!1===i?Object.assign({},$M):i,Yc(t))return AT(this.currentUrlTree,t,r);const s=this.parseUrl(t);return AT(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ys(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,l){var c,f;if(this.disposed)return Promise.resolve(!1);let y,w,C;l?(y=l.resolve,w=l.reject,C=l.promise):C=new Promise((R,j)=>{y=R,w=j});const S=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),k=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(c=this.browserPageId)&&void 0!==c?c:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):k=0,this.setTransition({id:S,targetPageId:k,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:y,reject:w,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(R=>Promise.reject(R))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===l?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new _T(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function WM(n){return"imperative"!==n}let C_=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new D.x,this.subscription=t.events.subscribe(s=>{s instanceof ys&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,l){if(0!==t||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const c={skipLocationChange:va(this.skipLocationChange),replaceUrl:va(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,c),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:va(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Yi),d.Y36(ah),d.Y36(ye))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&d.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&d.uIk("target",i.target)("href",i.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})();function va(n){return""===n||!!n}class ZM{}class bI{preload(e,t){return pt(null)}}let KM=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new w_(r,i,f=>t.triggerEvent(new wT(f)),f=>t.triggerEvent(new ET(f)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xn(t=>t instanceof ys),Br(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const l=s._loadedConfig;r.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,Qt.D)(r).pipe((0,ap.J)(),(0,dt.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?pt(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Bn.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Yi),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(ZM))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),T_=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ys&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof CT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new CT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Bu=new d.OlP("ROUTER_CONFIGURATION"),I_=new d.OlP("ROUTER_FORROOT_GUARD"),YM=[Ie,{provide:RT,useClass:OT},{provide:Yi,useFactory:function tk(n,e,t,i,r,s,l={},c,f){const y=new Yi(null,n,e,t,i,r,S0(s));return c&&(y.urlHandlingStrategy=c),f&&(y.routeReuseStrategy=f),function nk(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,y),l.enableTracing&&y.events.subscribe(w=>{var C,S;null===(C=console.group)||void 0===C||C.call(console,`Router Event: ${w.constructor.name}`),console.log(w.toString()),console.log(w),null===(S=console.groupEnd)||void 0===S||S.call(console)}),y},deps:[RT,bp,Ie,d.zs3,d.Sil,b_,Bu,[class E_{},new d.FiY],[class jM{},new d.FiY]]},bp,{provide:ah,useFactory:function ik(n){return n.routerState.root},deps:[Yi]},KM,bI,class vI{preload(e,t){return t().pipe(Ja(()=>pt(null)))}},{provide:Bu,useValue:{enableTracing:!1}}];function QM(){return new d.PXZ("Router",Yi)}let Ap=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[YM,wI(t),{provide:I_,useFactory:ek,deps:[[Yi,new d.FiY,new d.tp0]]},{provide:Bu,useValue:i||{}},{provide:ye,useFactory:XM,deps:[he,[new d.tBr(Ye),new d.FiY],Bu]},{provide:T_,useFactory:JM,deps:[Yi,ac,Bu]},{provide:ZM,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:bI},{provide:d.PXZ,multi:!0,useFactory:QM},[Qc,{provide:d.ip1,multi:!0,useFactory:EI,deps:[Qc]},{provide:Q0,useFactory:CI,deps:[Qc]},{provide:d.tb,multi:!0,useExisting:Q0}]]}}static forChild(t){return{ngModule:n,providers:[wI(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(I_,8),d.LFG(Yi,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function JM(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new T_(n,e,t)}function XM(n,e,t={}){return t.useHash?new ke(n,e):new et(n,e)}function ek(n){return"guarded"}function wI(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:b_,multi:!0,useValue:n}]}let Qc=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new D.x}appInitializer(){return this.injector.get(K,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(c=>i=c),s=this.injector.get(Yi),l=this.injector.get(Bu);return"disabled"===l.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?pt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Bu),r=this.injector.get(KM),s=this.injector.get(T_),l=this.injector.get(Yi),c=this.injector.get(d.z2F);t===c.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&l.initialNavigation(),r.setUpPreloading(),s.init(),l.resetRootComponentType(c.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function EI(n){return n.appInitializer.bind(n)}function CI(n){return n.bootstrapListener.bind(n)}const Q0=new d.OlP("Router Initializer");let II=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-notfound"]],decls:2,vars:0,template:function(t,i){1&t&&(d.TgZ(0,"p"),d._uU(1,"notfound works!"),d.qZA())},styles:[""]}),n})();var ko,$=U(5861),J0=function(n,e,t,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(n,t):r?r.value=t:e.set(n,t),t},ju=function(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)};class sk{constructor(){ko.set(this,void 0),J0(this,ko,new Map,"f")}addEventListener(e,t){var i;this.removeEventListener(e,t),ju(this,ko,"f").get(e)||ju(this,ko,"f").set(e,[]),null===(i=ju(this,ko,"f").get(e))||void 0===i||i.push(t)}removeEventListener(e,t){const i=ju(this,ko,"f").get(e);if(!i)return;const r=i.length,s=i.indexOf(t);s<0||(1===r?ju(this,ko,"f").delete(e):i.splice(s,1))}removeAllEventListeners(e){e?ju(this,ko,"f").delete(e):J0(this,ko,new Map,"f")}dispatchEvent(e,t){var i;null===(i=ju(this,ko,"f").get(e))||void 0===i||i.forEach(r=>r(t))}hasEventListener(e){return!!ju(this,ko,"f").get(e)}}ko=new WeakMap;class an{constructor(e,t){if("number"!=typeof e&&e)this.x=e.x,this.y=e.y;else{if(void 0===e||void 0===t)throw new Error("tsParticles - Vector not initialized correctly");this.x=e,this.y=t}}static clone(e){return an.create(e.x,e.y)}static create(e,t){return new an(e,t)}static get origin(){return an.create(0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this.updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this.updateFromAngle(this.angle,e)}add(e){return an.create(this.x+e.x,this.y+e.y)}addTo(e){this.x+=e.x,this.y+=e.y}sub(e){return an.create(this.x-e.x,this.y-e.y)}subFrom(e){this.x-=e.x,this.y-=e.y}mult(e){return an.create(this.x*e,this.y*e)}multTo(e){this.x*=e,this.y*=e}div(e){return an.create(this.x/e,this.y/e)}divTo(e){this.x/=e,this.y/=e}distanceTo(e){return this.sub(e).length}getLengthSq(){return this.x**2+this.y**2}distanceToSq(e){return this.sub(e).getLengthSq()}manhattanDistanceTo(e){return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}copy(){return an.clone(this)}setTo(e){this.x=e.x,this.y=e.y}rotate(e){return an.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e))}updateFromAngle(e,t){this.x=Math.cos(e)*t,this.y=Math.sin(e)*t}}function Gr(n,e,t){return Math.min(Math.max(n,e),t)}function X0(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function _i(n){const e=$s(n);let t=gh(n);return e===t&&(t=0),Math.random()*(e-t)+t}function _t(n){return"number"==typeof n?n:_i(n)}function gh(n){return"number"==typeof n?n:n.min}function $s(n){return"number"==typeof n?n:n.max}function Ct(n,e){if(n===e||void 0===e&&"number"==typeof n)return n;const t=gh(n),i=$s(n);return void 0!==e?{min:Math.min(t,e),max:Math.max(i,e)}:Ct(t,i)}function Ul(n){const e=n.random,{enable:t,minimumValue:i}="boolean"==typeof e?{enable:e,minimumValue:0}:e;return _t(t?Ct(n.value,i):n.value)}function Bi(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t*t+i*i)}}function Ti(n,e){return Bi(n,e).distance}function DI(n,e,t,i){return an.create(n.x*(t-i)/(t+i)+2*e.x*i/(t+i),n.y)}function SI(n,e){switch(e){case"ease-out-quad":return 1-(1-n)**2;case"ease-out-cubic":return 1-(1-n)**3;case"ease-out-quart":return 1-(1-n)**4;case"ease-out-quint":return 1-(1-n)**5;case"ease-out-expo":return 1===n?1:1-Math.pow(2,-10*n);case"ease-out-sine":return Math.sin(n*Math.PI/2);case"ease-out-back":return 1+2.70158*Math.pow(n-1,3)+1.70158*Math.pow(n-1,2);case"ease-out-circ":return Math.sqrt(1-Math.pow(n-1,2));default:return n}}function AI(n){var e,t;return void 0!==(null===(e=n.position)||void 0===e?void 0:e.x)&&void 0!==(null===(t=n.position)||void 0===t?void 0:t.y)?{x:n.position.x*n.size.width/100,y:n.position.y*n.size.height/100}:void 0}function eb(n){var e,t,i,r;return{x:(null!==(t=null===(e=n.position)||void 0===e?void 0:e.x)&&void 0!==t?t:100*Math.random())*n.size.width/100,y:(null!==(r=null===(i=n.position)||void 0===i?void 0:i.y)&&void 0!==r?r:100*Math.random())*n.size.height/100}}function A_(n){var e,t;const i={x:void 0!==(null===(e=n.position)||void 0===e?void 0:e.x)?_t(n.position.x):void 0,y:void 0!==(null===(t=n.position)||void 0===t?void 0:t.y)?_t(n.position.y):void 0};return eb({size:n.size,position:i})}class ln{constructor(){this.value=""}static create(e,t){const i=new ln;return i.load(e),void 0!==t&&i.load("string"==typeof t||t instanceof Array?{value:t}:t),i}load(e){void 0!==(null==e?void 0:e.value)&&(this.value=e.value)}}class rU{constructor(){this.color=new ln,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){!e||(void 0!==e.color&&(this.color=ln.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image),void 0!==e.position&&(this.position=e.position),void 0!==e.repeat&&(this.repeat=e.repeat),void 0!==e.size&&(this.size=e.size),void 0!==e.opacity&&(this.opacity=e.opacity))}}class nb{constructor(){this.color=new ln,this.color.value="#fff",this.opacity=1}load(e){!e||(void 0!==e.color&&(this.color=ln.create(this.color,e.color)),void 0!==e.opacity&&(this.opacity=e.opacity))}}class ib{constructor(){this.composite="destination-out",this.cover=new nb,this.enable=!1}load(e){if(e){if(void 0!==e.composite&&(this.composite=e.composite),void 0!==e.cover){const t=e.cover,i="string"==typeof e.cover?{color:e.cover}:e.cover;this.cover.load(void 0!==t.color?t:{color:i})}void 0!==e.enable&&(this.enable=e.enable)}}}class xI{constructor(){this.enable=!0,this.zIndex=0}load(e){!e||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.zIndex&&(this.zIndex=e.zIndex))}}class rb{constructor(){this.enable=!1,this.mode=[]}load(e){!e||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode))}}class xp{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get elementId(){return this.ids}set elementId(e){this.ids=e}get el(){return this.elementId}set el(e){this.elementId=e}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map(t=>`#${t}`):`#${e}`}load(e){var t,i;if(!e)return;const r=null!==(i=null!==(t=e.ids)&&void 0!==t?t:e.elementId)&&void 0!==i?i:e.el;void 0!==r&&(this.ids=r),void 0!==e.selectors&&(this.selectors=e.selectors),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.type&&(this.type=e.type)}}class ok{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){!e||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.force&&(this.force=e.force),void 0!==e.smooth&&(this.smooth=e.smooth))}}class ak{constructor(){this.enable=!1,this.mode=[],this.parallax=new ok}load(e){!e||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class lk{constructor(){this.onClick=new rb,this.onDiv=new xp,this.onHover=new ak,this.resize=!0}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){var t,i,r;if(!e)return;this.onClick.load(null!==(t=e.onClick)&&void 0!==t?t:e.onclick);const s=null!==(i=e.onDiv)&&void 0!==i?i:e.ondiv;void 0!==s&&(s instanceof Array?this.onDiv=s.map(l=>{const c=new xp;return c.load(l),c}):(this.onDiv=new xp,this.onDiv.load(s))),this.onHover.load(null!==(r=e.onHover)&&void 0!==r?r:e.onhover),void 0!==e.resize&&(this.resize=e.resize)}}class uk{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){!e||(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed),void 0!==e.speed&&(this.speed=e.speed))}}class MI{constructor(){this.distance=200}load(e){!e||void 0!==e.distance&&(this.distance=e.distance)}}class x_{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){!e||(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.mix&&(this.mix=e.mix),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.color&&(e.color instanceof Array?this.color=e.color.map(t=>ln.create(void 0,t)):(this.color instanceof Array&&(this.color=new ln),this.color=ln.create(this.color,e.color))),void 0!==e.size&&(this.size=e.size))}}class sb extends x_{constructor(){super(),this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map(t=>`#${t}`):`#${e}`}load(e){super.load(e),e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}class kI extends x_{load(e){super.load(e),e&&(e.divs instanceof Array?this.divs=e.divs.map(t=>{const i=new sb;return i.load(t),i}):((this.divs instanceof Array||!this.divs)&&(this.divs=new sb),this.divs.load(e.divs)))}}class PI{constructor(){this.opacity=.5}load(e){void 0!==e&&void 0!==e.opacity&&void 0!==e.opacity&&(this.opacity=e.opacity)}}class RI{constructor(){this.distance=80,this.links=new PI,this.radius=60}get line_linked(){return this.links}set line_linked(e){this.links=e}get lineLinked(){return this.links}set lineLinked(e){this.links=e}load(e){var t,i;!e||(void 0!==e.distance&&(this.distance=e.distance),this.links.load(null!==(i=null!==(t=e.links)&&void 0!==t?t:e.lineLinked)&&void 0!==i?i:e.line_linked),void 0!==e.radius&&(this.radius=e.radius))}}class ck{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){!e||(void 0!==e.blink&&(this.blink=e.blink),void 0!==e.color&&(this.color=ln.create(this.color,e.color)),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.opacity&&(this.opacity=e.opacity))}}class OI{constructor(){this.distance=100,this.links=new ck}get line_linked(){return this.links}set line_linked(e){this.links=e}get lineLinked(){return this.links}set lineLinked(e){this.links=e}load(e){var t,i;!e||(void 0!==e.distance&&(this.distance=e.distance),this.links.load(null!==(i=null!==(t=e.links)&&void 0!==t?t:e.lineLinked)&&void 0!==i?i:e.line_linked))}}class NI{constructor(){this.start=new ln,this.stop=new ln,this.start.value="#ffffff",this.stop.value="#000000"}load(e){!e||(this.start=ln.create(this.start,e.start),this.stop=ln.create(this.stop,e.stop))}}class dk{constructor(){this.gradient=new NI,this.radius=1e3}load(e){!e||(this.gradient.load(e.gradient),void 0!==e.radius&&(this.radius=e.radius))}}class FI{constructor(){this.color=new ln,this.color.value="#000000",this.length=2e3}load(e){!e||(this.color=ln.create(this.color,e.color),void 0!==e.length&&(this.length=e.length))}}class LI{constructor(){this.area=new dk,this.shadow=new FI}load(e){!e||(this.area.load(e.area),this.shadow.load(e.shadow))}}class $r{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var t;if(!e)return;void 0!==e.default&&(this.default=e.default),void 0!==e.groups&&(this.groups=e.groups.map(r=>r)),this.groups.length||(this.default=!0);const i=null!==(t=e.quantity)&&void 0!==t?t:e.particles_nb;void 0!==i&&(this.quantity=i)}}class mh{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var t;if(!e)return;const i=null!==(t=e.quantity)&&void 0!==t?t:e.particles_nb;void 0!==i&&(this.quantity=i)}}class UI{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){!e||(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.speed&&(this.speed=e.speed),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed))}}class VI extends UI{constructor(){super(),this.selectors=[]}get ids(){return this.selectors instanceof Array?this.selectors.map(e=>e.replace("#","")):this.selectors.replace("#","")}set ids(e){this.selectors=e instanceof Array?e.map(()=>`#${e}`):`#${e}`}load(e){super.load(e),e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}class sU extends UI{load(e){super.load(e),e&&(e.divs instanceof Array?this.divs=e.divs.map(t=>{const i=new VI;return i.load(t),i}):((this.divs instanceof Array||!this.divs)&&(this.divs=new VI),this.divs.load(e.divs)))}}class Mp{constructor(){this.factor=3,this.radius=200}get active(){return!1}set active(e){}load(e){!e||(void 0!==e.factor&&(this.factor=e.factor),void 0!==e.radius&&(this.radius=e.radius))}}class hk{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){!e||(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.quantity&&(this.quantity=e.quantity),void 0!==e.particles&&(this.particles=Pn({},e.particles)),void 0!==e.pauseOnStop&&(this.pauseOnStop=e.pauseOnStop))}}class ob{constructor(){this.attract=new uk,this.bounce=new MI,this.bubble=new kI,this.connect=new RI,this.grab=new OI,this.light=new LI,this.push=new $r,this.remove=new mh,this.repulse=new sU,this.slow=new Mp,this.trail=new hk}load(e){!e||(this.attract.load(e.attract),this.bubble.load(e.bubble),this.connect.load(e.connect),this.grab.load(e.grab),this.light.load(e.light),this.push.load(e.push),this.remove.load(e.remove),this.repulse.load(e.repulse),this.slow.load(e.slow),this.trail.load(e.trail))}}class fk{constructor(){this.detectsOn="window",this.events=new lk,this.modes=new ob}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){var t,i,r;if(!e)return;const s=null!==(t=e.detectsOn)&&void 0!==t?t:e.detect_on;void 0!==s&&(this.detectsOn=s),this.events.load(e.events),this.modes.load(e.modes),!0===(null===(r=null===(i=e.modes)||void 0===i?void 0:i.slow)||void 0===r?void 0:r.active)&&(this.events.onHover.mode instanceof Array?this.events.onHover.mode.indexOf("slow")<0&&this.events.onHover.mode.push("slow"):"slow"!==this.events.onHover.mode&&(this.events.onHover.mode=[this.events.onHover.mode,"slow"]))}}class BI{load(e){var t,i;!e||(void 0!==e.position&&(this.position={x:null!==(t=e.position.x)&&void 0!==t?t:50,y:null!==(i=e.position.y)&&void 0!==i?i:50}),void 0!==e.options&&(this.options=Pn({},e.options)))}}class pk{constructor(){this.factor=4,this.value=!0}load(e){!e||(void 0!==e.factor&&(this.factor=e.factor),void 0!==e.value&&(this.value=e.value))}}class gk{constructor(){this.disable=!1,this.reduce=new pk}load(e){!e||(void 0!==e.disable&&(this.disable=e.disable),this.reduce.load(e.reduce))}}class ab{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){!e||(void 0!==e.maxWidth&&(this.maxWidth=e.maxWidth),void 0!==e.mode&&(this.mode="screen"===e.mode?"screen":"canvas"),void 0!==e.options&&(this.options=Pn({},e.options)))}}class jI{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){!e||(void 0!==e.auto&&(this.auto=e.auto),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}class HI{constructor(){this.name="",this.default=new jI}load(e){!e||(void 0!==e.name&&(this.name=e.name),this.default.load(e.default),void 0!==e.options&&(this.options=Pn({},e.options)))}}var k_,_h,P_,Jc=function(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)};class zI{constructor(e){k_.add(this),_h.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,_h,e),this.autoPlay=!0,this.background=new rU,this.backgroundMask=new ib,this.fullScreen=new xI,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new fk,this.manualParticles=[],this.motion=new gk,this.particles=U_(),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.style={},this.themes=[],this.zLayers=100}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}load(e){var t,i,r,s,l;if(!e)return;if(void 0!==e.preset)if(e.preset instanceof Array)for(const w of e.preset)this.importPreset(w);else this.importPreset(e.preset);void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay);const c=null!==(t=e.detectRetina)&&void 0!==t?t:e.retina_detect;void 0!==c&&(this.detectRetina=c),void 0!==e.duration&&(this.duration=e.duration);const f=null!==(i=e.fpsLimit)&&void 0!==i?i:e.fps_limit;void 0!==f&&(this.fpsLimit=f),void 0!==e.pauseOnBlur&&(this.pauseOnBlur=e.pauseOnBlur),void 0!==e.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),void 0!==e.zLayers&&(this.zLayers=e.zLayers),this.background.load(e.background);const y=null!==(r=e.fullScreen)&&void 0!==r?r:e.backgroundMode;if("boolean"==typeof y?this.fullScreen.enable=y:this.fullScreen.load(y),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),void 0!==e.manualParticles&&(this.manualParticles=e.manualParticles.map(w=>{const C=new BI;return C.load(w),C})),this.motion.load(e.motion),this.particles.load(e.particles),this.style=Pn(this.style,e.style),Jc(this,_h,"f").plugins.loadOptions(this,e),void 0!==e.responsive)for(const w of e.responsive){const C=new ab;C.load(w),this.responsive.push(C)}if(this.responsive.sort((w,C)=>w.maxWidth-C.maxWidth),void 0!==e.themes)for(const w of e.themes){const C=new HI;C.load(w),this.themes.push(C)}this.defaultDarkTheme=null===(s=Jc(this,k_,"m",P_).call(this,"dark"))||void 0===s?void 0:s.name,this.defaultLightTheme=null===(l=Jc(this,k_,"m",P_).call(this,"light"))||void 0===l?void 0:l.name}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t="undefined"!=typeof matchMedia&&matchMedia("(prefers-color-scheme: dark)"),i=t&&t.matches,r=Jc(this,k_,"m",P_).call(this,i?"dark":"light");r&&this.load(r.options)}}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(s=>"screen"===s.mode&&screen?s.maxWidth*t>screen.availWidth:s.maxWidth*t>e);return this.load(null==r?void 0:r.options),null==r?void 0:r.maxWidth}importPreset(e){this.load(Jc(this,_h,"f").plugins.getPreset(e))}}_h=new WeakMap,k_=new WeakSet,P_=function(e){var t;return null!==(t=this.themes.find(i=>i.default.value&&i.default.mode===e))&&void 0!==t?t:this.themes.find(i=>i.default.value&&"any"===i.default.mode)};class yh{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.sync=!0}load(e){!e||(void 0!==e.count&&(this.count=Ct(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(this.offset=Ct(e.offset)),void 0!==e.speed&&(this.speed=Ct(e.speed)),void 0!==e.sync&&(this.sync=e.sync))}}class GI{constructor(){this.h=new yh,this.s=new yh,this.l=new yh}load(e){!e||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Hu extends ln{constructor(){super(),this.animation=new GI}static create(e,t){const i=new Hu;return i.load(e),void 0!==t&&i.load("string"==typeof t||t instanceof Array?{value:t}:t),i}load(e){if(super.load(e),!e)return;const t=e.animation;void 0!==t&&(void 0!==t.enable?this.animation.h.load(t):this.animation.load(e.animation))}}class R_{constructor(){this.angle=new lb,this.colors=[],this.type="random"}load(e){!e||(this.angle.load(e.angle),void 0!==e.colors&&(this.colors=e.colors.map(t=>{const i=new mk;return i.load(t),i})),void 0!==e.type&&(this.type=e.type))}}class lb{constructor(){this.value=0,this.animation=new _k,this.direction="clockwise"}load(e){!e||(this.animation.load(e.animation),void 0!==e.value&&(this.value=e.value),void 0!==e.direction&&(this.direction=e.direction))}}class oU{constructor(){this.value=0,this.animation=new $I}load(e){!e||(this.animation.load(e.animation),void 0!==e.value&&(this.value=Ct(e.value)))}}class mk{constructor(){this.stop=0,this.value=new Hu}load(e){!e||(void 0!==e.stop&&(this.stop=e.stop),this.value=Hu.create(this.value,e.value),void 0!==e.opacity&&(this.opacity=new oU,"number"==typeof e.opacity?this.opacity.value=e.opacity:this.opacity.load(e.opacity)))}}class _k{constructor(){this.count=0,this.enable=!1,this.speed=0,this.sync=!1}load(e){!e||(void 0!==e.count&&(this.count=Ct(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=Ct(e.speed)),void 0!==e.sync&&(this.sync=e.sync))}}class $I{constructor(){this.count=0,this.enable=!1,this.speed=0,this.sync=!1,this.startValue="random"}load(e){!e||(void 0!==e.count&&(this.count=Ct(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=Ct(e.speed)),void 0!==e.sync&&(this.sync=e.sync),void 0!==e.startValue&&(this.startValue=e.startValue))}}class qI{constructor(){this.enable=!0,this.retries=0}load(e){!e||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.retries&&(this.retries=e.retries))}}class yk{constructor(){this.enable=!1,this.minimumValue=0}load(e){!e||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.minimumValue&&(this.minimumValue=e.minimumValue))}}class qr{constructor(){this.random=new yk,this.value=0}load(e){!e||("boolean"==typeof e.random?this.random.enable=e.random:this.random.load(e.random),void 0!==e.value&&(this.value=Ct(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class ub extends qr{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class WI{constructor(){this.horizontal=new ub,this.vertical=new ub}load(e){!e||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class vk{constructor(){this.bounce=new WI,this.enable=!1,this.mode="bounce",this.overlap=new qI}load(e){!e||(this.bounce.load(e.bounce),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class ZI extends qr{constructor(){super(),this.value=3}}class bk extends qr{constructor(){super(),this.value={min:4,max:9}}}class KI{constructor(){this.count=1,this.factor=new ZI,this.rate=new bk,this.sizeOffset=!0}load(e){!e||(void 0!==e.count&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),void 0!==e.particles&&(this.particles=Pn({},e.particles)),void 0!==e.sizeOffset&&(this.sizeOffset=e.sizeOffset))}}class YI{constructor(){this.mode="none",this.split=new KI}load(e){!e||(void 0!==e.mode&&(this.mode=e.mode),this.split.load(e.split))}}class QI extends qr{constructor(){super(),this.sync=!1}load(e){!e||(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class JI extends qr{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){!e||(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class wk{constructor(){this.count=0,this.delay=new QI,this.duration=new JI}load(e){!e||(void 0!==e.count&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class Ek{constructor(){this.blur=5,this.color=new ln,this.color.value="#000",this.enable=!1}load(e){!e||(void 0!==e.blur&&(this.blur=e.blur),this.color=ln.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable))}}class aU{constructor(){this.enable=!1,this.frequency=1}load(e){!e||(void 0!==e.color&&(this.color=ln.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity))}}class XI{constructor(){this.blink=!1,this.color=new ln,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new Ek,this.triangles=new aU,this.width=1,this.warp=!1}load(e){!e||(void 0!==e.id&&(this.id=e.id),void 0!==e.blink&&(this.blink=e.blink),this.color=ln.create(this.color,e.color),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),void 0!==e.width&&(this.width=e.width),void 0!==e.warp&&(this.warp=e.warp))}}class lU{constructor(){this.offset=0,this.value=90}load(e){!e||(void 0!==e.offset&&(this.offset=Ct(e.offset)),void 0!==e.value&&(this.value=Ct(e.value)))}}class uU{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var t,i,r,s;if(!e)return;void 0!==e.distance&&(this.distance=Ct(e.distance)),void 0!==e.enable&&(this.enable=e.enable);const l=null!==(i=null===(t=e.rotate)||void 0===t?void 0:t.x)&&void 0!==i?i:e.rotateX;void 0!==l&&(this.rotate.x=l);const c=null!==(s=null===(r=e.rotate)||void 0===r?void 0:r.y)&&void 0!==s?s:e.rotateY;void 0!==c&&(this.rotate.y=c)}}class cU{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){!e||(void 0!==e.acceleration&&(this.acceleration=Ct(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.inverse&&(this.inverse=e.inverse),void 0!==e.maxSpeed&&(this.maxSpeed=Ct(e.maxSpeed)))}}class dU extends qr{constructor(){super()}}class hU{constructor(){this.clamp=!0,this.delay=new dU,this.enable=!1,this.options={}}load(e){!e||(void 0!==e.clamp&&(this.clamp=e.clamp),this.delay.load(e.delay),void 0!==e.enable&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Pn(this.options,e.options)))}}class fU{constructor(){this.enable=!1,this.length=10,this.fillColor=new ln,this.fillColor.value="#000000"}load(e){!e||(void 0!==e.enable&&(this.enable=e.enable),this.fillColor=ln.create(this.fillColor,e.fillColor),void 0!==e.length&&(this.length=e.length))}}class pU{constructor(){this.default="out"}load(e){var t,i,r,s;!e||(void 0!==e.default&&(this.default=e.default),this.bottom=null!==(t=e.bottom)&&void 0!==t?t:e.default,this.left=null!==(i=e.left)&&void 0!==i?i:e.default,this.right=null!==(r=e.right)&&void 0!==r?r:e.default,this.top=null!==(s=e.top)&&void 0!==s?s:e.default)}}class gU{constructor(){this.acceleration=0,this.enable=!1}load(e){!e||(void 0!==e.acceleration&&(this.acceleration=Ct(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),this.position=e.position?Pn({},e.position):void 0)}}class O_{constructor(){this.angle=new lU,this.attract=new uU,this.center={x:50,y:50,radius:0},this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new cU,this.path=new hU,this.outModes=new pU,this.random=!1,this.size=!1,this.speed=2,this.spin=new gU,this.straight=!1,this.trail=new fU,this.vibrate=!1,this.warp=!1}get collisions(){return!1}set collisions(e){}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get noise(){return this.path}set noise(e){this.path=e}load(e){var t,i,r;if(!e)return;void 0!==e.angle&&("number"==typeof e.angle?this.angle.value=e.angle:this.angle.load(e.angle)),this.attract.load(e.attract),this.center=Pn(this.center,e.center),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.distance&&(this.distance="number"==typeof e.distance?{horizontal:e.distance,vertical:e.distance}:Pn({},e.distance)),void 0!==e.drift&&(this.drift=Ct(e.drift)),void 0!==e.enable&&(this.enable=e.enable),this.gravity.load(e.gravity);const s=null!==(t=e.outMode)&&void 0!==t?t:e.out_mode;(void 0!==e.outModes||void 0!==s)&&this.outModes.load("string"==typeof e.outModes||void 0===e.outModes&&void 0!==s?{default:null!==(i=e.outModes)&&void 0!==i?i:s}:e.outModes),this.path.load(null!==(r=e.path)&&void 0!==r?r:e.noise),void 0!==e.random&&(this.random=e.random),void 0!==e.size&&(this.size=e.size),void 0!==e.speed&&(this.speed=Ct(e.speed)),this.spin.load(e.spin),void 0!==e.straight&&(this.straight=e.straight),this.trail.load(e.trail),void 0!==e.vibrate&&(this.vibrate=e.vibrate),void 0!==e.warp&&(this.warp=e.warp)}}class eD{constructor(){this.count=0,this.enable=!1,this.speed=1,this.sync=!1}load(e){!e||(void 0!==e.count&&(this.count=Ct(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=Ct(e.speed)),void 0!==e.sync&&(this.sync=e.sync))}}class tD extends eD{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=2,this.startValue="random",this.sync=!1}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){var t;!e||(super.load(e),void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.enable&&(this.enable=e.enable),this.minimumValue=null!==(t=e.minimumValue)&&void 0!==t?t:e.opacity_min,void 0!==e.speed&&(this.speed=e.speed),void 0!==e.startValue&&(this.startValue=e.startValue),void 0!==e.sync&&(this.sync=e.sync))}}class cb extends qr{constructor(){super(),this.animation=new tD,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(!e)return;super.load(e);const i=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==i&&(this.animation.load(i),this.value=Ct(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class nD extends qr{constructor(){super(),this.value=45,this.random.enable=!1,this.random.minimumValue=0}load(e){void 0!==e&&super.load(e)}}class iD{constructor(){this.animation=new eD,this.enable=!1,this.opacity=1,this.rotation=new nD,this.width=1}load(e){!e||(this.animation.load(e.animation),this.rotation.load(e.rotation),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.opacity&&(this.opacity=Ct(e.opacity)),void 0!==e.width&&(this.width=Ct(e.width)),void 0!==e.radius&&(this.radius=Ct(e.radius)),void 0!==e.color&&(this.color=ln.create(this.color,e.color)))}}class mU{constructor(){this.enable=!1,this.area=800,this.factor=1e3}get value_area(){return this.area}set value_area(e){this.area=e}load(e){var t;if(!e)return;void 0!==e.enable&&(this.enable=e.enable);const i=null!==(t=e.area)&&void 0!==t?t:e.value_area;void 0!==i&&(this.area=i),void 0!==e.factor&&(this.factor=e.factor)}}class db{constructor(){this.density=new mU,this.limit=0,this.value=100}get max(){return this.limit}set max(e){this.limit=e}load(e){var t;if(!e)return;this.density.load(e.density);const i=null!==(t=e.limit)&&void 0!==t?t:e.max;void 0!==i&&(this.limit=i),void 0!==e.value&&(this.value=e.value)}}class rD extends qr{constructor(){super(),this.enabled=!1,this.distance=1,this.duration=1,this.factor=1,this.speed=1}load(e){super.load(e),e&&(void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.distance&&(this.distance=Ct(e.distance)),void 0!==e.duration&&(this.duration=Ct(e.duration)),void 0!==e.factor&&(this.factor=Ct(e.factor)),void 0!==e.speed&&(this.speed=Ct(e.speed)))}}class sD{constructor(){this.enable=!1,this.value=0}load(e){!e||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.value&&(this.value=Ct(e.value)))}}class oD{constructor(){this.darken=new sD,this.enable=!1,this.enlighten=new sD,this.mode="vertical",this.speed=25}load(e){!e||(void 0!==e.backColor&&(this.backColor=ln.create(this.backColor,e.backColor)),this.darken.load(e.darken),void 0!==e.enable&&(this.enable=e.enable),this.enlighten.load(e.enlighten),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.speed&&(this.speed=Ct(e.speed)))}}class _U{constructor(){this.enable=!1,this.speed=0,this.sync=!1}load(e){!e||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=Ct(e.speed)),void 0!==e.sync&&(this.sync=e.sync))}}class Ck extends qr{constructor(){super(),this.animation=new _U,this.direction="clockwise",this.path=!1,this.value=0}load(e){!e||(super.load(e),void 0!==e.direction&&(this.direction=e.direction),this.animation.load(e.animation),void 0!==e.path&&(this.path=e.path))}}class Tk{constructor(){this.blur=0,this.color=new ln,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){!e||(void 0!==e.blur&&(this.blur=e.blur),this.color=ln.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(void 0!==e.offset.x&&(this.offset.x=e.offset.x),void 0!==e.offset.y&&(this.offset.y=e.offset.y)))}}class N_{constructor(){this.options={},this.type="circle"}get image(){var e;return null!==(e=this.options.image)&&void 0!==e?e:this.options.images}set image(e){this.options.image=e,this.options.images=e}get custom(){return this.options}set custom(e){this.options=e}get images(){return this.image}set images(e){this.image=e}get stroke(){return[]}set stroke(e){}get character(){var e;return null!==(e=this.options.character)&&void 0!==e?e:this.options.char}set character(e){this.options.character=e,this.options.char=e}get polygon(){var e;return null!==(e=this.options.polygon)&&void 0!==e?e:this.options.star}set polygon(e){this.options.polygon=e,this.options.star=e}load(e){var t,i,r;if(!e)return;const s=null!==(t=e.options)&&void 0!==t?t:e.custom;if(void 0!==s)for(const l in s){const c=s[l];c&&(this.options[l]=Pn(null!==(i=this.options[l])&&void 0!==i?i:{},c))}this.loadShape(e.character,"character","char",!0),this.loadShape(e.polygon,"polygon","star",!1),this.loadShape(null!==(r=e.image)&&void 0!==r?r:e.images,"image","images",!0),void 0!==e.type&&(this.type=e.type)}loadShape(e,t,i,r){var s,l,c,f;void 0!==e&&(e instanceof Array?(this.options[t]instanceof Array||(this.options[t]=[],(!this.options[i]||r)&&(this.options[i]=[])),this.options[t]=Pn(null!==(s=this.options[t])&&void 0!==s?s:[],e),(!this.options[i]||r)&&(this.options[i]=Pn(null!==(l=this.options[i])&&void 0!==l?l:[],e))):(this.options[t]instanceof Array&&(this.options[t]={},(!this.options[i]||r)&&(this.options[i]={})),this.options[t]=Pn(null!==(c=this.options[t])&&void 0!==c?c:{},e),(!this.options[i]||r)&&(this.options[i]=Pn(null!==(f=this.options[i])&&void 0!==f?f:{},e))))}}class Ik extends eD{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=5,this.startValue="random",this.sync=!1}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){var t;super.load(e),e&&(void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.enable&&(this.enable=e.enable),this.minimumValue=null!==(t=e.minimumValue)&&void 0!==t?t:e.size_min,void 0!==e.speed&&(this.speed=e.speed),void 0!==e.startValue&&(this.startValue=e.startValue),void 0!==e.sync&&(this.sync=e.sync))}}class yU extends qr{constructor(){super(),this.animation=new Ik,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(super.load(e),!e)return;const i=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==i&&(this.animation.load(i),this.value=Ct(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class aD{constructor(){this.width=0}load(e){!e||(void 0!==e.color&&(this.color=Hu.create(this.color,e.color)),void 0!==e.width&&(this.width=e.width),void 0!==e.opacity&&(this.opacity=e.opacity))}}class vU{constructor(){this.enable=!1,this.speed=0,this.sync=!1}load(e){!e||(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=Ct(e.speed)),void 0!==e.sync&&(this.sync=e.sync))}}class Dk extends qr{constructor(){super(),this.animation=new vU,this.direction="clockwise",this.enable=!1,this.value=0}load(e){super.load(e),e&&(this.animation.load(e.animation),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.enable&&(this.enable=e.enable))}}class lD{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){!e||(void 0!==e.color&&(this.color=ln.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=Ct(e.opacity)))}}class Sk{constructor(){this.lines=new lD,this.particles=new lD}load(e){!e||(this.lines.load(e.lines),this.particles.load(e.particles))}}class bU{constructor(){this.distance=5,this.enable=!1,this.speed=50}load(e){!e||(void 0!==e.distance&&(this.distance=Ct(e.distance)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=Ct(e.speed)))}}class Ak extends qr{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(void 0!==e.opacityRate&&(this.opacityRate=e.opacityRate),void 0!==e.sizeRate&&(this.sizeRate=e.sizeRate),void 0!==e.velocityRate&&(this.velocityRate=e.velocityRate))}}class hb{constructor(){this.bounce=new WI,this.collisions=new vk,this.color=new Hu,this.color.value="#fff",this.destroy=new YI,this.gradient=[],this.groups={},this.life=new wk,this.links=new XI,this.move=new O_,this.number=new db,this.opacity=new cb,this.orbit=new iD,this.reduceDuplicates=!1,this.repulse=new rD,this.roll=new oD,this.rotate=new Ck,this.shadow=new Tk,this.shape=new N_,this.size=new yU,this.stroke=new aD,this.tilt=new Dk,this.twinkle=new Sk,this.wobble=new bU,this.zIndex=new Ak}get line_linked(){return this.links}set line_linked(e){this.links=e}get lineLinked(){return this.links}set lineLinked(e){this.links=e}load(e){var t,i,r,s,l,c,f,y;if(!e)return;this.bounce.load(e.bounce),this.color.load(Hu.create(this.color,e.color)),this.destroy.load(e.destroy),this.life.load(e.life);const w=null!==(i=null!==(t=e.links)&&void 0!==t?t:e.lineLinked)&&void 0!==i?i:e.line_linked;if(void 0!==w&&this.links.load(w),void 0!==e.groups)for(const R in e.groups){const j=e.groups[R];void 0!==j&&(this.groups[R]=Pn(null!==(r=this.groups[R])&&void 0!==r?r:{},j))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.orbit.load(e.orbit),void 0!==e.reduceDuplicates&&(this.reduceDuplicates=e.reduceDuplicates),this.repulse.load(e.repulse),this.roll.load(e.roll),this.rotate.load(e.rotate),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.tilt.load(e.tilt),this.twinkle.load(e.twinkle),this.wobble.load(e.wobble),this.zIndex.load(e.zIndex);const C=null!==(l=null===(s=e.move)||void 0===s?void 0:s.collisions)&&void 0!==l?l:null===(c=e.move)||void 0===c?void 0:c.bounce;void 0!==C&&(this.collisions.enable=C),this.collisions.load(e.collisions);const S=null!==(f=e.stroke)&&void 0!==f?f:null===(y=e.shape)||void 0===y?void 0:y.stroke;S&&(S instanceof Array?this.stroke=S.map(R=>{const j=new aD;return j.load(R),j}):(this.stroke instanceof Array&&(this.stroke=new aD),this.stroke.load(S)));const k=e.gradient;k&&(k instanceof Array?this.gradient=k.map(R=>{const j=new R_;return j.load(R),j}):(this.gradient instanceof Array&&(this.gradient=new R_),this.gradient.load(k)))}}function uD(n,e,t,i,r,s){const l={bounced:!1};return e.min<i.min||e.min>i.max||e.max<i.min||e.max>i.max||(n.max>=t.min&&n.max<=(t.max+t.min)/2&&r>0||n.min<=t.max&&n.min>(t.max+t.min)/2&&r<0)&&(l.velocity=r*-s,l.bounced=!0),l}function Po(n,e){if(!(e instanceof Array))return n.matches(e);for(const t of e)if(n.matches(t))return!0;return!1}function zu(){return"undefined"==typeof window||!window||void 0===window.document||!window.document}function In(n,e){return n===e||e instanceof Array&&e.indexOf(n)>-1}function F_(n,e){return L_.apply(this,arguments)}function L_(){return(L_=(0,$.Z)(function*(n,e){try{yield document.fonts.load(`${null!=e?e:"400"} 36px '${null!=n?n:"Verdana"}'`)}catch(t){}})).apply(this,arguments)}function Sr(n,e,t=!0){const i=void 0!==e&&t?e%n.length:function cD(n){return Math.floor(Math.random()*n.length)}(n);return n[i]}function vh(n,e,t,i,r){return function Mk(n,e,t,i){let r=!0;return(!i||"bottom"===i)&&(r=n.top<e.height+t.x),r&&(!i||"left"===i)&&(r=n.right>t.x),r&&(!i||"right"===i)&&(r=n.left<e.width+t.y),r&&(!i||"top"===i)&&(r=n.bottom>t.y),r}(kp(n,null!=i?i:0),e,t,r)}function kp(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function Pn(n,...e){for(const t of e){if(null==t)continue;if("object"!=typeof t){n=t;continue}const i=Array.isArray(t);!i||"object"==typeof n&&n&&Array.isArray(n)?!i&&("object"!=typeof n||!n||Array.isArray(n))&&(n={}):n=[];for(const r in t){if("__proto__"===r)continue;const l=t[r],f=n;f[r]="object"==typeof l&&Array.isArray(l)?l.map(y=>Pn(f[r],y)):Pn(f[r],l)}}return n}function Pp(n,e){return e instanceof Array?!!e.find(t=>t.enable&&In(n,t.mode)):In(n,e.mode)}function Vl(n,e,t){if(e instanceof Array)for(const i of e){const r=i.mode;i.enable&&In(n,r)&&pb(i,t)}else{const i=e.mode;e.enable&&In(n,i)&&pb(e,t)}}function pb(n,e){const t=n.selectors;if(t instanceof Array)for(const i of t)e(i,n);else e(t,n)}function gb(n,e){if(e&&n){if(n instanceof Array)return n.find(t=>Po(e,t.selectors));if(Po(e,n.selectors))return n}}function mb(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:an.create(Ul(n.options.bounce.horizontal),Ul(n.options.bounce.vertical))}}function kk(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,s]=[n.position,e.position],{dx:l,dy:c}=Bi(s,r);if(t*l+i*c<0)return;const f=-Math.atan2(c,l),y=n.mass,w=e.mass,C=n.velocity.rotate(f),S=e.velocity.rotate(f),k=DI(C,S,y,w),R=DI(S,C,y,w),j=k.rotate(-f),Q=R.rotate(-f);n.velocity.x=j.x*n.factor.x,n.velocity.y=j.y*n.factor.y,e.velocity.x=Q.x*e.factor.x,e.velocity.y=Q.y*e.factor.y}function Pk(n,e){const r=kp(n.getPosition(),n.getRadius()),s=uD({min:r.left,max:r.right},{min:r.top,max:r.bottom},{min:e.left,max:e.right},{min:e.top,max:e.bottom},n.velocity.x,Ul(n.options.bounce.horizontal));s.bounced&&(void 0!==s.velocity&&(n.velocity.x=s.velocity),void 0!==s.position&&(n.position.x=s.position));const l=uD({min:r.top,max:r.bottom},{min:r.left,max:r.right},{min:e.top,max:e.bottom},{min:e.left,max:e.right},n.velocity.y,Ul(n.options.bounce.vertical));l.bounced&&(void 0!==l.velocity&&(n.velocity.y=l.velocity),void 0!==l.position&&(n.position.y=l.position))}function dD(n,...e){for(const t of e)n.load(t)}function Rp(n,...e){const t=new zI(n);return dD(t,...e),t}function U_(...n){const e=new hb;return dD(e,...n),e}const Op="generated",V_="random",B_="touchend",Xc="mousemove",Np="mouseleave",j_="No polygon data loaded.";function _D(n,e,t){let i=t;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+6*(e-n)*i:i<.5?e:i<2/3?n+(e-n)*(2/3-i)*6:n}function Fk(n){if(n.startsWith("rgb")){const t=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.]+)\s*)?\)/i.exec(n);return t?{a:t.length>4?parseFloat(t[5]):1,b:parseInt(t[3],10),g:parseInt(t[2],10),r:parseInt(t[1],10)}:void 0}if(n.startsWith("hsl")){const t=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(n);return t?function CU(n){const e=H_(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}({a:t.length>4?parseFloat(t[5]):1,h:parseInt(t[1],10),l:parseInt(t[3],10),s:parseInt(t[2],10)}):void 0}if(n.startsWith("hsv")){const t=/hsva?\(\s*(\d+)\xb0\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.]+)\s*)?\)/i.exec(n);return t?function Uk(n){const e=bD(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}({a:t.length>4?parseFloat(t[5]):1,h:parseInt(t[1],10),s:parseInt(t[2],10),v:parseInt(t[3],10)}):void 0}{const t=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,(s,l,c,f,y)=>l+l+c+c+f+f+(void 0!==y?y+y:"")),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(t);return r?{a:void 0!==r[4]?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}}function Wr(n,e,t=!0){var i,r,s;if(void 0===n)return;const l="string"==typeof n?{value:n}:n;let c;if("string"==typeof l.value)c=l.value===V_?vb():function EU(n){return Fk(n)}(l.value);else if(l.value instanceof Array)c=Wr({value:Sr(l.value,e,t)});else{const f=l.value,y=null!==(i=f.rgb)&&void 0!==i?i:l.value;if(void 0!==y.r)c=y;else{const w=null!==(r=f.hsl)&&void 0!==r?r:l.value;if(void 0!==w.h&&void 0!==w.l)c=H_(w);else{const C=null!==(s=f.hsv)&&void 0!==s?s:l.value;void 0!==C.h&&void 0!==C.v&&(c=bD(C))}}}return c}function Gu(n,e,t=!0){const i=Wr(n,e,t);return void 0!==i?yD(i):void 0}function yD(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),s=Math.min(e,t,i),l={h:0,l:(r+s)/2,s:0};return r!==s&&(l.s=l.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),l.h=e===r?(t-i)/(r-s):l.h=t===r?2+(i-e)/(r-s):4+(e-t)/(r-s)),l.l*=100,l.s*=100,l.h*=60,l.h<0&&(l.h+=360),l}function H_(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(0===t.s)e.b=t.l,e.g=t.l,e.r=t.l;else{const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=_D(r,i,t.h+1/3),e.g=_D(r,i,t.h),e.b=_D(r,i,t.h-1/3)}return e.r=Math.floor(255*e.r),e.g=Math.floor(255*e.g),e.b=Math.floor(255*e.b),e}function bD(n){const e={b:0,g:0,r:0},t_h=n.h/60,t_v=n.v/100,i=t_v*(n.s/100),r=i*(1-Math.abs(t_h%2-1));let s;if(t_h>=0&&t_h<=1?s={r:i,g:r,b:0}:t_h>1&&t_h<=2?s={r,g:i,b:0}:t_h>2&&t_h<=3?s={r:0,g:i,b:r}:t_h>3&&t_h<=4?s={r:0,g:r,b:i}:t_h>4&&t_h<=5?s={r,g:0,b:i}:t_h>5&&t_h<=6&&(s={r:i,g:0,b:r}),s){const l=t_v-i;e.r=Math.floor(255*(s.r+l)),e.g=Math.floor(255*(s.g+l)),e.b=Math.floor(255*(s.b+l))}return e}function vb(n){const e=null!=n?n:0;return{b:Math.floor(_i(Ct(e,256))),g:Math.floor(_i(Ct(e,256))),r:Math.floor(_i(Ct(e,256)))}}function vs(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${null!=e?e:1})`}function Bl(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${null!=e?e:1})`}function Fp(n,e,t,i){let r=n,s=e;return void 0===r.r&&(r=H_(n)),void 0===s.r&&(s=H_(e)),{b:X0(r.b,s.b,t,i),g:X0(r.g,s.g,t,i),r:X0(r.r,s.r,t,i)}}function Lp(n,e,t){var i,r;if(t===V_)return vb();if("mid"!==t)return t;{const s=null!==(i=n.getFillColor())&&void 0!==i?i:n.getStrokeColor(),l=null!==(r=null==e?void 0:e.getFillColor())&&void 0!==r?r:null==e?void 0:e.getStrokeColor();if(s&&l&&e)return Fp(s,l,n.getRadius(),e.getRadius());{const c=null!=s?s:l;if(c)return H_(c)}}}function Up(n,e,t){const i="string"==typeof n?n:n.value;return i===V_?t?Wr({value:i}):e?V_:"mid":Wr({value:i})}function Vk(n){return void 0!==n?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function Bk(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(ED(i.h,e.h,t),ED(i.s,e.s,t),ED(i.l,e.l,t)),i}function ED(n,e,t){if(n.enable=e.enable,n.enable){if(n.velocity=_t(e.speed)/100*t,e.sync)return;n.status=0,n.velocity*=Math.random(),n.value&&(n.value*=Math.random())}else n.velocity=0}function z_(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function bb(n,e){n.clearRect(0,0,e.width,e.height)}class xD{constructor(e){this.container=e,this.size={height:0,width:0},this.context=null,this.generatedCanvas=!1}init(){this.resize(),this.initStyle(),this.initCover(),this.initTrail(),this.initBackground(),this.paint()}loadCanvas(e){var t;this.generatedCanvas&&(null===(t=this.element)||void 0===t||t.remove()),this.generatedCanvas=e.dataset&&Op in e.dataset?"true"===e.dataset[Op]:this.generatedCanvas,this.element=e,this.originalStyle=Pn({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this.context=this.element.getContext("2d"),this.container.retina.init(),this.initBackground()}destroy(){var e;this.generatedCanvas&&(null===(e=this.element)||void 0===e||e.remove()),this.draw(t=>{bb(t,this.size)})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(bb(t,this.size),this.paintBase(this.coverColorStyle)):this.paintBase()})}clear(){const e=this.container.actualOptions,t=e.particles.move.trail;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&this.trailFillColor?this.paintBase(vs(this.trailFillColor,1/t.length)):this.draw(i=>{bb(i,this.size)})}windowResize(){var e=this;return(0,$.Z)(function*(){if(!e.element)return;e.resize();const t=e.container,i=t.updateActualOptions();t.particles.setDensity();for(const[,r]of t.plugins)void 0!==r.resize&&r.resize();i&&(yield t.refresh())})()}resize(){if(!this.element)return;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r_width=this.element.offsetWidth*t,r_height=this.element.offsetHeight*t;if(r_height===i.height&&r_width===i.width&&r_height===this.element.height&&r_width===this.element.width)return;const s=Object.assign({},i);this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height})}drawConnectLine(e,t){this.draw(i=>{var r;const s=this.lineStyle(e,t);if(!s)return;const l=e.getPosition(),c=t.getPosition();!function Hk(n,e,t,i,r){n.save(),z_(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke(),n.restore()}(i,null!==(r=e.retina.linksWidth)&&void 0!==r?r:this.container.retina.linksWidth,s,l,c)})}drawGrabLine(e,t,i,r){const s=this.container;this.draw(l=>{var c;const f=e.getPosition();!function TD(n,e,t,i,r,s){n.save(),z_(n,t,i),n.strokeStyle=vs(r,s),n.lineWidth=e,n.stroke(),n.restore()}(l,null!==(c=e.retina.linksWidth)&&void 0!==c?c:s.retina.linksWidth,f,r,t,i)})}drawParticle(e,t){var i,r,s,l,c,f;if(e.spawning||e.destroyed)return;const y=e.getRadius();if(y<=0)return;const w=e.getFillColor(),C=null!==(i=e.getStrokeColor())&&void 0!==i?i:w;if(!w&&!C)return;let[S,k]=this.getPluginParticleColors(e);(!S||!k)&&(S||(S=w||void 0),k||(k=C||void 0));const R=this.container.actualOptions,j=e.options.zIndex,Q=(1-e.zIndexFactor)**j.opacityRate,pe=null!==(l=null!==(r=e.bubble.opacity)&&void 0!==r?r:null===(s=e.opacity)||void 0===s?void 0:s.value)&&void 0!==l?l:1,Me=null!==(f=null===(c=e.stroke)||void 0===c?void 0:c.opacity)&&void 0!==f?f:pe,Ue=pe*Q,Ne=Me*Q,at={fill:S?Bl(S,Ue):void 0};at.stroke=k?Bl(k,Ne):at.fill,this.draw(lt=>{const Ft=(1-e.zIndexFactor)**j.sizeRate,An=this.container;for(const Fn of An.particles.updaters)if(Fn.beforeDraw&&Fn.beforeDraw(e),Fn.getColorStyles){const{fill:ts,stroke:Si}=Fn.getColorStyles(e,lt,y,Ue);ts&&(at.fill=ts),Si&&(at.stroke=Si)}!function ID(n,e,t,i,r,s,l,c,f,y){var w,C,S,k;const R=t.getPosition(),j=t.options.tilt,Q=t.options.roll;if(e.save(),j.enable||Q.enable){const Ne=Q.enable&&t.roll,at=j.enable&&t.tilt,Ft=Ne&&("vertical"===Q.mode||"both"===Q.mode);e.setTransform(!Ne||"horizontal"!==Q.mode&&"both"!==Q.mode?1:Math.cos(t.roll.angle),at?Math.cos(t.tilt.value)*t.tilt.cosDirection:0,at?Math.sin(t.tilt.value)*t.tilt.sinDirection:0,Ft?Math.sin(t.roll.angle):1,R.x,R.y)}else e.translate(R.x,R.y);e.beginPath();const pe=(null!==(C=null===(w=t.rotate)||void 0===w?void 0:w.value)&&void 0!==C?C:0)+(t.options.rotate.path?t.velocity.angle:0);0!==pe&&e.rotate(pe),s&&(e.globalCompositeOperation=l);const Me=t.shadowColor;y.enable&&Me&&(e.shadowBlur=y.blur,e.shadowColor=vs(Me),e.shadowOffsetX=y.offset.x,e.shadowOffsetY=y.offset.y),r.fill&&(e.fillStyle=r.fill);const Ue=t.stroke;e.lineWidth=null!==(S=t.strokeWidth)&&void 0!==S?S:0,r.stroke&&(e.strokeStyle=r.stroke),function DD(n,e,t,i,r,s){if(!t.shape)return;const l=n.drawers.get(t.shape);!l||l.draw(e,t,i,r,s,n.retina.pixelRatio)}(n,e,t,c,f,i),(null!==(k=null==Ue?void 0:Ue.width)&&void 0!==k?k:0)>0&&e.stroke(),t.close&&e.closePath(),t.fill&&e.fill(),e.restore(),e.save(),j.enable&&t.tilt?e.setTransform(1,Math.cos(t.tilt.value)*t.tilt.cosDirection,Math.sin(t.tilt.value)*t.tilt.sinDirection,1,R.x,R.y):e.translate(R.x,R.y),0!==pe&&e.rotate(pe),s&&(e.globalCompositeOperation=l),function Gk(n,e,t,i,r,s){if(!t.shape)return;const l=n.drawers.get(t.shape);!(null==l?void 0:l.afterEffect)||l.afterEffect(e,t,i,r,s,n.retina.pixelRatio)}(n,e,t,c,f,i),e.restore()}(An,lt,e,t,at,R.backgroundMask.enable,R.backgroundMask.composite,y*Ft,Ue,e.options.shadow);for(const Fn of An.particles.updaters)Fn.afterDraw&&Fn.afterDraw(e)})}drawPlugin(e,t){this.draw(i=>{!function $k(n,e,t){!e.draw||(n.save(),e.draw(n,t),n.restore())}(i,e,t)})}drawParticlePlugin(e,t,i){this.draw(r=>{!function SD(n,e,t,i){!e.drawParticle||(n.save(),e.drawParticle(n,t,i),n.restore())}(r,e,t,i)})}initBackground(){const t=this.container.actualOptions.background,i=this.element,r=null==i?void 0:i.style;if(r){if(t.color){const s=Wr(t.color);r.backgroundColor=s?vs(s,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}draw(e){if(this.context)return e(this.context)}initCover(){const t=this.container.actualOptions.backgroundMask.cover,r=Wr(t.color);if(r){const s={r:r.r,g:r.g,b:r.b,a:t.opacity};this.coverColorStyle=vs(s,s.a)}}initTrail(){const e=this.container.actualOptions,i=Wr(e.particles.move.trail.fillColor);i&&(this.trailFillColor={r:i.r,g:i.g,b:i.b,a:1/e.particles.move.trail.length})}getPluginParticleColors(e){let t,i;for(const[,r]of this.container.plugins)if(!t&&r.particleFillColor&&(t=Gu(r.particleFillColor(e))),!i&&r.particleStrokeColor&&(i=Gu(r.particleStrokeColor(e))),t&&i)break;return[t,i]}initStyle(){const e=this.element,t=this.container.actualOptions;if(!e)return;const i=this.originalStyle;t.fullScreen.enable?(this.originalStyle=Pn({},e.style),e.style.setProperty("position","fixed","important"),e.style.setProperty("z-index",t.fullScreen.zIndex.toString(10),"important"),e.style.setProperty("top","0","important"),e.style.setProperty("left","0","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("height","100%","important")):i&&(e.style.position=i.position,e.style.zIndex=i.zIndex,e.style.top=i.top,e.style.left=i.left,e.style.width=i.width,e.style.height=i.height);for(const r in t.style){if(!r||!t.style)continue;const s=t.style[r];!s||e.style.setProperty(r,s,"important")}}paintBase(e){this.draw(t=>{!function jk(n,e,t){n.save(),n.fillStyle=null!=t?t:"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height),n.restore()}(t,this.size,e)})}lineStyle(e,t){return this.draw(i=>function zk(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),s=e.getFillColor(),l=t.getFillColor();if(!s||!l)return;const c=e.getPosition(),f=t.getPosition(),y=Fp(s,l,e.getRadius(),t.getRadius()),w=n.createLinearGradient(c.x,c.y,f.x,f.y);return w.addColorStop(0,Bl(s,i)),w.addColorStop(r>1?1:r,vs(y,i)),w.addColorStop(1,Bl(l,i)),w}(i,e,t,this.container.actualOptions.interactivity.modes.connect.links.opacity))}}function bs(n,e,t,i,r){if(i){let s={passive:!0};"boolean"==typeof r?s.capture=r:void 0!==r&&(s=r),n.addEventListener(e,t,s)}else n.removeEventListener(e,t,r)}class qk{constructor(e){this.container=e,this.canPush=!0,this.mouseMoveHandler=t=>this.mouseTouchMove(t),this.touchStartHandler=t=>this.mouseTouchMove(t),this.touchMoveHandler=t=>this.mouseTouchMove(t),this.touchEndHandler=()=>this.mouseTouchFinish(),this.mouseLeaveHandler=()=>this.mouseTouchFinish(),this.touchCancelHandler=()=>this.mouseTouchFinish(),this.touchEndClickHandler=t=>this.mouseTouchClick(t),this.mouseUpHandler=t=>this.mouseTouchClick(t),this.mouseDownHandler=()=>this.mouseDown(),this.visibilityChangeHandler=()=>this.handleVisibilityChange(),this.themeChangeHandler=t=>this.handleThemeChange(t),this.oldThemeChangeHandler=t=>this.handleThemeChange(t),this.resizeHandler=()=>this.handleWindowResize()}addListeners(){this.manageListeners(!0)}removeListeners(){this.manageListeners(!1)}manageListeners(e){var t;const i=this.container,r=i.actualOptions,s=r.interactivity.detectsOn;let l=Np;if("window"===s)i.interactivity.element=window,l="mouseout";else if("parent"===s&&i.canvas.element){const w=i.canvas.element;i.interactivity.element=null!==(t=w.parentElement)&&void 0!==t?t:w.parentNode}else i.interactivity.element=i.canvas.element;const c=!zu()&&"undefined"!=typeof matchMedia&&matchMedia("(prefers-color-scheme: dark)");c&&(void 0!==c.addEventListener?bs(c,"change",this.themeChangeHandler,e):void 0!==c.addListener&&(e?c.addListener(this.oldThemeChangeHandler):c.removeListener(this.oldThemeChangeHandler)));const f=i.interactivity.element;if(!f)return;const y=f;(r.interactivity.events.onHover.enable||r.interactivity.events.onClick.enable)&&(bs(f,Xc,this.mouseMoveHandler,e),bs(f,"touchstart",this.touchStartHandler,e),bs(f,"touchmove",this.touchMoveHandler,e),r.interactivity.events.onClick.enable?(bs(f,B_,this.touchEndClickHandler,e),bs(f,"mouseup",this.mouseUpHandler,e),bs(f,"mousedown",this.mouseDownHandler,e)):bs(f,B_,this.touchEndHandler,e),bs(f,l,this.mouseLeaveHandler,e),bs(f,"touchcancel",this.touchCancelHandler,e)),i.canvas.element&&(i.canvas.element.style.pointerEvents=y===i.canvas.element?"initial":"none"),r.interactivity.events.resize&&("undefined"!=typeof ResizeObserver?this.resizeObserver&&!e?(i.canvas.element&&this.resizeObserver.unobserve(i.canvas.element),this.resizeObserver.disconnect(),delete this.resizeObserver):!this.resizeObserver&&e&&i.canvas.element&&(this.resizeObserver=new ResizeObserver(w=>{!w.find(S=>S.target===i.canvas.element)||this.handleWindowResize()}),this.resizeObserver.observe(i.canvas.element)):bs(window,"resize",this.resizeHandler,e)),document&&bs(document,"visibilitychange",this.visibilityChangeHandler,e,!1)}handleWindowResize(){var e=this;this.resizeTimeout&&(clearTimeout(this.resizeTimeout),delete this.resizeTimeout),this.resizeTimeout=setTimeout((0,$.Z)(function*(){var t;return null===(t=e.container.canvas)||void 0===t?void 0:t.windowResize()}),500)}handleVisibilityChange(){const e=this.container,t=e.actualOptions;this.mouseTouchFinish(),t.pauseOnBlur&&((null==document?void 0:document.hidden)?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))}mouseDown(){const e=this.container.interactivity;if(e){const t=e.mouse;t.clicking=!0,t.downPosition=t.position}}mouseTouchMove(e){var t,i,r,s,l,c,f;const y=this.container,w=y.actualOptions;if(!(null===(t=y.interactivity)||void 0===t?void 0:t.element))return;let C;y.interactivity.mouse.inside=!0;const S=y.canvas.element;if(e.type.startsWith("mouse")){this.canPush=!0;const R=e;if(y.interactivity.element===window){if(S){const j=S.getBoundingClientRect();C={x:R.clientX-j.left,y:R.clientY-j.top}}}else if("parent"===w.interactivity.detectsOn){const j=R.target,Q=R.currentTarget,pe=y.canvas.element;if(j&&Q&&pe){const Me=j.getBoundingClientRect(),Ue=Q.getBoundingClientRect(),Ne=pe.getBoundingClientRect();C={x:R.offsetX+2*Me.left-(Ue.left+Ne.left),y:R.offsetY+2*Me.top-(Ue.top+Ne.top)}}else C={x:null!==(i=R.offsetX)&&void 0!==i?i:R.clientX,y:null!==(r=R.offsetY)&&void 0!==r?r:R.clientY}}else R.target===y.canvas.element&&(C={x:null!==(s=R.offsetX)&&void 0!==s?s:R.clientX,y:null!==(l=R.offsetY)&&void 0!==l?l:R.clientY})}else{this.canPush="touchmove"!==e.type;const j=e.touches[e.touches.length-1],Q=null==S?void 0:S.getBoundingClientRect();C={x:j.clientX-(null!==(c=null==Q?void 0:Q.left)&&void 0!==c?c:0),y:j.clientY-(null!==(f=null==Q?void 0:Q.top)&&void 0!==f?f:0)}}const k=y.retina.pixelRatio;C&&(C.x*=k,C.y*=k),y.interactivity.mouse.position=C,y.interactivity.status=Xc}mouseTouchFinish(){const e=this.container.interactivity;if(!e)return;const t=e.mouse;delete t.position,delete t.clickPosition,delete t.downPosition,e.status=Np,t.inside=!1,t.clicking=!1}mouseTouchClick(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse;r.inside=!0;let s=!1;const l=r.position;if(l&&i.interactivity.events.onClick.enable){for(const[,c]of t.plugins)if(c.clickPositionValid&&(s=c.clickPositionValid(l),s))break;s||this.doMouseTouchClick(e),r.clicking=!1}}doMouseTouchClick(e){const t=this.container,i=t.actualOptions;if(this.canPush){const r=t.interactivity.mouse.position;if(!r)return;t.interactivity.mouse.clickPosition={x:r.x,y:r.y},t.interactivity.mouse.clickTime=(new Date).getTime();const s=i.interactivity.events.onClick;if(s.mode instanceof Array)for(const l of s.mode)this.handleClickMode(l);else this.handleClickMode(s.mode)}"touchend"===e.type&&setTimeout(()=>this.mouseTouchFinish(),500)}handleThemeChange(e){const i=e.matches?this.container.options.defaultDarkTheme:this.container.options.defaultLightTheme,r=this.container.options.themes.find(s=>s.name===i);r&&r.default.auto&&this.container.loadTheme(i)}handleClickMode(e){this.container.handleClickMode(e)}}class Wk{constructor(e){this.container=e}nextFrame(e){var t=this;return(0,$.Z)(function*(){var i;try{const r=t.container;if(void 0!==r.lastFrameTime&&e<r.lastFrameTime+1e3/r.fpsLimit)return void r.draw(!1);null!==(i=r.lastFrameTime)&&void 0!==i||(r.lastFrameTime=e);const s=e-r.lastFrameTime,l={value:s,factor:60*s/1e3};if(r.lifeTime+=l.value,r.lastFrameTime=e,s>1e3)return void r.draw(!1);if(yield r.particles.draw(l),r.duration>0&&r.lifeTime>r.duration)return void r.destroy();r.getAnimationStatus()&&r.draw(!1)}catch(r){console.error("tsParticles error in animation loop",r)}})()}}var G_,wb;class Zk{constructor(e,t){this.container=t,G_.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,G_,e),this.externalInteractors=[],this.particleInteractors=[],this.init()}init(){const e=function(n,e,t,i){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}(this,G_).plugins.getInteractors(this.container,!0);this.externalInteractors=[],this.particleInteractors=[];for(const t of e)switch(t.type){case 0:this.externalInteractors.push(t);break;case 1:this.particleInteractors.push(t)}}externalInteract(e){var t=this;return(0,$.Z)(function*(){for(const i of t.externalInteractors)i.isEnabled()&&(yield i.interact(e))})()}particlesInteract(e,t){var i=this;return(0,$.Z)(function*(){for(const r of i.externalInteractors)r.reset(e);for(const r of i.particleInteractors)r.isEnabled(e)&&(yield r.interact(e,t))})()}handleClickMode(e){for(const t of this.externalInteractors)t.handleClickMode&&t.handleClickMode(e)}}G_=new WeakMap;class ws extends an{constructor(e,t,i){if(super(e,t),"number"!=typeof e&&e)this.z=e.z;else{if(void 0===i)throw new Error("tsParticles - Vector not initialized correctly");this.z=i}}static clone(e){return ws.create(e.x,e.y,e.z)}static create(e,t,i){return new ws(e,t,i)}static get origin(){return ws.create(0,0,0)}add(e){return e instanceof ws?ws.create(this.x+e.x,this.y+e.y,this.z+e.z):super.add(e)}addTo(e){super.addTo(e),e instanceof ws&&(this.z+=e.z)}sub(e){return e instanceof ws?ws.create(this.x-e.x,this.y-e.y,this.z-e.z):super.sub(e)}subFrom(e){super.subFrom(e),e instanceof ws&&(this.z-=e.z)}mult(e){return ws.create(this.x*e,this.y*e,this.z*e)}multTo(e){super.multTo(e),this.z*=e}div(e){return ws.create(this.x/e,this.y/e,this.z/e)}divTo(e){super.divTo(e),this.z/=e}copy(){return ws.clone(this)}setTo(e){super.setTo(e),void 0!==e.z&&(this.z=e.z)}}const Kk=n=>{!In(n.outMode,n.checkModes)&&!In(n.outMode,n.checkModes)||(n.coord>n.maxCoord-2*n.radius?n.setCb(-n.radius):n.coord<2*n.radius&&n.setCb(n.radius))};class Yk{constructor(e,t,i,r,s,l){var c,f,y,w,C,S,k;this.id=t,this.container=i,this.group=l,wb.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,wb,e),this.fill=!0,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.splitCount=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const R=i.retina.pixelRatio,Q=U_(i.actualOptions.particles),pe=Q.shape.type,Me=Q.reduceDuplicates;if(this.shape=pe instanceof Array?Sr(pe,this.id,Me):pe,null==s?void 0:s.shape){if(s.shape.type){const Hy=s.shape.type;this.shape=Hy instanceof Array?Sr(Hy,this.id,Me):Hy}const mr=new N_;mr.load(s.shape),this.shape&&(this.shapeData=this.loadShapeData(mr,Me))}else this.shapeData=this.loadShapeData(Q.shape,Me);void 0!==s&&Q.load(s),void 0!==(null===(c=this.shapeData)||void 0===c?void 0:c.particles)&&Q.load(null===(f=this.shapeData)||void 0===f?void 0:f.particles),this.fill=null!==(w=null===(y=this.shapeData)||void 0===y?void 0:y.fill)&&void 0!==w?w:this.fill,this.close=null!==(S=null===(C=this.shapeData)||void 0===C?void 0:C.close)&&void 0!==S?S:this.close,this.options=Q,this.pathDelay=1e3*Ul(this.options.move.path.delay);const Ue=_t(this.options.zIndex.value);i.retina.initParticle(this);const Ne=this.options.size,at=Ne.value;this.size={enable:Ne.animation.enable,value:_t(Ne.value)*i.retina.pixelRatio,max:$s(at)*R,min:gh(at)*R,loops:0,maxLoops:_t(Ne.animation.count)};const lt=Ne.animation;if(lt.enable){switch(this.size.status=0,lt.startValue){case"min":this.size.value=this.size.min,this.size.status=0;break;case"random":this.size.value=_i(this.size)*R,this.size.status=Math.random()>=.5?0:1;break;default:this.size.value=this.size.max,this.size.status=1}this.size.velocity=(null!==(k=this.retina.sizeAnimationSpeed)&&void 0!==k?k:i.retina.sizeAnimationSpeed)/100*i.retina.reduceFactor,lt.sync||(this.size.velocity*=Math.random())}this.bubble={inRange:!1},this.position=this.calcPosition(i,r,Gr(Ue,0,i.zLayers)),this.initialPosition=this.position.copy();const Ft=i.canvas.size,An=this.options.move.center;switch(this.moveCenter={x:Ft.width*An.x/100,y:Ft.height*An.y/100,radius:this.options.move.center.radius},this.direction=function D_(n,e,t){if("number"==typeof n)return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return Math.random()*Math.PI*2}}(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside"}this.initialVelocity=this.calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-_t(this.options.move.decay);const Fn=this.options.move.gravity;this.gravity={enable:Fn.enable,acceleration:_t(Fn.acceleration),inverse:Fn.inverse},this.offset=an.origin;const ts=i.particles;ts.needsSort=ts.needsSort||ts.lastZIndex<this.position.z,ts.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/i.zLayers,this.sides=24;let Si=i.drawers.get(this.shape);Si||(Si=function(n,e,t,i){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}(this,wb).plugins.getShapeDrawer(this.shape),Si&&i.drawers.set(this.shape,Si)),(null==Si?void 0:Si.loadShape)&&(null==Si||Si.loadShape(this));const Qh=null==Si?void 0:Si.getSidesCount;Qh&&(this.sides=Qh(this)),this.life=this.loadLife(),this.spawning=this.life.delay>0,this.shadowColor=Wr(this.options.shadow.color);for(const mr of i.particles.updaters)mr.init&&mr.init(this);for(const mr of i.particles.movers)mr.init&&mr.init(this);Si&&Si.particleInit&&Si.particleInit(i,this);for(const[,mr]of i.plugins)mr.particleCreated&&mr.particleCreated(this)}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size;return this.position.x>=-e&&this.position.y>=-e&&this.position.y<=t.height+e&&this.position.x<=t.width+e}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return null!==(e=this.bubble.radius)&&void 0!==e?e:this.size.value}getMass(){return this.getRadius()**2*Math.PI/2}getFillColor(){var e,t;const i=null!==(e=this.bubble.color)&&void 0!==e?e:Vk(this.color);if(i&&this.roll&&(this.backColor||this.roll.alter)){const s="horizontal"===this.options.roll.mode?Math.PI/2:0;if(Math.floor(((null!==(t=this.roll.angle)&&void 0!==t?t:0)+s)/(Math.PI/("both"===this.options.roll.mode?2:1)))%2){if(this.backColor)return this.backColor;if(this.roll.alter)return function DU(n,e,t){return{h:n.h,s:n.s,l:n.l+("darken"===e?-1:1)*t}}(i,this.roll.alter.type,this.roll.alter.value)}}return i}getStrokeColor(){var e,t;return null!==(t=null!==(e=this.bubble.color)&&void 0!==e?e:Vk(this.strokeColor))&&void 0!==t?t:this.getFillColor()}destroy(e){if(this.destroyed=!0,this.bubble.inRange=!1,!this.unbreakable){this.destroyed=!0,this.bubble.inRange=!1;for(const[,i]of this.container.plugins)i.particleDestroyed&&i.particleDestroyed(this,e);e||"split"===this.options.destroy.mode&&this.split()}}reset(){this.opacity&&(this.opacity.loops=0),this.size.loops=0}split(){const e=this.options.destroy.split;if(e.count>=0&&this.splitCount++>e.count)return;const t=Ul(e.rate);for(let i=0;i<t;i++)this.container.particles.addSplitParticle(this)}calcPosition(e,t,i,r=0){var s,l,c,f;for(const[,Q]of e.plugins){const pe=void 0!==Q.particlePosition?Q.particlePosition(t,this):void 0;if(void 0!==pe)return ws.create(pe.x,pe.y,i)}const w=function tb(n){var e,t,i,r;return{x:null!==(t=null===(e=n.position)||void 0===e?void 0:e.x)&&void 0!==t?t:Math.random()*n.size.width,y:null!==(r=null===(i=n.position)||void 0===i?void 0:i.y)&&void 0!==r?r:Math.random()*n.size.height}}({size:e.canvas.size,position:t}),C=ws.create(w.x,w.y,i),S=this.getRadius(),k=this.options.move.outModes,R=Q=>{Kk({outMode:Q,checkModes:["bounce","bounce-horizontal"],coord:C.x,maxCoord:e.canvas.size.width,setCb:pe=>C.x+=pe,radius:S})},j=Q=>{Kk({outMode:Q,checkModes:["bounce","bounce-vertical"],coord:C.y,maxCoord:e.canvas.size.height,setCb:pe=>C.y+=pe,radius:S})};return R(null!==(s=k.left)&&void 0!==s?s:k.default),R(null!==(l=k.right)&&void 0!==l?l:k.default),j(null!==(c=k.top)&&void 0!==c?c:k.default),j(null!==(f=k.bottom)&&void 0!==f?f:k.default),this.checkOverlap(C,r)?this.calcPosition(e,void 0,i,r+1):C}checkOverlap(e,t=0){const i=this.options.collisions,r=this.getRadius();if(!i.enable)return!1;const s=i.overlap;if(s.enable)return!1;const l=s.retries;if(l>=0&&t>l)throw new Error("Particle is overlapping and can't be placed");let c=!1;for(const f of this.container.particles.array)if(Ti(e,f.position)<r+f.getRadius()){c=!0;break}return c}calculateVelocity(){const t=function S_(n){const e=an.origin;return e.length=1,e.angle=n,e}(this.direction).copy(),i=this.options.move;if("inside"===i.direction||"outside"===i.direction)return t;const r=Math.PI/180*_t(i.angle.value),s=Math.PI/180*_t(i.angle.offset),l={left:s-r/2,right:s+r/2};return i.straight||(t.angle+=_i(Ct(l.left,l.right))),i.random&&"number"==typeof i.speed&&(t.length*=Math.random()),t}loadShapeData(e,t){const i=e.options[this.shape];if(i)return Pn({},i instanceof Array?Sr(i,this.id,t):i)}loadLife(){const e=this.container,t=this.options,i=t.life,r={delay:e.retina.reduceFactor?_t(i.delay.value)*(i.delay.sync?1:Math.random())/e.retina.reduceFactor*1e3:0,delayTime:0,duration:e.retina.reduceFactor?_t(i.duration.value)*(i.duration.sync?1:Math.random())/e.retina.reduceFactor*1e3:0,time:0,count:t.life.count};return r.duration<=0&&(r.duration=-1),r.count<=0&&(r.count=-1),r}}wb=new WeakMap;class kU{constructor(e,t){this.position=e,this.particle=t}}class Qk{constructor(e,t){this.position={x:e,y:t}}}class Ro extends Qk{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return Ti(e,this.position)<=this.radius}intersects(e){const t=e,i=e,r=this.position,s=e.position,l=Math.abs(s.x-r.x),c=Math.abs(s.y-r.y),f=this.radius;if(void 0!==i.radius)return f+i.radius>Math.sqrt(l*l+c+c);if(void 0!==t.size){const y=t.size.width,w=t.size.height,C=Math.pow(l-y,2)+Math.pow(c-w,2);return!(l>f+y||c>f+w)&&(l<=y||c<=w||C<=f*f)}return!1}}class ba extends Qk{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const r=this.position;return e.x>=r.x&&e.x<=r.x+this.size.width&&e.y>=r.y&&e.y<=r.y+this.size.height}intersects(e){const t=e,r=this.size.width,s=this.size.height,l=this.position,c=e.position;if(void 0!==e.radius)return e.intersects(this);if(!t.size)return!1;const f=t.size;return c.x<l.x+r&&c.x+f.width>l.x&&c.y<l.y+s&&c.y+f.height>l.y}}class o extends Ro{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize=Object.assign({},r)}contains(e){return!!super.contains(e)||(!!super.contains({x:e.x-this.canvasSize.width,y:e.y})||(!!super.contains({x:e.x-this.canvasSize.width,y:e.y-this.canvasSize.height})||super.contains({x:e.x,y:e.y-this.canvasSize.height})))}intersects(e){if(super.intersects(e))return!0;const t=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(void 0!==e.radius){const s=new Ro(r.x,r.y,2*e.radius);return super.intersects(s)}if(void 0!==t.size){const s=new ba(r.x,r.y,2*t.size.width,2*t.size.height);return super.intersects(s)}return!1}}class a{constructor(e,t){this.rectangle=e,this.capacity=t,this.points=[],this.divided=!1}insert(e){var t,i,r,s,l;return!!this.rectangle.contains(e.position)&&(this.points.length<this.capacity?(this.points.push(e),!0):(this.divided||this.subdivide(),null!==(l=(null===(t=this.northEast)||void 0===t?void 0:t.insert(e))||(null===(i=this.northWest)||void 0===i?void 0:i.insert(e))||(null===(r=this.southEast)||void 0===r?void 0:r.insert(e))||(null===(s=this.southWest)||void 0===s?void 0:s.insert(e)))&&void 0!==l&&l))}queryCircle(e,t){return this.query(new Ro(e.x,e.y,t))}queryCircleWarp(e,t,i){return this.query(new o(e.x,e.y,t,void 0!==i.canvas?i.canvas.size:i))}queryRectangle(e,t){return this.query(new ba(e.x,e.y,t.width,t.height))}query(e,t){var i,r,s,l;const c=null!=t?t:[];if(!e.intersects(this.rectangle))return[];for(const f of this.points)!e.contains(f.position)&&Ti(e.position,f.position)>f.particle.getRadius()||c.push(f.particle);return this.divided&&(null===(i=this.northEast)||void 0===i||i.query(e,c),null===(r=this.northWest)||void 0===r||r.query(e,c),null===(s=this.southEast)||void 0===s||s.query(e,c),null===(l=this.southWest)||void 0===l||l.query(e,c)),c}subdivide(){const e=this.rectangle.position.x,t=this.rectangle.position.y,i=this.rectangle.size.width,r=this.rectangle.size.height,s=this.capacity;this.northEast=new a(new ba(e,t,i/2,r/2),s),this.northWest=new a(new ba(e+i/2,t,i/2,r/2),s),this.southEast=new a(new ba(e,t+r/2,i/2,r/2),s),this.southWest=new a(new ba(e+i/2,t+r/2,i/2,r/2),s),this.divided=!0}}var p,h=function(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)};class m{constructor(e,t){this.container=t,p.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,p,e),this.nextId=0,this.array=[],this.zArray=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this.freqs={links:new Map,triangles:new Map},this.interactionManager=new Zk(h(this,p,"f"),t);const i=this.container.canvas.size;this.linksColors=new Map,this.quadTree=new a(new ba(-i.width/4,-i.height/4,3*i.width/2,3*i.height/2),4),this.movers=h(this,p,"f").plugins.getMovers(t,!0),this.updaters=h(this,p,"f").plugins.getUpdaters(t,!0)}get count(){return this.array.length}init(){var e;const t=this.container,i=t.actualOptions;this.lastZIndex=0,this.needsSort=!1,this.freqs.links=new Map,this.freqs.triangles=new Map;let r=!1;this.updaters=h(this,p,"f").plugins.getUpdaters(t,!0),this.interactionManager.init();for(const[,s]of t.plugins)if(void 0!==s.particlesInitialization&&(r=s.particlesInitialization()),r)break;if(this.addManualParticles(),!r){for(const s in i.particles.groups){const l=i.particles.groups[s];for(let c=this.count,f=0;f<(null===(e=l.number)||void 0===e?void 0:e.value)&&c<i.particles.number.value;c++,f++)this.addParticle(void 0,l,s)}for(let s=this.count;s<i.particles.number.value;s++)this.addParticle()}t.pathGenerator.init(t)}redraw(){var e=this;return(0,$.Z)(function*(){e.clear(),e.init(),yield e.draw({value:0,factor:0})})()}removeAt(e,t=1,i,r){if(!(e>=0&&e<=this.count))return;let s=0;for(let l=e;s<t&&l<this.count;l++){const c=this.array[l];if(!c||c.group!==i)continue;c.destroy(r),this.array.splice(l--,1);const f=this.zArray.indexOf(c);this.zArray.splice(f,1),s++,h(this,p,"f").dispatchEvent("particleRemoved",{container:this.container,data:{particle:c}})}}remove(e,t,i){this.removeAt(this.array.indexOf(e),void 0,t,i)}update(e){var t=this;return(0,$.Z)(function*(){const i=t.container,r=[];i.pathGenerator.update();for(const[,s]of i.plugins)void 0!==s.update&&s.update(e);for(const s of t.array){const l=i.canvas.resizeFactor;l&&!s.ignoresResizeRatio&&(s.position.x*=l.width,s.position.y*=l.height),s.ignoresResizeRatio=!1,s.bubble.inRange=!1;for(const[,c]of t.container.plugins){if(s.destroyed)break;c.particleUpdate&&c.particleUpdate(s,e)}for(const c of t.movers)c.isEnabled(s)&&c.move(s,e);s.destroyed?r.push(s):t.quadTree.insert(new kU(s.getPosition(),s))}for(const s of r)t.remove(s);yield t.interactionManager.externalInteract(e);for(const s of i.particles.array){for(const l of t.updaters)l.update(s,e);!s.destroyed&&!s.spawning&&(yield t.interactionManager.particlesInteract(s,e))}delete i.canvas.resizeFactor})()}draw(e){var t=this;return(0,$.Z)(function*(){const i=t.container,r=t.container.canvas.size;t.quadTree=new a(new ba(-r.width/4,-r.height/4,3*r.width/2,3*r.height/2),4),i.canvas.clear(),yield t.update(e),t.needsSort&&(t.zArray.sort((s,l)=>l.position.z-s.position.z||s.id-l.id),t.lastZIndex=t.zArray[t.zArray.length-1].position.z,t.needsSort=!1);for(const[,s]of i.plugins)i.canvas.drawPlugin(s,e);for(const s of t.zArray)s.draw(e)})()}clear(){this.array=[],this.zArray=[]}push(e,t,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(null==t?void 0:t.position,i,r);this.pushing=!1}addParticle(e,t,i){const r=this.container,l=r.actualOptions.particles.number.limit*r.density;if(l>0){const c=this.count+1-l;c>0&&this.removeQuantity(c)}return this.pushParticle(e,t,i)}addSplitParticle(e){const t=e.options.destroy.split,i=U_(e.options),r=Ul(t.factor);i.color.load({value:{hsl:e.getFillColor()}}),"number"==typeof i.size.value?i.size.value/=r:(i.size.value.min/=r,i.size.value.max/=r),i.load(t.particles);const s=t.sizeOffset?Ct(-e.size.value,e.size.value):0,l={x:e.position.x+_i(s),y:e.position.y+_i(s)};return this.pushParticle(l,i,e.group,c=>!(c.size.value<.5||(c.velocity.length=_i(Ct(e.velocity.length,c.velocity.length)),c.splitCount=e.splitCount+1,c.unbreakable=!0,setTimeout(()=>{c.unbreakable=!1},500),0)))}removeQuantity(e,t){this.removeAt(0,e,t)}getLinkFrequency(e,t){const i=Ct(e.id,t.id),r=`${gh(i)}_${$s(i)}`;let s=this.freqs.links.get(r);return void 0===s&&(s=Math.random(),this.freqs.links.set(r,s)),s}getTriangleFrequency(e,t,i){let[r,s,l]=[e.id,t.id,i.id];r>s&&([s,r]=[r,s]),s>l&&([l,s]=[s,l]),r>l&&([l,r]=[r,l]);const c=`${r}_${s}_${l}`;let f=this.freqs.triangles.get(c);return void 0===f&&(f=Math.random(),this.freqs.triangles.set(c,f)),f}addManualParticles(){const e=this.container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle(AI({size:e.canvas.size,position:i.position}),i.options)}setDensity(){const e=this.container.actualOptions;for(const t in e.particles.groups)this.applyDensity(e.particles.groups[t],0,t);this.applyDensity(e.particles,e.manualParticles.length)}handleClickMode(e){this.interactionManager.handleClickMode(e)}applyDensity(e,t,i){var r;if(!(null===(r=e.number.density)||void 0===r?void 0:r.enable))return;const s=e.number,l=this.initDensityFactor(s.density),c=s.value,y=Math.min(c,s.limit>0?s.limit:c)*l+t,w=Math.min(this.count,this.array.filter(C=>C.group===i).length);this.limit=s.limit*l,w<y?this.push(Math.abs(y-w),void 0,e,i):w>y&&this.removeQuantity(w-y,i)}initDensityFactor(e){const t=this.container;if(!t.canvas.element||!e.enable)return 1;const i=t.canvas.element;return i.width*i.height/(e.factor*t.retina.pixelRatio**2*e.area)}pushParticle(e,t,i,r){try{const s=new Yk(h(this,p,"f"),this.nextId,this.container,e,t,i);let l=!0;return r&&(l=r(s)),l?(this.array.push(s),this.zArray.push(s),this.nextId++,h(this,p,"f").dispatchEvent("particleAdded",{container:this.container,data:{particle:s}}),s):void 0}catch(s){return void console.warn(`error adding particle: ${s}`)}}}p=new WeakMap;class b{constructor(e){this.container=e}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||zu()?1:window.devicePixelRatio;const i=this.container.actualOptions.motion;if(i&&(i.disable||i.reduce.value))if(zu()||"undefined"==typeof matchMedia||!matchMedia)this.reduceFactor=1;else{const c=matchMedia("(prefers-reduced-motion: reduce)");if(c){this.handleMotionChange(c);const f=()=>{this.handleMotionChange(c),e.refresh().catch(()=>{})};void 0!==c.addEventListener?c.addEventListener("change",f):void 0!==c.addListener&&c.addListener(f)}}else this.reduceFactor=1;const r=this.pixelRatio;if(e.canvas.element){const c=e.canvas.element;e.canvas.size.width=c.offsetWidth*r,e.canvas.size.height=c.offsetHeight*r}const s=t.particles;this.attractDistance=_t(s.move.attract.distance)*r,this.linksDistance=s.links.distance*r,this.linksWidth=s.links.width*r,this.sizeAnimationSpeed=_t(s.size.animation.speed)*r,this.maxSpeed=_t(s.move.gravity.maxSpeed)*r;const l=t.interactivity.modes;this.connectModeDistance=l.connect.distance*r,this.connectModeRadius=l.connect.radius*r,this.grabModeDistance=l.grab.distance*r,this.repulseModeDistance=l.repulse.distance*r,this.bounceModeDistance=l.bounce.distance*r,this.attractModeDistance=l.attract.distance*r,this.slowModeRadius=l.slow.radius*r,this.bubbleModeDistance=l.bubble.distance*r,l.bubble.size&&(this.bubbleModeSize=l.bubble.size*r)}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move.distance,s=e.retina;s.attractDistance=_t(t.move.attract.distance)*i,s.linksDistance=t.links.distance*i,s.linksWidth=t.links.width*i,s.moveDrift=_t(t.move.drift)*i,s.moveSpeed=_t(t.move.speed)*i,s.sizeAnimationSpeed=_t(t.size.animation.speed)*i;const l=s.maxDistance;l.horizontal=void 0!==r.horizontal?r.horizontal*i:void 0,l.vertical=void 0!==r.vertical?r.vertical*i:void 0,s.maxSpeed=_t(t.move.gravity.maxSpeed)*i}handleMotionChange(e){if(e.matches){const i=this.container.actualOptions.motion;this.reduceFactor=i.disable?0:i.reduce.value?1/i.reduce.factor:1}else this.reduceFactor=1}}var M,I=function(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)};class O{constructor(e,t,i){this.id=t,M.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,M,e),this.fpsLimit=120,this.duration=0,this.lifeTime=0,this.firstStart=!0,this.started=!1,this.destroyed=!1,this.paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new b(this),this.canvas=new xD(this),this.particles=new m(I(this,M,"f"),this),this.drawer=new Wk(this),this.pathGenerator={generate:r=>{const s=r.velocity.copy();return s.angle+=s.length*Math.PI/180,s},init:()=>{},update:()=>{}},this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this.density=1,this._options=Rp(I(this,M,"f")),this.actualOptions=Rp(I(this,M,"f")),this.eventListeners=new qk(this),"undefined"!=typeof IntersectionObserver&&IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(r=>this.intersectionManager(r))),I(this,M,"f").dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}play(e){const t=this.paused||e;if(!this.firstStart||this.actualOptions.autoPlay){if(this.paused&&(this.paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();I(this,M,"f").dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}else this.firstStart=!1}pause(){if(void 0!==this.drawAnimationFrame&&(function xk(){return zu()?n=>clearTimeout(n):n=>(window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout)(n)}()(this.drawAnimationFrame),delete this.drawAnimationFrame),!this.paused){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this.paused=!0),I(this,M,"f").dispatchEvent("containerPaused",{container:this})}}draw(e){var t=this;let i=e;this.drawAnimationFrame=function fb(){return zu()?n=>setTimeout(n):n=>(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout)(n)}()(function(){var r=(0,$.Z)(function*(s){i&&(t.lastFrameTime=void 0,i=!1),yield t.drawer.nextFrame(s)});return function(s){return r.apply(this,arguments)}}())}getAnimationStatus(){return!this.paused&&!this.pageHidden}setNoise(e,t,i){this.setPath(e,t,i)}setPath(e,t,i){var r,s,l;if(e)if("function"==typeof e)this.pathGenerator.generate=e,t&&(this.pathGenerator.init=t),i&&(this.pathGenerator.update=i);else{const c=this.pathGenerator;this.pathGenerator=e,(r=this.pathGenerator).generate||(r.generate=c.generate),(s=this.pathGenerator).init||(s.init=c.init),(l=this.pathGenerator).update||(l.update=c.update)}}destroy(){this.stop(),this.canvas.destroy();for(const[,e]of this.drawers)e.destroy&&e.destroy(this);for(const e of this.drawers.keys())this.drawers.delete(e);this.destroyed=!0,I(this,M,"f").dispatchEvent("containerDestroyed",{container:this})}exportImg(e){this.exportImage(e)}exportImage(e,t,i){var r;return null===(r=this.canvas.element)||void 0===r?void 0:r.toBlob(e,null!=t?t:"image/png",i)}exportConfiguration(){return JSON.stringify(this.actualOptions,void 0,2)}refresh(){return this.stop(),this.start()}reset(){return this._options=Rp(I(this,M,"f")),this.refresh()}stop(){if(this.started){this.firstStart=!0,this.started=!1,this.eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.clear(),this.interactivity.element instanceof HTMLElement&&this.intersectionObserver&&this.intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this.particles.linksColors=new Map,delete this.particles.grabLineColor,delete this.particles.linksColor,this._sourceOptions=this._options,I(this,M,"f").dispatchEvent("containerStopped",{container:this})}}loadTheme(e){var t=this;return(0,$.Z)(function*(){t.currentTheme=e,yield t.refresh()})()}start(){var e=this;return(0,$.Z)(function*(){if(!e.started){yield e.init(),e.started=!0,e.eventListeners.addListeners(),e.interactivity.element instanceof HTMLElement&&e.intersectionObserver&&e.intersectionObserver.observe(e.interactivity.element);for(const[,t]of e.plugins)void 0!==t.startAsync?yield t.startAsync():void 0!==t.start&&t.start();I(e,M,"f").dispatchEvent("containerStarted",{container:e}),e.play()}})()}addClickHandler(e){const t=this.interactivity.element;if(!t)return;const i=(C,S,k)=>{if(this.destroyed)return;const R=this.retina.pixelRatio,Q=this.particles.quadTree.queryCircle({x:S.x*R,y:S.y*R},k*R);e(C,Q)};let y=!1,w=!1;t.addEventListener("click",C=>{this.destroyed||i(C,{x:C.offsetX||C.clientX,y:C.offsetY||C.clientY},1)}),t.addEventListener("touchstart",()=>{this.destroyed||(y=!0,w=!1)}),t.addEventListener("touchmove",()=>{this.destroyed||(w=!0)}),t.addEventListener("touchend",C=>{var S,k,R;if(!this.destroyed){if(y&&!w){const j=C;let Q=j.touches[j.touches.length-1];if(!Q&&(Q=j.changedTouches[j.changedTouches.length-1],!Q))return;const pe=null===(S=this.canvas.element)||void 0===S?void 0:S.getBoundingClientRect(),Me={x:Q.clientX-(null!==(k=null==pe?void 0:pe.left)&&void 0!==k?k:0),y:Q.clientY-(null!==(R=null==pe?void 0:pe.top)&&void 0!==R?R:0)};i(C,Me,Math.max(Q.radiusX,Q.radiusY))}y=!1,w=!1}}),t.addEventListener("touchcancel",()=>{this.destroyed||(y=!1,w=!1)})}handleClickMode(e){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this.currentTheme),this.responsiveMaxWidth!=e&&(this.responsiveMaxWidth=e,!0)}init(){var e=this;return(0,$.Z)(function*(){const t=I(e,M,"f").plugins.getSupportedShapes();for(const s of t){const l=I(e,M,"f").plugins.getShapeDrawer(s);l&&e.drawers.set(s,l)}e._options=Rp(I(e,M,"f"),e._initialSourceOptions,e.sourceOptions),e.actualOptions=Rp(I(e,M,"f"),e._options),e.retina.init(),e.canvas.init(),e.updateActualOptions(),e.canvas.initBackground(),e.canvas.resize(),e.zLayers=e.actualOptions.zLayers,e.duration=_t(e.actualOptions.duration),e.lifeTime=0,e.fpsLimit=e.actualOptions.fpsLimit>0?e.actualOptions.fpsLimit:120;const i=I(e,M,"f").plugins.getAvailablePlugins(e);for(const[s,l]of i)e.plugins.set(s,l);for(const[,s]of e.drawers)s.init&&(yield s.init(e));for(const[,s]of e.plugins)s.init?s.init(e.actualOptions):void 0!==s.initAsync&&(yield s.initAsync(e.actualOptions));const r=e.actualOptions.particles.move.path;r.generator&&e.setPath(I(e,M,"f").plugins.getPathGenerator(r.generator)),I(e,M,"f").dispatchEvent("containerInit",{container:e}),e.particles.init(),e.particles.setDensity();for(const[,s]of e.plugins)void 0!==s.particlesSetup&&s.particlesSetup();I(e,M,"f").dispatchEvent("particlesSetup",{container:e})})()}intersectionManager(e){if(this.actualOptions.pauseOnOutsideViewport)for(const t of e)t.target===this.interactivity.element&&(t.isIntersecting?this.play():this.pause())}}M=new WeakMap;var ne,ot,G=function(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)};class He{constructor(e){ne.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,ne,e)}dom(){return G(this,ne,"f").domArray}domItem(e){const t=this.dom(),i=t[e];if(i&&!i.destroyed)return i;t.splice(e,1)}loadOptions(e){var t=this;return(0,$.Z)(function*(){var i,r,s;const l=null!==(i=e.tagId)&&void 0!==i?i:`tsparticles${Math.floor(1e4*Math.random())}`,{options:c,index:f}=e;let y=null!==(r=e.element)&&void 0!==r?r:document.getElementById(l);y||(y=document.createElement("div"),y.id=l,null===(s=document.querySelector("body"))||void 0===s||s.append(y));const w=c instanceof Array?Sr(c,f):c,C=t.dom(),S=C.findIndex(j=>j.id===l);if(S>=0){const j=t.domItem(S);j&&!j.destroyed&&(j.destroy(),C.splice(S,1))}let k;if("canvas"===y.tagName.toLowerCase())k=y,k.dataset[Op]="false";else{const j=y.getElementsByTagName("canvas");j.length?(k=j[0],k.dataset[Op]="false"):(k=document.createElement("canvas"),k.dataset[Op]="true",k.style.width="100%",k.style.height="100%",y.appendChild(k))}const R=new O(G(t,ne,"f"),l,w);return S>=0?C.splice(S,0,R):C.push(R),R.canvas.loadCanvas(k),yield R.start(),R})()}loadRemoteOptions(e){var t=this;return(0,$.Z)(function*(){const{url:i,index:r}=e,s=i instanceof Array?Sr(i,r):i;if(!s)return;const l=yield fetch(s);if(!l.ok)return void function Ce(n){console.error(`Error tsParticles - fetch status: ${n}`),console.error("Error tsParticles - File config not found")}(l.status);const c=yield l.json();return t.loadOptions({tagId:e.tagId,element:e.element,index:r,options:c})})()}load(e,t,i){const r={index:i};return"string"==typeof e?r.tagId=e:r.options=e,"number"==typeof t?r.index=null!=t?t:r.index:r.options=null!=t?t:r.options,this.loadOptions(r)}set(e,t,i,r){var s=this;return(0,$.Z)(function*(){const l={index:r};return"string"==typeof e?l.tagId=e:l.element=e,t instanceof HTMLElement?l.element=t:l.options=t,"number"==typeof i?l.index=i:l.options=null!=i?i:l.options,s.loadOptions(l)})()}loadJSON(e,t,i){var r=this;return(0,$.Z)(function*(){let s,l;return"number"==typeof t||void 0===t?s=e:(l=e,s=t),r.loadRemoteOptions({tagId:l,url:s,index:i})})()}setJSON(e,t,i,r){var s=this;return(0,$.Z)(function*(){let l,c,f,y;return e instanceof HTMLElement?(y=e,l=t,f=i):(c=e,y=t,l=i,f=r),s.loadRemoteOptions({tagId:c,url:l,index:f,element:y})})()}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");for(const i of t)i.addClickHandler(e)}addEventListener(e,t){G(this,ne,"f").eventDispatcher.addEventListener(e,t)}removeEventListener(e,t){G(this,ne,"f").eventDispatcher.removeEventListener(e,t)}dispatchEvent(e,t){G(this,ne,"f").eventDispatcher.dispatchEvent(e,t)}}ne=new WeakMap;class Re{constructor(e){ot.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,ot,e),this.plugins=[],this.interactorsInitializers=new Map,this.moversInitializers=new Map,this.updatersInitializers=new Map,this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}getPlugin(e){return this.plugins.find(t=>t.id===e)}addPlugin(e){this.getPlugin(e.id)||this.plugins.push(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)!i.needsPlugin(e.actualOptions)||t.set(i.id,i.getPlugin(e));return t}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}getPreset(e){return this.presets.get(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}getShapeDrawer(e){return this.drawers.get(e)}addShapeDrawer(e,t){this.getShapeDrawer(e)||this.drawers.set(e,t)}getSupportedShapes(){return this.drawers.keys()}getPathGenerator(e){return this.pathGenerators.get(e)}addPathGenerator(e,t){this.getPathGenerator(e)||this.pathGenerators.set(e,t)}getInteractors(e,t=!1){let i=this.interactors.get(e);return(!i||t)&&(i=[...this.interactorsInitializers.values()].map(r=>r(e)),this.interactors.set(e,i)),i}addInteractor(e,t){this.interactorsInitializers.set(e,t)}getUpdaters(e,t=!1){let i=this.updaters.get(e);return(!i||t)&&(i=[...this.updatersInitializers.values()].map(r=>r(e)),this.updaters.set(e,i)),i}addParticleUpdater(e,t){this.updatersInitializers.set(e,t)}getMovers(e,t=!1){let i=this.movers.get(e);return(!i||t)&&(i=[...this.moversInitializers.values()].map(r=>r(e)),this.movers.set(e,i)),i}addParticleMover(e,t){this.moversInitializers.set(e,t)}}ot=new WeakMap;var un,Nn,wt=function(n,e,t,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(n,t):r?r.value=t:e.set(n,t),t},Pt=function(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)};un=new WeakMap,Nn=new WeakMap;class Oo{constructor(e){this.container=e,this.type=0}}class Vp{constructor(e){this.container=e,this.type=1}}const $u=new class ed{constructor(){un.set(this,void 0),Nn.set(this,void 0),this.domArray=[],this.eventDispatcher=new sk,wt(this,un,!1,"f"),wt(this,Nn,new He(this),"f"),this.plugins=new Re(this)}init(){Pt(this,un,"f")||wt(this,un,!0,"f")}loadFromArray(e,t,i){var r=this;return(0,$.Z)(function*(){return Pt(r,Nn,"f").load(e,t,i)})()}load(e,t){var i=this;return(0,$.Z)(function*(){return Pt(i,Nn,"f").load(e,t)})()}set(e,t,i){var r=this;return(0,$.Z)(function*(){return Pt(r,Nn,"f").set(e,t,i)})()}loadJSON(e,t,i){var r=this;return(0,$.Z)(function*(){return Pt(r,Nn,"f").loadJSON(e,t,i)})()}setJSON(e,t,i,r){var s=this;return(0,$.Z)(function*(){return Pt(s,Nn,"f").setJSON(e,t,i,r)})()}setOnClickHandler(e){Pt(this,Nn,"f").setOnClickHandler(e)}dom(){return Pt(this,Nn,"f").dom()}domItem(e){return Pt(this,Nn,"f").domItem(e)}refresh(){var e=this;return(0,$.Z)(function*(){for(const t of e.dom())yield t.refresh()})()}addShape(e,t,i,r,s){var l=this;return(0,$.Z)(function*(){let c;c="function"==typeof t?{afterEffect:r,destroy:s,draw:t,init:i}:t,l.plugins.addShapeDrawer(e,c),yield l.refresh()})()}addPreset(e,t,i=!1){var r=this;return(0,$.Z)(function*(){r.plugins.addPreset(e,t,i),yield r.refresh()})()}addPlugin(e){var t=this;return(0,$.Z)(function*(){t.plugins.addPlugin(e),yield t.refresh()})()}addPathGenerator(e,t){var i=this;return(0,$.Z)(function*(){i.plugins.addPathGenerator(e,t),yield i.refresh()})()}addInteractor(e,t){var i=this;return(0,$.Z)(function*(){i.plugins.addInteractor(e,t),yield i.refresh()})()}addMover(e,t){var i=this;return(0,$.Z)(function*(){i.plugins.addParticleMover(e,t),yield i.refresh()})()}addParticleUpdater(e,t){var i=this;return(0,$.Z)(function*(){i.plugins.addParticleUpdater(e,t),yield i.refresh()})()}addEventListener(e,t){Pt(this,Nn,"f").addEventListener(e,t)}removeEventListener(e,t){Pt(this,Nn,"f").removeEventListener(e,t)}dispatchEvent(e,t){Pt(this,Nn,"f").dispatchEvent(e,t)}};$u.init();class Eb{constructor(){this.radius=0,this.mass=0}load(e){!e||(void 0!==e.mass&&(this.mass=e.mass),void 0!==e.radius&&(this.radius=e.radius))}}class Cb extends qr{constructor(){super(),this.density=5,this.value=50,this.limit=new Eb}load(e){!e||(super.load(e),void 0!==e.density&&(this.density=e.density),"number"==typeof e.limit?this.limit.radius=e.limit:this.limit.load(e.limit))}}class No{constructor(){this.color=new ln,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new Cb}load(e){void 0!==e&&(void 0!==e.color&&(this.color=ln.create(this.color,e.color)),void 0!==e.draggable&&(this.draggable=e.draggable),this.name=e.name,void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.position&&(this.position={},void 0!==e.position.x&&(this.position.x=Ct(e.position.x)),void 0!==e.position.y&&(this.position.y=Ct(e.position.y))),void 0!==e.size&&this.size.load(e.size),void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.orbits&&(this.orbits=e.orbits))}}class Tb{constructor(e,t,i,r){var s,l,c;this.absorbers=e,this.container=t,this.initialPosition=r?an.create(r.x,r.y):void 0,i instanceof No?this.options=i:(this.options=new No,this.options.load(i)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=_t(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const f=this.options.size.limit;this.limit={radius:f.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:f.mass},this.color=null!==(s=Wr(this.options.color))&&void 0!==s?s:{b:0,g:0,r:0},this.position=null!==(c=null===(l=this.initialPosition)||void 0===l?void 0:l.copy())&&void 0!==c?c:this.calcPosition()}attract(e){const t=this.container,i=this.options;if(i.draggable){const y=t.interactivity.mouse;y.clicking&&y.downPosition?Ti(this.position,y.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&y.position&&(this.position.x=y.position.x,this.position.y=y.position.y)}const r=e.getPosition(),{dx:s,dy:l,distance:c}=Bi(this.position,r),f=an.create(s,l);if(f.length=this.mass/Math.pow(c,2)*t.retina.reduceFactor,c<this.size+e.getRadius()){const y=.033*e.getRadius()*t.retina.pixelRatio;this.size>e.getRadius()&&c<this.size-e.getRadius()||void 0!==e.absorberOrbit&&e.absorberOrbit.length<0?i.destroy?e.destroy():(e.needsNewPosition=!0,this.updateParticlePosition(e,f)):(i.destroy&&(e.size.value-=y),this.updateParticlePosition(e,f)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=y),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=y*this.options.size.density*t.retina.reduceFactor)}else this.updateParticlePosition(e,f)}resize(){const e=this.initialPosition;this.position=e&&vh(e,this.container.canvas.size,an.origin)?e:this.calcPosition()}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(0,0,this.size,0,2*Math.PI,!1),e.closePath(),e.fillStyle=vs(this.color,this.opacity),e.fill()}calcPosition(){const e=A_({size:this.container.canvas.size,position:this.options.position});return an.create(e.x,e.y)}updateParticlePosition(e,t){var i;if(e.destroyed)return;const r=this.container,s=r.canvas.size;if(e.needsNewPosition){const l=eb({size:s});e.position.setTo(l),e.velocity.setTo(e.initialVelocity),e.absorberOrbit=void 0,e.needsNewPosition=!1}if(this.options.orbits){if(void 0===e.absorberOrbit&&(e.absorberOrbit=an.create(0,0),e.absorberOrbit.length=Ti(e.getPosition(),this.position),e.absorberOrbit.angle=Math.random()*Math.PI*2),e.absorberOrbit.length<=this.size&&!this.options.destroy){const w=Math.min(s.width,s.height);e.absorberOrbit.length=w*(.2*Math.random()-.1+1)}void 0===e.absorberOrbitDirection&&(e.absorberOrbitDirection=e.velocity.x>=0?"clockwise":"counter-clockwise");const l=e.absorberOrbit.length,c=e.absorberOrbit.angle,f=e.absorberOrbitDirection;e.velocity.setTo(an.origin);const y={x:"clockwise"===f?Math.cos:Math.sin,y:"clockwise"===f?Math.sin:Math.cos};e.position.x=this.position.x+l*y.x(c),e.position.y=this.position.y+l*y.y(c),e.absorberOrbit.length-=t.length,e.absorberOrbit.angle+=(null!==(i=e.retina.moveSpeed)&&void 0!==i?i:0)*r.retina.pixelRatio/100*r.retina.reduceFactor}else{const l=an.origin;l.length=t.length,l.angle=t.angle,e.velocity.addTo(l)}}}class Ib{constructor(e){this.container=e,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=t=>void 0===t||"number"==typeof t?this.array[t||0]:this.array.find(i=>i.name===t),e.addAbsorber=(t,i)=>this.addAbsorber(t,i)}init(e){var t,i;if(!e)return;e.absorbers&&(e.absorbers instanceof Array?this.absorbers=e.absorbers.map(s=>{const l=new No;return l.load(s),l}):(this.absorbers instanceof Array&&(this.absorbers=new No),this.absorbers.load(e.absorbers)));const r=null===(i=null===(t=e.interactivity)||void 0===t?void 0:t.modes)||void 0===i?void 0:i.absorbers;if(r&&(r instanceof Array?this.interactivityAbsorbers=r.map(s=>{const l=new No;return l.load(s),l}):(this.interactivityAbsorbers instanceof Array&&(this.interactivityAbsorbers=new No),this.interactivityAbsorbers.load(r))),this.absorbers instanceof Array)for(const s of this.absorbers)this.addAbsorber(s);else this.addAbsorber(this.absorbers)}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}draw(e){for(const t of this.array)e.save(),t.draw(e),e.restore()}stop(){this.array=[]}resize(){for(const e of this.array)e.resize()}handleClickMode(e){const t=this.absorbers,i=this.interactivityAbsorbers;if("absorber"===e){let r;i instanceof Array?i.length>0&&(r=Sr(i)):r=i;const s=null!=r?r:t instanceof Array?Sr(t):t;this.addAbsorber(s,this.container.interactivity.mouse.clickPosition)}}addAbsorber(e,t){const i=new Tb(this,this.container,e,t);return this.array.push(i),i}removeAbsorber(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}}class Db{constructor(){this.id="absorbers"}getPlugin(e){return new Ib(e)}needsPlugin(e){var t,i,r;if(!e)return!1;const s=e.absorbers;return s instanceof Array?!!s.length:!!s||!(!(null===(r=null===(i=null===(t=e.interactivity)||void 0===t?void 0:t.events)||void 0===i?void 0:i.onClick)||void 0===r?void 0:r.mode)||!In("absorber",e.interactivity.events.onClick.mode))}loadOptions(e,t){var i,r;if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;const s=e;if(null==t?void 0:t.absorbers)if((null==t?void 0:t.absorbers)instanceof Array)s.absorbers=null==t?void 0:t.absorbers.map(c=>{const f=new No;return f.load(c),f});else{let c=s.absorbers;void 0===(null==c?void 0:c.load)&&(s.absorbers=c=new No),c.load(null==t?void 0:t.absorbers)}const l=null===(r=null===(i=null==t?void 0:t.interactivity)||void 0===i?void 0:i.modes)||void 0===r?void 0:r.absorbers;if(l)if(l instanceof Array)s.interactivity.modes.absorbers=l.map(c=>{const f=new No;return f.load(c),f});else{let c=s.interactivity.modes.absorbers;void 0===(null==c?void 0:c.load)&&(s.interactivity.modes.absorbers=c=new No),c.load(l)}}}function P8(n){return Jk.apply(this,arguments)}function Jk(){return(Jk=(0,$.Z)(function*(n){const e=new Db;yield n.addPlugin(e)})).apply(this,arguments)}class R8{randomPosition(e,t,i){const[l,c]=[t.width/2,t.height/2],f=((C,S)=>{const k=Math.random()/4,R=Math.atan(S/C*Math.tan(2*Math.PI*k)),j=Math.random();return j<.25?R:j<.5?Math.PI-R:j<.75?Math.PI+R:-R})(l,c),y=(k=f,(C=l)*(S=c)/Math.sqrt((S*Math.cos(k))**2+(C*Math.sin(k))**2)),w=i?y*Math.sqrt(Math.random()):y;var C,S,k;return{x:e.x+w*Math.cos(f),y:e.y+w*Math.sin(f)}}}class O8{constructor(){this.wait=!1}load(e){void 0!==e&&(void 0!==e.count&&(this.count=e.count),void 0!==e.delay&&(this.delay=e.delay),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.wait&&(this.wait=e.wait))}}class N8{constructor(){this.quantity=1,this.delay=.1}load(e){void 0!==e&&(void 0!==e.quantity&&(this.quantity=Ct(e.quantity)),void 0!==e.delay&&(this.delay=Ct(e.delay)))}}class PU{constructor(){this.mode="percent",this.height=0,this.width=0}load(e){void 0!==e&&(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.height&&(this.height=e.height),void 0!==e.width&&(this.width=e.width))}}class jl{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new O8,this.rate=new N8,this.shape="square",this.startCount=0}load(e){void 0!==e&&(void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.size&&(void 0===this.size&&(this.size=new PU),this.size.load(e.size)),void 0!==e.direction&&(this.direction=e.direction),this.domId=e.domId,void 0!==e.fill&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,void 0!==e.particles&&(this.particles=Pn({},e.particles)),this.rate.load(e.rate),void 0!==e.shape&&(this.shape=e.shape),void 0!==e.position&&(this.position={},void 0!==e.position.x&&(this.position.x=Ct(e.position.x)),void 0!==e.position.y&&(this.position.y=Ct(e.position.y))),void 0!==e.spawnColor&&(void 0===this.spawnColor&&(this.spawnColor=new Hu),this.spawnColor.load(e.spawnColor)),void 0!==e.startCount&&(this.startCount=e.startCount))}}var $_,Ab,jp,MD,Xk,Sb=function(n,e,t,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(n,t):r?r.value=t:e.set(n,t),t},Bp=function(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)};class F8{constructor(e,t,i,r,s){var l,c,f,y,w,C,S,k;this.emitters=t,this.container=i,$_.set(this,void 0),Ab.set(this,void 0),jp.set(this,void 0),Sb(this,jp,e,"f"),this.currentDuration=0,this.currentEmitDelay=0,this.currentSpawnDelay=0,this.initialPosition=s,r instanceof jl?this.options=r:(this.options=new jl,this.options.load(r)),this.spawnDelay=1e3*(null!==(l=this.options.life.delay)&&void 0!==l?l:0)/this.container.retina.reduceFactor,this.position=null!==(c=this.initialPosition)&&void 0!==c?c:this.calcPosition(),this.name=this.options.name,this.shape=null===(f=Bp(this,jp,"f").emitterShapeManager)||void 0===f?void 0:f.getShape(this.options.shape),this.fill=this.options.fill,Sb(this,$_,!this.options.life.wait,"f"),Sb(this,Ab,!1,"f");let R=Pn({},this.options.particles);null!=R||(R={}),null!==(y=R.move)&&void 0!==y||(R.move={}),null!==(w=(k=R.move).direction)&&void 0!==w||(k.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=Gu(this.options.spawnColor)),this.paused=!this.options.autoPlay,this.particlesOptions=R,this.size=null!==(C=this.options.size)&&void 0!==C?C:(()=>{const j=new PU;return j.load({height:0,mode:"percent",width:0}),j})(),this.lifeCount=null!==(S=this.options.life.count)&&void 0!==S?S:-1,this.immortal=this.lifeCount<=0,Bp(this,jp,"f").dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPlay(){this.paused=!1,this.play()}externalPause(){this.paused=!0,this.pause()}play(){var e;if(!this.paused&&this.container.retina.reduceFactor&&(this.lifeCount>0||this.immortal||!this.options.life.count)&&(Bp(this,$_,"f")||this.currentSpawnDelay>=(null!==(e=this.spawnDelay)&&void 0!==e?e:0))){if(void 0===this.emitDelay){const t=_t(this.options.rate.delay);this.emitDelay=1e3*t/this.container.retina.reduceFactor}(this.lifeCount>0||this.immortal)&&this.prepareToDie()}}pause(){this.paused||delete this.emitDelay}resize(){const e=this.initialPosition;this.position=e&&vh(e,this.container.canvas.size,an.origin)?e:this.calcPosition()}update(e){var t,i,r;this.paused||(Bp(this,$_,"f")&&(Sb(this,$_,!1,"f"),this.currentSpawnDelay=null!==(t=this.spawnDelay)&&void 0!==t?t:0,this.currentEmitDelay=null!==(i=this.emitDelay)&&void 0!==i?i:0),Bp(this,Ab,"f")||(Sb(this,Ab,!0,"f"),this.emitParticles(this.options.startCount)),void 0!==this.duration&&(this.currentDuration+=e.value,this.currentDuration>=this.duration&&(this.pause(),void 0!==this.spawnDelay&&delete this.spawnDelay,this.immortal||this.lifeCount--,this.lifeCount>0||this.immortal?(this.position=this.calcPosition(),this.spawnDelay=1e3*(null!==(r=this.options.life.delay)&&void 0!==r?r:0)/this.container.retina.reduceFactor):this.destroy(),this.currentDuration-=this.duration,delete this.duration)),void 0!==this.spawnDelay&&(this.currentSpawnDelay+=e.value,this.currentSpawnDelay>=this.spawnDelay&&(Bp(this,jp,"f").dispatchEvent("emitterPlay",{container:this.container}),this.play(),this.currentSpawnDelay-=this.currentSpawnDelay,delete this.spawnDelay)),void 0!==this.emitDelay&&(this.currentEmitDelay+=e.value,this.currentEmitDelay>=this.emitDelay&&(this.emit(),this.currentEmitDelay-=this.emitDelay)))}getPosition(){if(this.options.domId){const e=this.container,t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{x:(i.x+i.width/2)*e.retina.pixelRatio,y:(i.y+i.height/2)*e.retina.pixelRatio}}}return this.position}getSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{width:i.width*e.retina.pixelRatio,height:i.height*e.retina.pixelRatio}}}return{width:"percent"===this.size.mode?e.canvas.size.width*this.size.width/100:this.size.width,height:"percent"===this.size.mode?e.canvas.size.height*this.size.height/100:this.size.height}}prepareToDie(){var e;if(this.paused)return;const t=null===(e=this.options.life)||void 0===e?void 0:e.duration;this.container.retina.reduceFactor&&(this.lifeCount>0||this.immortal)&&void 0!==t&&t>0&&(this.duration=1e3*t)}destroy(){this.emitters.removeEmitter(this),Bp(this,jp,"f").dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})}calcPosition(){return A_({size:this.container.canvas.size,position:this.options.position})}emit(){if(this.paused)return;const e=_t(this.options.rate.quantity);this.emitParticles(e)}emitParticles(e){var t,i,r;const s=this.getPosition(),l=this.getSize();for(let c=0;c<e;c++){const f=Pn({},this.particlesOptions);if(this.spawnColor){const w=null===(t=this.options.spawnColor)||void 0===t?void 0:t.animation;w&&(this.spawnColor.h=this.setColorAnimation(w.h,this.spawnColor.h,360),this.spawnColor.s=this.setColorAnimation(w.s,this.spawnColor.s,100),this.spawnColor.l=this.setColorAnimation(w.l,this.spawnColor.l,100)),f.color?f.color.value=this.spawnColor:f.color={value:this.spawnColor}}if(!s)return;const y=null!==(r=null===(i=this.shape)||void 0===i?void 0:i.randomPosition(s,l,this.fill))&&void 0!==r?r:s;this.container.particles.addParticle(y,f)}}setColorAnimation(e,t,i){var r;const s=this.container;if(!e.enable)return t;const l=_i(e.offset),f=1e3*_t(this.options.rate.delay)/s.retina.reduceFactor;return(t+_t(null!==(r=e.speed)&&void 0!==r?r:0)*s.fpsLimit/f+3.6*l)%i}}$_=new WeakMap,Ab=new WeakMap,jp=new WeakMap;class V8{constructor(e,t){this.container=t,MD.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,MD,e),this.array=[],this.emitters=[],this.interactivityEmitters=[],t.getEmitter=i=>void 0===i||"number"==typeof i?this.array[i||0]:this.array.find(r=>r.name===i),t.addEmitter=(i,r)=>this.addEmitter(i,r),t.removeEmitter=i=>{const r=t.getEmitter(i);r&&this.removeEmitter(r)},t.playEmitter=i=>{const r=t.getEmitter(i);r&&r.externalPlay()},t.pauseEmitter=i=>{const r=t.getEmitter(i);r&&r.externalPause()}}init(e){var t,i;if(!e)return;e.emitters&&(e.emitters instanceof Array?this.emitters=e.emitters.map(s=>{const l=new jl;return l.load(s),l}):(this.emitters instanceof Array&&(this.emitters=new jl),this.emitters.load(e.emitters)));const r=null===(i=null===(t=e.interactivity)||void 0===t?void 0:t.modes)||void 0===i?void 0:i.emitters;if(r&&(r instanceof Array?this.interactivityEmitters=r.map(s=>{const l=new jl;return l.load(s),l}):(this.interactivityEmitters instanceof Array&&(this.interactivityEmitters=new jl),this.interactivityEmitters.load(r))),this.emitters instanceof Array)for(const s of this.emitters)this.addEmitter(s);else this.addEmitter(this.emitters)}play(){for(const e of this.array)e.play()}pause(){for(const e of this.array)e.pause()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}handleClickMode(e){const t=this.emitters,i=this.interactivityEmitters;if("emitter"===e){let r;i instanceof Array?i.length>0&&(r=Sr(i)):r=i;const s=null!=r?r:t instanceof Array?Sr(t):t,l=this.container.interactivity.mouse.clickPosition;this.addEmitter(Pn({},s),l)}}resize(){for(const e of this.array)e.resize()}addEmitter(e,t){const i=new jl;i.load(e);const r=new F8(function(n,e,t,i){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}(this,MD),this,this.container,i,t);return this.array.push(r),r}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}}MD=new WeakMap;const eP=new Map;class j8{constructor(e){Xk.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,Xk,e)}addShape(e,t){this.getShape(e)||eP.set(e,t)}getShape(e){return eP.get(e)}getSupportedShapes(){return eP.keys()}}function RU(n,e){return n+e*(Math.random()-.5)}Xk=new WeakMap;class H8{randomPosition(e,t,i){if(i)return{x:RU(e.x,t.width),y:RU(e.y,t.height)};{const r=t.width/2,s=t.height/2,l=Math.floor(4*Math.random()),c=2*(Math.random()-.5);switch(l){case 0:return{x:e.x+c*r,y:e.y-s};case 1:return{x:e.x-r,y:e.y+c*s};case 2:return{x:e.x+c*r,y:e.y+s};default:return{x:e.x+r,y:e.y+c*s}}}}}var kD,PD,RD;class $8{constructor(e){kD.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,kD,e),this.id="emitters"}getPlugin(e){return new V8(function(n,e,t,i){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}(this,kD),e)}needsPlugin(e){var t,i,r;if(void 0===e)return!1;const s=e.emitters;return s instanceof Array&&!!s.length||void 0!==s||!!(null===(r=null===(i=null===(t=e.interactivity)||void 0===t?void 0:t.events)||void 0===i?void 0:i.onClick)||void 0===r?void 0:r.mode)&&In("emitter",e.interactivity.events.onClick.mode)}loadOptions(e,t){var i,r;if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;const s=e;if(null==t?void 0:t.emitters)if((null==t?void 0:t.emitters)instanceof Array)s.emitters=null==t?void 0:t.emitters.map(c=>{const f=new jl;return f.load(c),f});else{let c=s.emitters;void 0===(null==c?void 0:c.load)&&(s.emitters=c=new jl),c.load(null==t?void 0:t.emitters)}const l=null===(r=null===(i=null==t?void 0:t.interactivity)||void 0===i?void 0:i.modes)||void 0===r?void 0:r.emitters;if(l)if(l instanceof Array)s.interactivity.modes.emitters=l.map(c=>{const f=new jl;return f.load(c),f});else{let c=s.interactivity.modes.emitters;void 0===(null==c?void 0:c.load)&&(s.interactivity.modes.emitters=c=new jl),c.load(l)}}}function q8(n){return tP.apply(this,arguments)}function tP(){return(tP=(0,$.Z)(function*(n){n.emitterShapeManager||(n.emitterShapeManager=new j8(n)),n.addEmitterShape||(n.addEmitterShape=(t,i)=>{var r;null===(r=n.emitterShapeManager)||void 0===r||r.addShape(t,i)});const e=new $8(n);yield n.addPlugin(e),n.addEmitterShape("circle",new R8),n.addEmitterShape("square",new H8)})).apply(this,arguments)}kD=new WeakMap;class W8 extends Oo{constructor(e){super(e),this.delay=0}interact(e){var t=this;return(0,$.Z)(function*(){var i,r,s,l;if(!t.container.retina.reduceFactor)return;const c=t.container,y=c.actualOptions.interactivity.modes.trail,w=1e3*y.delay/t.container.retina.reduceFactor;if(t.delay<w&&(t.delay+=e.value),t.delay<w)return;let C=!0;y.pauseOnStop&&(c.interactivity.mouse.position===t.lastPosition||(null===(i=c.interactivity.mouse.position)||void 0===i?void 0:i.x)===(null===(r=t.lastPosition)||void 0===r?void 0:r.x)&&(null===(s=c.interactivity.mouse.position)||void 0===s?void 0:s.y)===(null===(l=t.lastPosition)||void 0===l?void 0:l.y))&&(C=!1),c.interactivity.mouse.position?t.lastPosition={x:c.interactivity.mouse.position.x,y:c.interactivity.mouse.position.y}:delete t.lastPosition,C&&c.particles.push(y.quantity,c.interactivity.mouse,y.particles),t.delay-=w})()}isEnabled(){const e=this.container,i=e.interactivity.mouse,r=e.actualOptions.interactivity.events;return i.clicking&&i.inside&&!!i.position&&In("trail",r.onClick.mode)||i.inside&&!!i.position&&In("trail",r.onHover.mode)}reset(){}}function Z8(n){return nP.apply(this,arguments)}function nP(){return(nP=(0,$.Z)(function*(n){yield n.addInteractor("externalTrail",e=>new W8(e))})).apply(this,arguments)}class K8{constructor(){this.color=new ln,this.width=.5,this.opacity=1}load(e){var t;!e||(this.color=ln.create(this.color,e.color),"string"==typeof this.color.value&&(this.opacity=null!==(t=function Lk(n){var e;return null===(e=Fk(n))||void 0===e?void 0:e.a}(this.color.value))&&void 0!==t?t:this.opacity),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.width&&(this.width=e.width))}}class Y8{constructor(){this.enable=!1,this.stroke=new K8}get lineWidth(){return this.stroke.width}set lineWidth(e){this.stroke.width=e}get lineColor(){return this.stroke.color}set lineColor(e){this.stroke.color=ln.create(this.stroke.color,e)}load(e){var t;if(!e)return;void 0!==e.enable&&(this.enable=e.enable);const i=null!==(t=e.stroke)&&void 0!==t?t:{color:e.lineColor,width:e.lineWidth};this.stroke.load(i)}}class Q8{constructor(){this.arrangement="one-per-point"}load(e){!e||void 0!==e.arrangement&&(this.arrangement=e.arrangement)}}class J8{constructor(){this.path=[],this.size={height:0,width:0}}load(e){!e||(void 0!==e.path&&(this.path=e.path),void 0!==e.size&&(void 0!==e.size.width&&(this.size.width=e.size.width),void 0!==e.size.height&&(this.size.height=e.size.height)))}}class X8{constructor(){this.radius=10,this.type="path"}load(e){!e||(void 0!==e.radius&&(this.radius=e.radius),void 0!==e.type&&(this.type=e.type))}}class OU{constructor(){this.draw=new Y8,this.enable=!1,this.inline=new Q8,this.move=new X8,this.scale=1,this.type="none"}get inlineArrangement(){return this.inline.arrangement}set inlineArrangement(e){this.inline.arrangement=e}load(e){!e||(this.draw.load(e.draw),this.inline.load(e.inline),this.move.load(e.move),void 0!==e.scale&&(this.scale=e.scale),void 0!==e.type&&(this.type=e.type),this.enable=void 0!==e.enable?e.enable:"none"!==this.type,void 0!==e.url&&(this.url=e.url),void 0!==e.data&&("string"==typeof e.data?this.data=e.data:(this.data=new J8,this.data.load(e.data))),void 0!==e.position&&(this.position=Pn({},e.position)))}}function eG(n,e,t){const i=Wr(t.color);if(i){n.beginPath(),n.moveTo(e[0].x,e[0].y);for(const r of e)n.lineTo(r.x,r.y);n.closePath(),n.strokeStyle=vs(i),n.lineWidth=t.width,n.stroke()}}function tG(n,e,t,i){n.translate(i.x,i.y);const r=Wr(t.color);!r||(n.strokeStyle=vs(r,t.opacity),n.lineWidth=t.width,n.stroke(e))}function iG(n,e,t){const{dx:i,dy:r}=Bi(t,n),{dx:s,dy:l}=Bi(e,n),c=(i*s+r*l)/(s**2+l**2),f={x:n.x+s*c,y:n.x+l*c,isOnSegment:c>=0&&c<=1};return c<0?(f.x=n.x,f.y=n.y):c>1&&(f.x=e.x,f.y=e.y),f}function rG(n,e,t){const{dx:i,dy:r}=Bi(n,e),s=Math.atan2(r,i),l=an.create(Math.sin(s),-Math.cos(s));l.multTo(2*(t.x*l.x+t.y*l.y)),t.subFrom(l)}class aG{constructor(e,t){this.container=e,PD.set(this,void 0),function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,PD,t),this.dimension={height:0,width:0},this.path2DSupported=!!window.Path2D,this.options=new OU,this.polygonMaskMoveRadius=this.options.move.radius*e.retina.pixelRatio}initAsync(e){var t=this;return(0,$.Z)(function*(){t.options.load(null==e?void 0:e.polygon);const i=t.options;t.polygonMaskMoveRadius=i.move.radius*t.container.retina.pixelRatio,i.enable&&(yield t.initRawData())})()}resize(){var e=this;const t=this.container,i=this.options;!i.enable||"none"===i.type||(this.redrawTimeout&&clearTimeout(this.redrawTimeout),this.redrawTimeout=window.setTimeout((0,$.Z)(function*(){yield e.initRawData(!0),yield t.particles.redraw()}),250))}stop(){delete this.raw,delete this.paths}particlesInitialization(){const e=this.options;return!(!e.enable||"inline"!==e.type||"one-per-point"!==e.inline.arrangement&&"per-point"!==e.inline.arrangement||(this.drawPoints(),0))}particlePosition(e){var t,i;if(this.options.enable&&(null!==(i=null===(t=this.raw)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>0)return Pn({},e||this.randomPoint())}particleBounce(e,t,i){return this.polygonBounce(e,t,i)}clickPositionValid(e){const t=this.options;return t.enable&&"none"!==t.type&&"inline"!==t.type&&this.checkInsidePolygon(e)}draw(e){var t;if(!(null===(t=this.paths)||void 0===t?void 0:t.length))return;const i=this.options,r=i.draw;if(!i.enable||!r.enable)return;const s=this.raw;for(const l of this.paths){const c=l.path2d,f=this.path2DSupported;!e||(f&&c&&this.offset?tG(e,c,r.stroke,this.offset):s&&eG(e,s,r.stroke))}}polygonBounce(e,t,i){const r=this.options;if(!this.raw||!r.enable||"top"!==i)return!1;if("inside"===r.type||"outside"===r.type){let s,l,c;const f=e.getPosition(),y=e.getRadius();for(let w=0,C=this.raw.length-1;w<this.raw.length;C=w++){const S=this.raw[w],k=this.raw[C];s=iG(S,k,f);const R=Bi(f,s);if([l,c]=[R.dx,R.dy],R.distance<y)return rG(S,k,e.velocity),!0}if(s&&void 0!==l&&void 0!==c&&!this.checkInsidePolygon(f)){const w={x:1,y:1};return e.position.x>=s.x&&(w.x=-1),e.position.y>=s.y&&(w.y=-1),e.position.x=s.x+2*y*w.x,e.position.y=s.y+2*y*w.y,e.velocity.mult(-1),!0}}else if("inline"===r.type&&e.initialPosition&&Ti(e.initialPosition,e.getPosition())>this.polygonMaskMoveRadius)return e.velocity.x=e.velocity.y/2-e.velocity.x,e.velocity.y=e.velocity.x/2-e.velocity.y,!0;return!1}checkInsidePolygon(e){var t,i;const r=this.container,s=this.options;if(!s.enable||"none"===s.type||"inline"===s.type)return!0;if(!this.raw)throw new Error("No polygon found, you need to specify SVG url in config.");const l=r.canvas.size,c=null!==(t=null==e?void 0:e.x)&&void 0!==t?t:Math.random()*l.width,f=null!==(i=null==e?void 0:e.y)&&void 0!==i?i:Math.random()*l.height;let y=!1;for(let w=0,C=this.raw.length-1;w<this.raw.length;C=w++){const S=this.raw[w],k=this.raw[C];S.y>f!=k.y>f&&c<(k.x-S.x)*(f-S.y)/(k.y-S.y)+S.x&&(y=!y)}return"inside"===s.type?y:"outside"===s.type&&!y}parseSvgPath(e,t){var i,r,s;if(void 0!==this.paths&&(null==t||!t))return this.raw;const c=this.container,f=this.options,w=(new DOMParser).parseFromString(e,"image/svg+xml"),C=w.getElementsByTagName("svg")[0];let S=C.getElementsByTagName("path");S.length||(S=w.getElementsByTagName("path")),this.paths=[];for(let Q=0;Q<S.length;Q++){const pe=S.item(Q);pe&&this.paths.push({element:pe,length:pe.getTotalLength()})}const k=c.retina.pixelRatio,R=f.scale/k;this.dimension.width=parseFloat(null!==(i=C.getAttribute("width"))&&void 0!==i?i:"0")*R,this.dimension.height=parseFloat(null!==(r=C.getAttribute("height"))&&void 0!==r?r:"0")*R;const j=null!==(s=f.position)&&void 0!==s?s:{x:50,y:50};return this.offset={x:c.canvas.size.width*j.x/(100*k)-this.dimension.width/2,y:c.canvas.size.height*j.y/(100*k)-this.dimension.height/2},function nG(n,e,t){var i;const r=[];for(const s of n){const l=s.element.pathSegList,c=null!==(i=null==l?void 0:l.numberOfItems)&&void 0!==i?i:0,f={x:0,y:0};for(let y=0;y<c;y++){const w=null==l?void 0:l.getItem(y),C=window.SVGPathSeg;switch(null==w?void 0:w.pathSegType){case C.PATHSEG_MOVETO_ABS:case C.PATHSEG_LINETO_ABS:case C.PATHSEG_CURVETO_CUBIC_ABS:case C.PATHSEG_CURVETO_QUADRATIC_ABS:case C.PATHSEG_ARC_ABS:case C.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:case C.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:{const S=w;f.x=S.x,f.y=S.y;break}case C.PATHSEG_LINETO_HORIZONTAL_ABS:f.x=w.x;break;case C.PATHSEG_LINETO_VERTICAL_ABS:f.y=w.y;break;case C.PATHSEG_LINETO_REL:case C.PATHSEG_MOVETO_REL:case C.PATHSEG_CURVETO_CUBIC_REL:case C.PATHSEG_CURVETO_QUADRATIC_REL:case C.PATHSEG_ARC_REL:case C.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:case C.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:{const S=w;f.x+=S.x,f.y+=S.y;break}case C.PATHSEG_LINETO_HORIZONTAL_REL:f.x+=w.x;break;case C.PATHSEG_LINETO_VERTICAL_REL:f.y+=w.y;break;case C.PATHSEG_UNKNOWN:case C.PATHSEG_CLOSEPATH:continue}r.push({x:f.x*e+t.x,y:f.y*e+t.y})}}return r}(this.paths,R,this.offset)}downloadSvgPath(e,t){var i=this;return(0,$.Z)(function*(){const s=e||i.options.url;if(!s||void 0!==i.paths&&(null==t||!t))return i.raw;const c=yield fetch(s);if(!c.ok)throw new Error("tsParticles Error - Error occurred during polygon mask download");return i.parseSvgPath(yield c.text(),t)})()}drawPoints(){if(this.raw)for(const e of this.raw)this.container.particles.addParticle({x:e.x,y:e.y})}randomPoint(){const e=this.container,t=this.options;let i;if("inline"===t.type)switch(t.inline.arrangement){case"random-point":i=this.getRandomPoint();break;case"random-length":i=this.getRandomPointByLength();break;case"equidistant":i=this.getEquidistantPointByIndex(e.particles.count);break;default:i=this.getPointByIndex(e.particles.count)}else i={x:Math.random()*e.canvas.size.width,y:Math.random()*e.canvas.size.height};return this.checkInsidePolygon(i)?i:this.randomPoint()}getRandomPoint(){if(!this.raw||!this.raw.length)throw new Error(j_);const e=Sr(this.raw);return{x:e.x,y:e.y}}getRandomPointByLength(){var e,t,i;const r=this.options;if(!this.raw||!this.raw.length||!(null===(e=this.paths)||void 0===e?void 0:e.length))throw new Error(j_);const s=Sr(this.paths),l=Math.floor(Math.random()*s.length)+1,c=s.element.getPointAtLength(l);return{x:c.x*r.scale+((null===(t=this.offset)||void 0===t?void 0:t.x)||0),y:c.y*r.scale+((null===(i=this.offset)||void 0===i?void 0:i.y)||0)}}getEquidistantPointByIndex(e){var t,i,r,s,l,c,f;const y=this.container.actualOptions,w=this.options;if(!this.raw||!this.raw.length||!(null===(t=this.paths)||void 0===t?void 0:t.length))throw new Error(j_);let S,C=0;const R=this.paths.reduce((j,Q)=>j+Q.length,0)/y.particles.number.value;for(const j of this.paths){const Q=R*e-C;if(Q<=j.length){S=j.element.getPointAtLength(Q);break}C+=j.length}return{x:(null!==(i=null==S?void 0:S.x)&&void 0!==i?i:0)*w.scale+(null!==(s=null===(r=this.offset)||void 0===r?void 0:r.x)&&void 0!==s?s:0),y:(null!==(l=null==S?void 0:S.y)&&void 0!==l?l:0)*w.scale+(null!==(f=null===(c=this.offset)||void 0===c?void 0:c.y)&&void 0!==f?f:0)}}getPointByIndex(e){if(!this.raw||!this.raw.length)throw new Error(j_);const t=this.raw[e%this.raw.length];return{x:t.x,y:t.y}}createPath2D(){var e,t;const i=this.options;if(this.path2DSupported&&(null===(e=this.paths)||void 0===e?void 0:e.length))for(const r of this.paths){const s=null===(t=r.element)||void 0===t?void 0:t.getAttribute("d");if(s){const l=new Path2D(s),c=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix(),f=new Path2D,y=c.scale(i.scale);f.addPath?(f.addPath(l,y),r.path2d=f):delete r.path2d}else delete r.path2d;r.path2d||!this.raw||(r.path2d=new Path2D,r.path2d.moveTo(this.raw[0].x,this.raw[0].y),this.raw.forEach((l,c)=>{var f;c>0&&(null===(f=r.path2d)||void 0===f||f.lineTo(l.x,l.y))}),r.path2d.closePath())}}initRawData(e){var t=this;return(0,$.Z)(function*(){const i=t.options;if(i.url)t.raw=yield t.downloadSvgPath(i.url,e);else if(i.data){const r=i.data;let s;if("string"!=typeof r){const l=r.path instanceof Array?r.path.map(f=>`<path d="${f}" />`).join(""):`<path d="${r.path}" />`;s=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${r.size.width}" height="${r.size.height}">${l}</svg>`}else s=r;t.raw=t.parseSvgPath(s,e)}t.createPath2D(),function(n,e,t,i){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}(t,PD).dispatchEvent("polygonMaskLoaded",{container:t.container})})()}}PD=new WeakMap;class cG{constructor(e){RD.set(this,void 0),this.id="polygonMask",function(n,e,t,i,r){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(n,t)}(this,RD,e)}getPlugin(e){return new aG(e,function(n,e,t,i){if("function"==typeof e||!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}(this,RD))}needsPlugin(e){var t,i,r;return null!==(i=null===(t=null==e?void 0:e.polygon)||void 0===t?void 0:t.enable)&&void 0!==i?i:void 0!==(null===(r=null==e?void 0:e.polygon)||void 0===r?void 0:r.type)&&"none"!==e.polygon.type}loadOptions(e,t){if(!this.needsPlugin(t))return;let r=e.polygon;void 0===(null==r?void 0:r.load)&&(e.polygon=r=new OU),r.load(null==t?void 0:t.polygon)}}function dG(n){return iP.apply(this,arguments)}function iP(){return(iP=(0,$.Z)(function*(n){!zu()&&!("SVGPathSeg"in window)&&(yield U.e(101).then(U.t.bind(U,101,23)));const e=new cG(n);yield n.addPlugin(e)})).apply(this,arguments)}RD=new WeakMap;class fG{init(e){const t=e.options.roll;if(t.enable)if(e.roll={angle:Math.random()*Math.PI*2,speed:_t(t.speed)/360},t.backColor)e.backColor=Gu(t.backColor);else if(t.darken.enable&&t.enlighten.enable){const i=Math.random()>=.5?"darken":"enlighten";e.roll.alter={type:i,value:_t("darken"===i?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:"darken",value:_t(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:"enlighten",value:_t(t.enlighten.value)});else e.roll={angle:0,speed:0}}isEnabled(e){return!e.destroyed&&!e.spawning&&e.options.roll.enable}update(e,t){!this.isEnabled(e)||function hG(n,e){if(!n.roll||!n.options.roll.enable)return;const r=2*Math.PI;n.roll.angle+=n.roll.speed*e.factor,n.roll.angle>r&&(n.roll.angle-=r)}(e,t)}}function pG(n){return rP.apply(this,arguments)}function rP(){return(rP=(0,$.Z)(function*(n){yield n.addParticleUpdater("roll",()=>new fG)})).apply(this,arguments)}const gG=n=>{const e=(i,r)=>n.load(i,r);return e.load=(i,r,s)=>{n.loadJSON(i,r).then(l=>{l&&s(l)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)},{particlesJS:e,pJSDom:n.dom()}};class _G{constructor(e){this.container=e}init(e){const t=e.options.rotate;e.rotate={enable:t.animation.enable,value:_t(t.value)*Math.PI/180};let i=t.direction;switch("random"===i&&(i=Math.floor(2*Math.random())>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status=1;break;case"clockwise":e.rotate.status=0}const r=e.options.rotate.animation;r.enable&&(e.rotate.velocity=_t(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Math.random()))}isEnabled(e){const t=e.options.rotate;return!e.destroyed&&!e.spawning&&!t.path&&t.animation.enable}update(e,t){!this.isEnabled(e)||function mG(n,e){var t;const i=n.rotate;if(!i)return;const l=(null!==(t=i.velocity)&&void 0!==t?t:0)*e.factor,c=2*Math.PI;n.options.rotate.animation.enable&&(0===i.status?(i.value+=l,i.value>c&&(i.value-=c)):(i.value-=l,i.value<0&&(i.value+=c)))}(e,t)}}function yG(n){return sP.apply(this,arguments)}function sP(){return(sP=(0,$.Z)(function*(n){yield n.addParticleUpdater("angle",e=>new _G(e))})).apply(this,arguments)}class CG{init(e){var t;const i=e.container,s=e.options.move.spin;if(s.enable){const l=null!==(t=s.position)&&void 0!==t?t:{x:50,y:50},c={x:l.x/100*i.canvas.size.width,y:l.y/100*i.canvas.size.height},y=Ti(e.getPosition(),c),w=_t(s.acceleration);e.retina.spinAcceleration=w*i.retina.pixelRatio,e.spin={center:c,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:y,acceleration:e.retina.spinAcceleration}}}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var i,r,s,l,c;const f=e.options,y=f.move;if(!y.enable)return;const w=e.container,C=function EG(n){const e=n.container,t=e.actualOptions;if(!In("slow",t.interactivity.events.onHover.mode))return 1;const r=n.container.interactivity.mouse.position;if(!r)return 1;const l=Ti(r,n.getPosition()),c=e.retina.slowModeRadius;return l>c?1:(l/c||0)/t.interactivity.modes.slow.factor}(e),S=(null!==(i=(l=e.retina).moveSpeed)&&void 0!==i?i:l.moveSpeed=_t(y.speed)*w.retina.pixelRatio)*w.retina.reduceFactor,k=null!==(r=(c=e.retina).moveDrift)&&void 0!==r?r:c.moveDrift=_t(e.options.move.drift)*w.retina.pixelRatio,R=$s(f.size.value)*w.retina.pixelRatio,Me=S*((y.size?e.getRadius()/R:1)*C*(t.factor||1))/2;!function wG(n,e){const i=n.options.move.path;if(!i.enable)return;const s=n.container;if(n.lastPathTime<=n.pathDelay)return void(n.lastPathTime+=e.value);const l=s.pathGenerator.generate(n);n.velocity.addTo(l),i.clamp&&(n.velocity.x=Gr(n.velocity.x,-1,1),n.velocity.y=Gr(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}(e,t);const Ue=e.gravity,Ne=Ue.enable&&Ue.inverse?-1:1;Ue.enable&&Me&&(e.velocity.y+=Ne*(Ue.acceleration*t.factor)/(60*Me)),k&&Me&&(e.velocity.x+=k*t.factor/(60*Me));const at=e.moveDecay;1!=at&&e.velocity.multTo(at);const lt=e.velocity.mult(Me),Ft=null!==(s=e.retina.maxSpeed)&&void 0!==s?s:w.retina.maxSpeed;Ue.enable&&Ft>0&&(!Ue.inverse&&lt.y>=0&&lt.y>=Ft||Ue.inverse&&lt.y<=0&&lt.y<=-Ft)&&(lt.y=Ne*Ft,Me&&(e.velocity.y=lt.y/Me));const Fn=(1-e.zIndexFactor)**e.options.zIndex.velocityRate;y.spin.enable?function bG(n,e){const t=n.container;if(!n.spin)return;const i={x:"clockwise"===n.spin.direction?Math.cos:Math.sin,y:"clockwise"===n.spin.direction?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}(e,Me):(1!=Fn&&lt.multTo(Fn),e.position.addTo(lt),y.vibrate&&(e.position.x+=Math.sin(e.position.x*Math.cos(e.position.y)),e.position.y+=Math.cos(e.position.y*Math.sin(e.position.x)))),function vG(n){const e=n.initialPosition,{dx:t,dy:i}=Bi(e,n.position),r=Math.abs(t),s=Math.abs(i),l=n.retina.maxDistance.horizontal,c=n.retina.maxDistance.vertical;if(l||c)if((l&&r>=l||c&&s>=c)&&!n.misplaced)n.misplaced=!!l&&r>l||!!c&&s>c,l&&(n.velocity.x=n.velocity.y/2-n.velocity.x),c&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!l||r<l)&&(!c||s<c)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const f=n.position,y=n.velocity;l&&(f.x<e.x&&y.x<0||f.x>e.x&&y.x>0)&&(y.x*=-Math.random()),c&&(f.y<e.y&&y.y<0||f.y>e.y&&y.y>0)&&(y.y*=-Math.random())}}(e)}}function TG(n){return oP.apply(this,arguments)}function oP(){return(oP=(0,$.Z)(function*(n){n.addMover("base",()=>new CG)})).apply(this,arguments)}class IG{getSidesCount(){return 12}draw(e,t,i){e.arc(0,0,i,0,2*Math.PI,!1)}}function DG(n){return aP.apply(this,arguments)}function aP(){return(aP=(0,$.Z)(function*(n){yield n.addShape("circle",new IG)})).apply(this,arguments)}function lP(n,e,t,i,r){var s;const l=e;if(!l||!t.enable)return;const c=_i(t.offset),f=(null!==(s=e.velocity)&&void 0!==s?s:0)*n.factor+3.6*c;r&&0!==l.status?(l.value-=f,l.value<0&&(l.status=0,l.value+=l.value)):(l.value+=f,r&&l.value>i&&(l.status=1,l.value-=l.value%i)),l.value>i&&(l.value%=i)}class AG{constructor(e){this.container=e}init(e){const t=Gu(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=Bk(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){var t,i,r;const s=e.options.color.animation;return!e.destroyed&&!e.spawning&&(void 0!==(null===(t=e.color)||void 0===t?void 0:t.h.value)&&s.h.enable||void 0!==(null===(i=e.color)||void 0===i?void 0:i.s.value)&&s.s.enable||void 0!==(null===(r=e.color)||void 0===r?void 0:r.l.value)&&s.l.enable)}update(e,t){!function SG(n,e){var t,i,r;const s=n.options.color.animation;void 0!==(null===(t=n.color)||void 0===t?void 0:t.h)&&lP(e,n.color.h,s.h,360,!1),void 0!==(null===(i=n.color)||void 0===i?void 0:i.s)&&lP(e,n.color.s,s.s,100,!0),void 0!==(null===(r=n.color)||void 0===r?void 0:r.l)&&lP(e,n.color.l,s.l,100,!0)}(e,t)}}function xG(n){return uP.apply(this,arguments)}function uP(){return(uP=(0,$.Z)(function*(n){yield n.addParticleUpdater("color",e=>new AG(e))})).apply(this,arguments)}class MG extends Oo{constructor(e){super(e),e.attract||(e.attract={particles:[]}),this.handleClickMode=t=>{const i=this.container.actualOptions;if("attract"===t){e.attract||(e.attract={particles:[]}),e.attract.clicking=!0,e.attract.count=0;for(const r of e.attract.particles)r.velocity.setTo(r.initialVelocity);e.attract.particles=[],e.attract.finish=!1,setTimeout(()=>{e.destroyed||(e.attract||(e.attract={particles:[]}),e.attract.clicking=!1)},1e3*i.interactivity.modes.attract.duration)}}}isEnabled(){const e=this.container,i=e.interactivity.mouse,r=e.actualOptions.interactivity.events;if(!(i.position&&r.onHover.enable||i.clickPosition&&r.onClick.enable))return!1;const l=r.onClick.mode;return In("attract",r.onHover.mode)||In("attract",l)}reset(){}interact(){var e=this;return(0,$.Z)(function*(){const t=e.container,s=t.actualOptions.interactivity.events,f=s.onClick.enable,y=s.onClick.mode;t.interactivity.status===Xc&&s.onHover.enable&&In("attract",s.onHover.mode)?e.hoverAttract():f&&In("attract",y)&&e.clickAttract()})()}hoverAttract(){const e=this.container,t=e.interactivity.mouse.position;if(!t)return;const i=e.retina.attractModeDistance;this.processAttract(t,i,new Ro(t.x,t.y,i))}processAttract(e,t,i){const r=this.container,s=r.actualOptions.interactivity.modes.attract,l=r.particles.quadTree.query(i);for(const c of l){const{dx:f,dy:y,distance:w}=Bi(c.position,e),C=s.speed*s.factor,S=Gr(SI(1-w/t,s.easing)*C,0,s.maxSpeed),k=an.create(0===w?C:f/w*S,0===w?C:y/w*S);c.position.subFrom(k)}}clickAttract(){const e=this.container;if(e.attract||(e.attract={particles:[]}),e.attract.finish||(e.attract.count||(e.attract.count=0),e.attract.count++,e.attract.count===e.particles.count&&(e.attract.finish=!0)),e.attract.clicking){const t=e.interactivity.mouse.clickPosition;if(!t)return;const i=e.retina.attractModeDistance;this.processAttract(t,i,new Ro(t.x,t.y,i))}else!1===e.attract.clicking&&(e.attract.particles=[])}}function kG(n){return cP.apply(this,arguments)}function cP(){return(cP=(0,$.Z)(function*(n){yield n.addInteractor("externalAttract",e=>new MG(e))})).apply(this,arguments)}class PG extends Oo{constructor(e){super(e)}isEnabled(){const e=this.container,r=e.actualOptions.interactivity.events,s=r.onDiv;return e.interactivity.mouse.position&&r.onHover.enable&&In("bounce",r.onHover.mode)||Pp("bounce",s)}interact(){var e=this;return(0,$.Z)(function*(){const t=e.container,r=t.actualOptions.interactivity.events,f=r.onDiv;t.interactivity.status===Xc&&r.onHover.enable&&In("bounce",r.onHover.mode)?e.processMouseBounce():Vl("bounce",f,(y,w)=>e.singleSelectorBounce(y,w))})()}reset(){}processMouseBounce(){const e=this.container,r=e.interactivity.mouse.position,s=e.retina.bounceModeDistance;r&&this.processBounce(r,s,new Ro(r.x,r.y,s+10*e.retina.pixelRatio))}singleSelectorBounce(e,t){const i=this.container,r=document.querySelectorAll(e);!r.length||r.forEach(s=>{const l=s,c=i.retina.pixelRatio,f={x:(l.offsetLeft+l.offsetWidth/2)*c,y:(l.offsetTop+l.offsetHeight/2)*c},y=l.offsetWidth/2*c,w=10*c,C="circle"===t.type?new Ro(f.x,f.y,y+w):new ba(l.offsetLeft*c-w,l.offsetTop*c-w,l.offsetWidth*c+2*w,l.offsetHeight*c+2*w);this.processBounce(f,y,C)})}processBounce(e,t,i){const r=this.container.particles.quadTree.query(i);for(const s of r)i instanceof Ro?kk(mb(s),{position:e,radius:t,mass:t**2*Math.PI/2,velocity:an.origin,factor:an.origin}):i instanceof ba&&Pk(s,kp(e,t))}}function RG(n){return dP.apply(this,arguments)}function dP(){return(dP=(0,$.Z)(function*(n){yield n.addInteractor("externalBounce",e=>new PG(e))})).apply(this,arguments)}function NU(n,e,t,i){return e>=t?Gr(n+(e-t)*i,n,e):e<t?Gr(n-(t-e)*i,e,n):void 0}class OG extends Oo{constructor(e){super(e),e.bubble||(e.bubble={}),this.handleClickMode=t=>{"bubble"===t&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}isEnabled(){const e=this.container,i=e.interactivity.mouse,r=e.actualOptions.interactivity.events,l=Pp("bubble",r.onDiv);if(!(l||r.onHover.enable&&i.position||r.onClick.enable&&i.clickPosition))return!1;const f=r.onClick.mode;return In("bubble",r.onHover.mode)||In("bubble",f)||l}reset(e,t){e.bubble.inRange&&!t||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}interact(){var e=this;return(0,$.Z)(function*(){const i=e.container.actualOptions.interactivity.events,r=i.onHover,s=i.onClick,f=s.enable,y=s.mode,w=i.onDiv;r.enable&&In("bubble",r.mode)?e.hoverBubble():f&&In("bubble",y)?e.clickBubble():Vl("bubble",w,(C,S)=>e.singleSelectorHover(C,S))})()}singleSelectorHover(e,t){const i=this.container,r=document.querySelectorAll(e);!r.length||r.forEach(s=>{const l=s,c=i.retina.pixelRatio,f={x:(l.offsetLeft+l.offsetWidth/2)*c,y:(l.offsetTop+l.offsetHeight/2)*c},w="circle"===t.type?new Ro(f.x,f.y,l.offsetWidth/2*c):new ba(l.offsetLeft*c,l.offsetTop*c,l.offsetWidth*c,l.offsetHeight*c),C=i.particles.quadTree.query(w);for(const S of C){if(!w.contains(S.getPosition()))continue;S.bubble.inRange=!0;const R=gb(i.actualOptions.interactivity.modes.bubble.divs,l);(!S.bubble.div||S.bubble.div!==l)&&(this.reset(S,!0),S.bubble.div=l),this.hoverBubbleSize(S,1,R),this.hoverBubbleOpacity(S,1,R),this.hoverBubbleColor(S,1,R)}})}process(e,t,i,r){const s=this.container,l=r.bubbleObj.optValue;if(void 0===l)return;const f=s.actualOptions.interactivity.modes.bubble.duration,y=s.retina.bubbleModeDistance,C=r.bubbleObj.value,S=r.particlesObj.value||0,k=r.type;if(l!==r.particlesObj.optValue)if(s.bubble||(s.bubble={}),s.bubble.durationEnd)C&&("size"===k&&delete e.bubble.radius,"opacity"===k&&delete e.bubble.opacity);else if(t<=y){if((null!=C?C:S)!==l){const j=S-i*(S-l)/f;"size"===k&&(e.bubble.radius=j),"opacity"===k&&(e.bubble.opacity=j)}}else"size"===k&&delete e.bubble.radius,"opacity"===k&&delete e.bubble.opacity}clickBubble(){var e,t;const i=this.container,r=i.actualOptions,s=i.interactivity.mouse.clickPosition;if(!s)return;i.bubble||(i.bubble={});const c=i.particles.quadTree.queryCircle(s,i.retina.bubbleModeDistance);for(const f of c){if(!i.bubble.clicking)continue;f.bubble.inRange=!i.bubble.durationEnd;const w=Ti(f.getPosition(),s),C=((new Date).getTime()-(i.interactivity.mouse.clickTime||0))/1e3;C>r.interactivity.modes.bubble.duration&&(i.bubble.durationEnd=!0),C>2*r.interactivity.modes.bubble.duration&&(i.bubble.clicking=!1,i.bubble.durationEnd=!1);const S={bubbleObj:{optValue:i.retina.bubbleModeSize,value:f.bubble.radius},particlesObj:{optValue:$s(f.options.size.value)*i.retina.pixelRatio,value:f.size.value},type:"size"};this.process(f,w,C,S);const k={bubbleObj:{optValue:r.interactivity.modes.bubble.opacity,value:f.bubble.opacity},particlesObj:{optValue:$s(f.options.opacity.value),value:null!==(t=null===(e=f.opacity)||void 0===e?void 0:e.value)&&void 0!==t?t:1},type:"opacity"};this.process(f,w,C,k),i.bubble.durationEnd?delete f.bubble.color:w<=i.retina.bubbleModeDistance?this.hoverBubbleColor(f,w):delete f.bubble.color}}hoverBubble(){const e=this.container,t=e.interactivity.mouse.position;if(void 0===t)return;const i=e.retina.bubbleModeDistance,r=e.particles.quadTree.queryCircle(t,i);for(const s of r){s.bubble.inRange=!0;const c=Ti(s.getPosition(),t),f=1-c/i;c<=i?f>=0&&e.interactivity.status===Xc&&(this.hoverBubbleSize(s,f),this.hoverBubbleOpacity(s,f),this.hoverBubbleColor(s,f)):this.reset(s),e.interactivity.status===Np&&this.reset(s)}}hoverBubbleSize(e,t,i){const r=this.container,s=(null==i?void 0:i.size)?i.size*r.retina.pixelRatio:r.retina.bubbleModeSize;if(void 0===s)return;const l=$s(e.options.size.value)*r.retina.pixelRatio,f=NU(e.size.value,s,l,t);void 0!==f&&(e.bubble.radius=f)}hoverBubbleOpacity(e,t,i){var r,s,l;const y=null!==(r=null==i?void 0:i.opacity)&&void 0!==r?r:this.container.actualOptions.interactivity.modes.bubble.opacity;if(!y)return;const S=NU(null!==(l=null===(s=e.opacity)||void 0===s?void 0:s.value)&&void 0!==l?l:1,y,$s(e.options.opacity.value),t);void 0!==S&&(e.bubble.opacity=S)}hoverBubbleColor(e,t,i){const s=null!=i?i:this.container.actualOptions.interactivity.modes.bubble;if(!e.bubble.finalColor){const l=s.color;if(!l)return;const c=l instanceof Array?Sr(l):l;e.bubble.finalColor=Gu(c)}if(e.bubble.finalColor)if(s.mix){e.bubble.color=void 0;const l=e.getFillColor();e.bubble.color=l?yD(Fp(l,e.bubble.finalColor,1-t,t)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}}function NG(n){return hP.apply(this,arguments)}function hP(){return(hP=(0,$.Z)(function*(n){yield n.addInteractor("externalBubble",e=>new OG(e))})).apply(this,arguments)}class FG extends Oo{constructor(e){super(e)}isEnabled(){const e=this.container,i=e.actualOptions.interactivity.events;return!(!i.onHover.enable||!e.interactivity.mouse.position)&&In("connect",i.onHover.mode)}reset(){}interact(){var e=this;return(0,$.Z)(function*(){const t=e.container;if(t.actualOptions.interactivity.events.onHover.enable&&"mousemove"===t.interactivity.status){const r=t.interactivity.mouse.position;if(!r)return;const s=Math.abs(t.retina.connectModeRadius),l=t.particles.quadTree.queryCircle(r,s);let c=0;for(const f of l){const y=f.getPosition();for(const w of l.slice(c+1)){const C=w.getPosition(),S=Math.abs(t.retina.connectModeDistance),k=Math.abs(y.x-C.x),R=Math.abs(y.y-C.y);k<S&&R<S&&t.canvas.drawConnectLine(f,w)}++c}}})()}}function LG(n){return fP.apply(this,arguments)}function fP(){return(fP=(0,$.Z)(function*(n){yield n.addInteractor("externalConnect",e=>new FG(e))})).apply(this,arguments)}class UG extends Oo{constructor(e){super(e)}isEnabled(){const e=this.container,i=e.actualOptions.interactivity.events;return i.onHover.enable&&!!e.interactivity.mouse.position&&In("grab",i.onHover.mode)}reset(){}interact(){var e=this;return(0,$.Z)(function*(){var t;const i=e.container,r=i.actualOptions,s=r.interactivity;if(!s.events.onHover.enable||i.interactivity.status!==Xc)return;const l=i.interactivity.mouse.position;if(!l)return;const c=i.retina.grabModeDistance,f=i.particles.quadTree.queryCircle(l,c);for(const y of f){const C=Ti(y.getPosition(),l);if(C>c)continue;const S=s.modes.grab.links,k=S.opacity,R=k-C*k/c;if(R<=0)continue;const j=null!==(t=S.color)&&void 0!==t?t:y.options.links.color;if(!i.particles.grabLineColor){const pe=r.interactivity.modes.grab.links;i.particles.grabLineColor=Up(j,pe.blink,pe.consent)}const Q=Lp(y,void 0,i.particles.grabLineColor);if(!Q)return;i.canvas.drawGrabLine(y,Q,R,l)}})()}}function VG(n){return pP.apply(this,arguments)}function pP(){return(pP=(0,$.Z)(function*(n){yield n.addInteractor("externalGrab",e=>new UG(e))})).apply(this,arguments)}class BG extends Oo{constructor(e){super(e),this.handleClickMode=t=>{if("pause"!==t)return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}isEnabled(){return!0}reset(){}interact(){return(0,$.Z)(function*(){})()}}function jG(n){n.addInteractor("externalPause",e=>new BG(e))}class HG extends Oo{constructor(e){super(e),this.handleClickMode=t=>{if("push"!==t)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push.quantity;if(s<=0)return;const c=Sr([void 0,...r.interactivity.modes.push.groups]);i.particles.push(s,i.interactivity.mouse,void 0!==c?i.actualOptions.particles.groups[c]:void 0,c)}}isEnabled(){return!0}reset(){}interact(){return(0,$.Z)(function*(){})()}}function zG(n){return gP.apply(this,arguments)}function gP(){return(gP=(0,$.Z)(function*(n){yield n.addInteractor("externalPush",e=>new HG(e))})).apply(this,arguments)}class GG extends Oo{constructor(e){super(e),this.handleClickMode=t=>{if("remove"!==t)return;const i=this.container;i.particles.removeQuantity(i.actualOptions.interactivity.modes.remove.quantity)}}isEnabled(){return!0}reset(){}interact(){return(0,$.Z)(function*(){})()}}function $G(n){n.addInteractor("externalRemove",e=>new GG(e))}class qG extends Oo{constructor(e){super(e),e.repulse||(e.repulse={particles:[]}),this.handleClickMode=t=>{const i=this.container.actualOptions;if("repulse"===t){e.repulse||(e.repulse={particles:[]}),e.repulse.clicking=!0,e.repulse.count=0;for(const r of e.repulse.particles)r.velocity.setTo(r.initialVelocity);e.repulse.particles=[],e.repulse.finish=!1,setTimeout(()=>{e.destroyed||(e.repulse||(e.repulse={particles:[]}),e.repulse.clicking=!1)},1e3*i.interactivity.modes.repulse.duration)}}}isEnabled(){const e=this.container,i=e.interactivity.mouse,r=e.actualOptions.interactivity.events,l=Pp("repulse",r.onDiv);if(!(l||r.onHover.enable&&i.position||r.onClick.enable&&i.clickPosition))return!1;const f=r.onClick.mode;return In("repulse",r.onHover.mode)||In("repulse",f)||l}reset(){}interact(){var e=this;return(0,$.Z)(function*(){const t=e.container,s=t.actualOptions.interactivity.events,f=s.onClick.enable,y=s.onClick.mode,w=s.onDiv;t.interactivity.status===Xc&&s.onHover.enable&&In("repulse",s.onHover.mode)?e.hoverRepulse():f&&In("repulse",y)?e.clickRepulse():Vl("repulse",w,(C,S)=>e.singleSelectorRepulse(C,S))})()}singleSelectorRepulse(e,t){const i=this.container,r=document.querySelectorAll(e);!r.length||r.forEach(s=>{const l=s,c=i.retina.pixelRatio,f={x:(l.offsetLeft+l.offsetWidth/2)*c,y:(l.offsetTop+l.offsetHeight/2)*c},y=l.offsetWidth/2*c,w="circle"===t.type?new Ro(f.x,f.y,y):new ba(l.offsetLeft*c,l.offsetTop*c,l.offsetWidth*c,l.offsetHeight*c),S=gb(i.actualOptions.interactivity.modes.repulse.divs,l);this.processRepulse(f,y,w,S)})}hoverRepulse(){const e=this.container,t=e.interactivity.mouse.position;if(!t)return;const i=e.retina.repulseModeDistance;this.processRepulse(t,i,new Ro(t.x,t.y,i))}processRepulse(e,t,i,r){var s;const l=this.container,c=l.particles.quadTree.query(i),f=l.actualOptions.interactivity.modes.repulse;for(const y of c){const{dx:w,dy:C,distance:S}=Bi(y.position,e),k=(null!==(s=null==r?void 0:r.speed)&&void 0!==s?s:f.speed)*f.factor,R=Gr(SI(1-S/t,f.easing)*k,0,f.maxSpeed),j=an.create(0===S?k:w/S*R,0===S?k:C/S*R);y.position.addTo(j)}}clickRepulse(){const e=this.container;if(e.repulse||(e.repulse={particles:[]}),e.repulse.finish||(e.repulse.count||(e.repulse.count=0),e.repulse.count++,e.repulse.count===e.particles.count&&(e.repulse.finish=!0)),e.repulse.clicking){const i=Math.pow(e.retina.repulseModeDistance/6,3),r=e.interactivity.mouse.clickPosition;if(void 0===r)return;const s=new Ro(r.x,r.y,i),l=e.particles.quadTree.query(s);for(const c of l){const{dx:f,dy:y,distance:w}=Bi(r,c.position),C=w**2,k=-i*e.actualOptions.interactivity.modes.repulse.speed/C;if(C<=i){e.repulse.particles.push(c);const R=an.create(f,y);R.length=k,c.velocity.setTo(R)}}}else if(!1===e.repulse.clicking){for(const t of e.repulse.particles)t.velocity.setTo(t.initialVelocity);e.repulse.particles=[]}}}function WG(n){return mP.apply(this,arguments)}function mP(){return(mP=(0,$.Z)(function*(n){yield n.addInteractor("externalRepulse",e=>new qG(e))})).apply(this,arguments)}const ZG=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function _P(n){return yP.apply(this,arguments)}function yP(){return(yP=(0,$.Z)(function*(n){return new Promise(e=>{n.loading=!0;const t=new Image;t.addEventListener("load",()=>{n.element=t,n.loading=!1,e()}),t.addEventListener("error",()=>{n.error=!0,n.loading=!1,console.error(`Error tsParticles - loading image: ${n.source}`),e()}),t.src=n.source})})).apply(this,arguments)}function YG(n){return vP.apply(this,arguments)}function vP(){return(vP=(0,$.Z)(function*(n){if("svg"!==n.type)return void(yield _P(n));n.loading=!0;const e=yield fetch(n.source);n.loading=!1,e.ok||(console.error("Error tsParticles - Image not found"),n.error=!0),n.error||(n.svgData=yield e.text())})).apply(this,arguments)}var q_,FU=function(n,e,t,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(n,t):r?r.value=t:e.set(n,t),t},LU=function(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)};class JG{constructor(){q_.set(this,void 0),FU(this,q_,[],"f")}getSidesCount(){return 12}getImages(e){return LU(this,q_,"f").find(i=>i.id===e.id)||(LU(this,q_,"f").push({id:e.id,images:[]}),this.getImages(e))}addImage(e,t){const i=this.getImages(e);null==i||i.images.push(t)}destroy(){FU(this,q_,[],"f")}draw(e,t,i,r){var s,l;const c=t.image,f=null===(s=null==c?void 0:c.data)||void 0===s?void 0:s.element;if(!f)return;const y=null!==(l=null==c?void 0:c.ratio)&&void 0!==l?l:1,w={x:-i,y:-i};(!(null==c?void 0:c.data.svgData)||!(null==c?void 0:c.replaceColor))&&(e.globalAlpha=r),e.drawImage(f,w.x,w.y,2*i,2*i/y),(!(null==c?void 0:c.data.svgData)||!(null==c?void 0:c.replaceColor))&&(e.globalAlpha=1)}loadShape(e){var t,i,r;if("image"!==e.shape&&"images"!==e.shape)return;const s=this.getImages(e.container).images,l=e.shapeData,c=s.find(k=>k.source===l.src);let f;if(!c)return void this.loadImageShape(e.container,l).then(()=>{this.loadShape(e)});if(c.error)return;const y=e.getFillColor();f=c.svgData&&l.replaceColor&&y?function QG(n,e,t,i){var r,s,l;const c=function KG(n,e,t){const{svgData:i}=n;if(!i)return"";const r=Bl(e,t);if(i.includes("fill"))return i.replace(ZG,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}(n,t,null!==(s=null===(r=i.opacity)||void 0===r?void 0:r.value)&&void 0!==s?s:1),f=new Blob([c],{type:"image/svg+xml"}),y=URL||window.URL||window.webkitURL||window,w=y.createObjectURL(f),C=new Image,S={data:Object.assign(Object.assign({},n),{svgData:c}),ratio:e.width/e.height,replaceColor:null!==(l=e.replaceColor)&&void 0!==l?l:e.replace_color,source:e.src};return C.addEventListener("load",()=>{const k=i.image;k&&(k.loaded=!0,n.element=C),y.revokeObjectURL(w)}),C.addEventListener("error",()=>{y.revokeObjectURL(w);const k=Object.assign(Object.assign({},n),{error:!1,loading:!0});_P(k).then(()=>{const R=i.image;R&&(n.element=k.element,R.loaded=!0)})}),C.src=w,S}(c,l,y,e):{data:c,loaded:!0,ratio:l.width/l.height,replaceColor:null!==(t=l.replaceColor)&&void 0!==t?t:l.replace_color,source:l.src},f.ratio||(f.ratio=1);const S={image:f,fill:null!==(i=l.fill)&&void 0!==i?i:e.fill,close:null!==(r=l.close)&&void 0!==r?r:e.close};e.image=S.image,e.fill=S.fill,e.close=S.close}loadImageShape(e,t){var i=this;return(0,$.Z)(function*(){const r=t.src;if(!r)throw new Error("Error tsParticles - No image.src");try{const s={source:r,type:r.substr(r.length-3),error:!1,loading:!0};i.addImage(e,s),yield(t.replaceColor?YG:_P)(s)}catch(s){throw new Error(`tsParticles error - ${t.src} not found`)}})()}}function XG(n){return bP.apply(this,arguments)}function bP(){return(bP=(0,$.Z)(function*(n){const e=new JG;yield n.addShape("image",e),yield n.addShape("images",e)})).apply(this,arguments)}q_=new WeakMap;class e${constructor(e){this.container=e}init(){}isEnabled(e){return!e.destroyed}update(e,t){if(!this.isEnabled(e))return;const i=e.life;let r=!1;if(e.spawning){if(i.delayTime+=t.value,!(i.delayTime>=e.life.delay))return;r=!0,e.spawning=!1,i.delayTime=0,i.time=0}if(-1===i.duration||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,0===e.life.count)return void e.destroy();const s=this.container.canvas.size,l=Ct(0,s.width),c=Ct(0,s.width);e.position.x=_i(l),e.position.y=_i(c),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const f=e.options.life;i.delay=1e3*_t(f.delay.value),i.duration=1e3*_t(f.duration.value)}}function t$(n){return wP.apply(this,arguments)}function wP(){return(wP=(0,$.Z)(function*(n){yield n.addParticleUpdater("life",e=>new e$(e))})).apply(this,arguments)}class n${getSidesCount(){return 1}draw(e,t,i){e.moveTo(-i/2,0),e.lineTo(i/2,0)}}function i$(n){return EP.apply(this,arguments)}function EP(){return(EP=(0,$.Z)(function*(n){yield n.addShape("line",new n$)})).apply(this,arguments)}class o${constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity={enable:t.animation.enable,max:$s(t.value),min:gh(t.value),value:_t(t.value),loops:0,maxLoops:_t(t.animation.count)};const i=t.animation;if(i.enable){e.opacity.status=0;const r=t.value;switch(e.opacity.min=gh(r),e.opacity.max=$s(r),i.startValue){case"min":e.opacity.value=e.opacity.min,e.opacity.status=0;break;case"random":e.opacity.value=_i(e.opacity),e.opacity.status=Math.random()>=.5?0:1;break;default:e.opacity.value=e.opacity.max,e.opacity.status=1}e.opacity.velocity=_t(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=Math.random())}}isEnabled(e){var t,i,r,s;return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((null!==(t=e.opacity.maxLoops)&&void 0!==t?t:0)<=0||(null!==(i=e.opacity.maxLoops)&&void 0!==i?i:0)>0&&(null!==(r=e.opacity.loops)&&void 0!==r?r:0)<(null!==(s=e.opacity.maxLoops)&&void 0!==s?s:0))}update(e,t){!this.isEnabled(e)||function s$(n,e){var t,i,r,s,l;if(!n.opacity)return;const c=n.opacity.min,f=n.opacity.max;if(!(n.destroyed||!n.opacity.enable||(null!==(t=n.opacity.maxLoops)&&void 0!==t?t:0)>0&&(null!==(i=n.opacity.loops)&&void 0!==i?i:0)>(null!==(r=n.opacity.maxLoops)&&void 0!==r?r:0))){switch(n.opacity.status){case 0:n.opacity.value>=f?(n.opacity.status=1,n.opacity.loops||(n.opacity.loops=0),n.opacity.loops++):n.opacity.value+=(null!==(s=n.opacity.velocity)&&void 0!==s?s:0)*e.factor;break;case 1:n.opacity.value<=c?(n.opacity.status=0,n.opacity.loops||(n.opacity.loops=0),n.opacity.loops++):n.opacity.value-=(null!==(l=n.opacity.velocity)&&void 0!==l?l:0)*e.factor}(function r$(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy()}})(n,n.opacity.value,c,f),n.destroyed||(n.opacity.value=Gr(n.opacity.value,c,f))}}(e,t)}}function a$(n){return CP.apply(this,arguments)}function CP(){return(CP=(0,$.Z)(function*(n){yield n.addParticleUpdater("opacity",e=>new o$(e))})).apply(this,arguments)}class c${constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;let l=!1;for(const[,S]of s.plugins)if(void 0!==S.particleBounce&&(l=S.particleBounce(e,i,t)),l)break;if(l)return;const c=e.getPosition(),f=e.offset,y=e.getRadius(),w=kp(c,y),C=s.canvas.size;(function l$(n){if("bounce"!==n.outMode&&"bounce-horizontal"!==n.outMode&&"bounceHorizontal"!==n.outMode&&"split"!==n.outMode)return;const e=n.particle.velocity.x;let t=!1;if("right"===n.direction&&n.bounds.right>=n.canvasSize.width&&e>0||"left"===n.direction&&n.bounds.left<=0&&e<0){const r=Ul(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&(n.particle.position.x=i),"split"===n.outMode&&n.particle.destroy()})({particle:e,outMode:r,direction:t,bounds:w,canvasSize:C,offset:f,size:y}),function u$(n){if("bounce"===n.outMode||"bounce-vertical"===n.outMode||"bounceVertical"===n.outMode||"split"===n.outMode){const e=n.particle.velocity.y;let t=!1;if("bottom"===n.direction&&n.bounds.bottom>=n.canvasSize.height&&e>0||"top"===n.direction&&n.bounds.top<=0&&e<0){const r=Ul(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&(n.particle.position.y=i),"split"===n.outMode&&n.particle.destroy()}}({particle:e,outMode:r,direction:t,bounds:w,canvasSize:C,offset:f,size:y})}}class d${constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(vh(e.position,s.canvas.size,an.origin,e.getRadius(),t))return;break;case"inside":{const{dx:l,dy:c}=Bi(e.position,e.moveCenter),{x:f,y}=e.velocity;if(f<0&&l>e.moveCenter.radius||y<0&&c>e.moveCenter.radius||f>=0&&l<-e.moveCenter.radius||y>=0&&c<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class h${constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&("left"===t||"right"===t)||e.options.move.distance.vertical&&("top"===t||"bottom"===t))return;const s=e.options.move.gravity,l=this.container,c=l.canvas.size,f=e.getRadius();if(s.enable){const y=e.position;(!s.inverse&&y.y>c.height+f&&"bottom"===t||s.inverse&&y.y<-f&&"top"===t)&&l.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=c.height+f||e.velocity.y<0&&e.position.y>=-f||e.velocity.x>0&&e.position.x<=c.width+f||e.velocity.x<0&&e.position.x>=-f)return;vh(e.position,l.canvas.size,an.origin,f,t)||l.particles.remove(e)}}}class f${constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:l,y:c}=e.velocity,f=an.origin;f.length=e.moveCenter.radius,f.angle=e.velocity.angle+Math.PI,f.addTo(an.create(e.moveCenter));const{dx:y,dy:w}=Bi(e.position,f);if(l<=0&&y>=0||c<=0&&w>=0||l>=0&&y<=0||c>=0&&w<=0)return;e.position.x=Math.floor(_i({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(_i({min:0,max:s.canvas.size.height}));const{dx:C,dy:S}=Bi(e.position,e.moveCenter);e.direction=Math.atan2(-S,-C),e.velocity.angle=e.direction;break}default:if(vh(e.position,s.canvas.size,an.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(_i({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(_i({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:l,dy:c}=Bi(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(c,l),e.velocity.angle=e.direction);break}case"normal":{const l=e.options.move.warp,c=s.canvas.size,f={bottom:c.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:c.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},y=e.getRadius(),w=kp(e.position,y);"right"===t&&w.left>c.width+e.offset.x?(e.position.x=f.left,e.initialPosition.x=e.position.x,l||(e.position.y=Math.random()*c.height,e.initialPosition.y=e.position.y)):"left"===t&&w.right<-e.offset.x&&(e.position.x=f.right,e.initialPosition.x=e.position.x,l||(e.position.y=Math.random()*c.height,e.initialPosition.y=e.position.y)),"bottom"===t&&w.top>c.height+e.offset.y?(l||(e.position.x=Math.random()*c.width,e.initialPosition.x=e.position.x),e.position.y=f.top,e.initialPosition.y=e.position.y):"top"===t&&w.bottom<-e.offset.y&&(l||(e.position.x=Math.random()*c.width,e.initialPosition.x=e.position.x),e.position.y=f.bottom,e.initialPosition.y=e.position.y);break}}}}}class p${constructor(e){this.container=e,this.updaters=[new c$(e),new d$(e),new f$(e),new h$(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){var i,r,s,l;const c=e.options.move.outModes;this.updateOutMode(e,t,null!==(i=c.bottom)&&void 0!==i?i:c.default,"bottom"),this.updateOutMode(e,t,null!==(r=c.left)&&void 0!==r?r:c.default,"left"),this.updateOutMode(e,t,null!==(s=c.right)&&void 0!==s?s:c.default,"right"),this.updateOutMode(e,t,null!==(l=c.top)&&void 0!==l?l:c.default,"top")}updateOutMode(e,t,i,r){for(const s of this.updaters)s.update(e,r,t,i)}}function g$(n){return TP.apply(this,arguments)}function TP(){return(TP=(0,$.Z)(function*(n){yield n.addParticleUpdater("outModes",e=>new p$(e))})).apply(this,arguments)}class m${init(){}isEnabled(e){return!zu()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions;if(zu()||!i.interactivity.events.onHover.parallax.enable)return;const r=i.interactivity.events.onHover.parallax.force,s=t.interactivity.mouse.position;if(!s)return;const l_x=t.canvas.size.width/2,l_y=t.canvas.size.height/2,c=i.interactivity.events.onHover.parallax.smooth,f=e.getRadius()/r,y_y=(s.y-l_y)*f;e.offset.x+=((s.x-l_x)*f-e.offset.x)/c,e.offset.y+=(y_y-e.offset.y)/c}}function _$(n){return IP.apply(this,arguments)}function IP(){return(IP=(0,$.Z)(function*(n){n.addMover("parallax",()=>new m$)})).apply(this,arguments)}class y$ extends Vp{constructor(e){super(e)}interact(e){var t=this;return(0,$.Z)(function*(){var i;const r=t.container,s=null!==(i=e.retina.attractDistance)&&void 0!==i?i:r.retina.attractDistance,l=e.getPosition(),c=r.particles.quadTree.queryCircle(l,s);for(const f of c){if(e===f||!f.options.move.attract.enable||f.destroyed||f.spawning)continue;const y=f.getPosition(),{dx:w,dy:C}=Bi(l,y),S=e.options.move.attract.rotate,k=w/(1e3*S.x),R=C/(1e3*S.y),j=f.size.value/e.size.value,Q=1/j;e.velocity.x-=k*j,e.velocity.y-=R*j,f.velocity.x+=k*Q,f.velocity.y+=R*Q}})()}isEnabled(e){return e.options.move.attract.enable}reset(){}}function v$(n){return DP.apply(this,arguments)}function DP(){return(DP=(0,$.Z)(function*(n){yield n.addInteractor("particlesAttract",e=>new y$(e))})).apply(this,arguments)}function UU(n,e){kk(mb(n),mb(e))}function E$(n,e,t,i){switch(n.options.collisions.mode){case"absorb":!function b$(n,e,t,i){if(void 0===n.getRadius()&&void 0!==e.getRadius())n.destroy();else if(void 0!==n.getRadius()&&void 0===e.getRadius())e.destroy();else if(void 0!==n.getRadius()&&void 0!==e.getRadius())if(n.getRadius()>=e.getRadius()){const r=Gr(n.getRadius()/e.getRadius(),0,e.getRadius())*t;n.size.value+=r,e.size.value-=r,e.getRadius()<=i&&(e.size.value=0,e.destroy())}else{const r=Gr(e.getRadius()/n.getRadius(),0,n.getRadius())*t;n.size.value-=r,e.size.value+=r,n.getRadius()<=i&&(n.size.value=0,n.destroy())}}(n,e,t,i);break;case"bounce":UU(n,e);break;case"destroy":!function w$(n,e){!n.unbreakable&&!e.unbreakable&&UU(n,e),void 0===n.getRadius()&&void 0!==e.getRadius()?n.destroy():void 0!==n.getRadius()&&void 0===e.getRadius()?e.destroy():void 0!==n.getRadius()&&void 0!==e.getRadius()&&(n.getRadius()>=e.getRadius()?e.destroy():n.destroy())}(n,e)}}class C$ extends Vp{constructor(e){super(e)}isEnabled(e){return e.options.collisions.enable}reset(){}interact(e){var t=this;return(0,$.Z)(function*(){const i=t.container,r=e.getPosition(),s=e.getRadius(),l=i.particles.quadTree.queryCircle(r,2*s);for(const c of l){if(e===c||!c.options.collisions.enable||e.options.collisions.mode!==c.options.collisions.mode||c.destroyed||c.spawning)continue;const f=c.getPosition(),y=c.getRadius();Math.abs(Math.round(r.z)-Math.round(f.z))>s+y||(Ti(r,f)>s+y||E$(e,c,i.fpsLimit/1e3,i.retina.pixelRatio))}})()}}function T$(n){return SP.apply(this,arguments)}function SP(){return(SP=(0,$.Z)(function*(n){yield n.addInteractor("particlesCollisions",e=>new C$(e))})).apply(this,arguments)}function I$(n,e,t,i,r){let s=Ti(n,e);return!r||s<=t?s:(s=Ti(n,{x:e.x-i.width,y:e.y}),s<=t?s:(s=Ti(n,{x:e.x-i.width,y:e.y-i.height}),s<=t||(s=Ti(n,{x:e.x,y:e.y-i.height})),s))}class D$ extends Vp{constructor(e){super(e)}isEnabled(e){return e.options.links.enable}reset(){}interact(e){var t=this;return(0,$.Z)(function*(){var i;e.links=[];const r=e.getPosition(),s=t.container,l=s.canvas.size;if(r.x<0||r.y<0||r.x>l.width||r.y>l.height)return;const c=e.options.links,f=c.opacity,y=null!==(i=e.retina.linksDistance)&&void 0!==i?i:s.retina.linksDistance,w=c.warp,C=w?new o(r.x,r.y,y,l):new Ro(r.x,r.y,y),S=s.particles.quadTree.query(C);for(const k of S){const R=k.options.links;if(e===k||!R.enable||c.id!==R.id||k.spawning||k.destroyed||-1!==e.links.map(Me=>Me.destination).indexOf(k)||-1!==k.links.map(Me=>Me.destination).indexOf(e))continue;const j=k.getPosition();if(j.x<0||j.y<0||j.x>l.width||j.y>l.height)continue;const Q=I$(r,j,y,l,w&&R.warp);if(Q>y)return;const pe=(1-Q/y)*f;t.setColor(e),e.links.push({destination:k,opacity:pe})}})()}setColor(e){const t=this.container,i=e.options.links;let r=void 0===i.id?t.particles.linksColor:t.particles.linksColors.get(i.id);r||(r=Up(i.color,i.blink,i.consent),void 0===i.id?t.particles.linksColor=r:t.particles.linksColors.set(i.id,r))}}function S$(n){return AP.apply(this,arguments)}function AP(){return(AP=(0,$.Z)(function*(n){yield n.addInteractor("particlesLinks",e=>new D$(e))})).apply(this,arguments)}class M${constructor(e){this.container=e}particleCreated(e){e.links=[]}particleDestroyed(e){e.links=[]}drawParticle(e,t){const i=t,r=this.container,s=r.particles,l=t.options;if(i.links.length<=0)return;e.save();const c=i.links.filter(f=>r.particles.getLinkFrequency(i,f.destination)<=l.links.frequency);for(const f of c){const y=f.destination;if(l.links.triangles.enable){const w=c.map(S=>S.destination),C=y.links.filter(S=>r.particles.getLinkFrequency(y,S.destination)<=y.options.links.frequency&&w.indexOf(S.destination)>=0);if(C.length)for(const S of C)s.getTriangleFrequency(i,y,S.destination)>l.links.triangles.frequency||this.drawLinkTriangle(i,f,S)}f.opacity>0&&r.retina.linksWidth>0&&this.drawLinkLine(i,f)}e.restore()}drawLinkTriangle(e,t,i){var r;const s=this.container,l=s.actualOptions,c=t.destination,f=i.destination,y=e.options.links.triangles,w=null!==(r=y.opacity)&&void 0!==r?r:(t.opacity+i.opacity)/2;w<=0||s.canvas.draw(C=>{const S=e.getPosition(),k=c.getPosition(),R=f.getPosition();if(Ti(S,k)>s.retina.linksDistance||Ti(R,k)>s.retina.linksDistance||Ti(R,S)>s.retina.linksDistance)return;let j=Wr(y.color);if(!j){const Q=e.options.links,pe=void 0!==Q.id?s.particles.linksColors.get(Q.id):s.particles.linksColor;j=Lp(e,c,pe)}!j||function x$(n,e,t,i,r,s,l,c){(function CD(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()})(n,e,t,i),r&&(n.globalCompositeOperation=s),n.fillStyle=vs(l,c),n.fill()}(C,S,k,R,l.backgroundMask.enable,l.backgroundMask.composite,j,w)})}drawLinkLine(e,t){const i=this.container,r=i.actualOptions,s=t.destination,l=e.getPosition(),c=s.getPosition();let f=t.opacity;i.canvas.draw(y=>{var w,C;let S;const k=e.options.twinkle.lines;if(k.enable){const Q=k.frequency,pe=Wr(k.color);Math.random()<Q&&pe&&(S=pe,f=_t(k.opacity))}if(!S){const Q=e.options.links,pe=void 0!==Q.id?i.particles.linksColors.get(Q.id):i.particles.linksColor;S=Lp(e,s,pe)}if(!S)return;const R=null!==(w=e.retina.linksWidth)&&void 0!==w?w:i.retina.linksWidth,j=null!==(C=e.retina.linksDistance)&&void 0!==C?C:i.retina.linksDistance;!function A$(n,e,t,i,r,s,l,c,f,y,w,C){let S=!1;if(Ti(t,i)<=r)z_(n,t,i),S=!0;else if(l){let k,R;const Q=Bi(t,{x:i.x-s.width,y:i.y});if(Q.distance<=r){const pe=t.y-Q.dy/Q.dx*t.x;k={x:0,y:pe},R={x:s.width,y:pe}}else{const Me=Bi(t,{x:i.x,y:i.y-s.height});if(Me.distance<=r){const Ne=-(t.y-Me.dy/Me.dx*t.x)/(Me.dy/Me.dx);k={x:Ne,y:0},R={x:Ne,y:s.height}}else{const Ne=Bi(t,{x:i.x-s.width,y:i.y-s.height});if(Ne.distance<=r){const at=t.y-Ne.dy/Ne.dx*t.x;k={x:-at/(Ne.dy/Ne.dx),y:at},R={x:k.x+s.width,y:k.y+s.height}}}}k&&R&&(z_(n,t,k),z_(n,i,R),S=!0)}if(S){if(n.lineWidth=e,c&&(n.globalCompositeOperation=f),n.strokeStyle=vs(y,w),C.enable){const k=Wr(C.color);k&&(n.shadowBlur=C.blur,n.shadowColor=vs(k))}n.stroke()}}(y,R,l,c,j,i.canvas.size,e.options.links.warp,r.backgroundMask.enable,r.backgroundMask.composite,S,f,e.options.links.shadow)})}}class k${constructor(){this.id="links"}getPlugin(e){return new M$(e)}needsPlugin(){return!0}loadOptions(){}}function P$(n){return xP.apply(this,arguments)}function xP(){return(xP=(0,$.Z)(function*(n){const e=new k$;yield n.addPlugin(e)})).apply(this,arguments)}function R$(n){return MP.apply(this,arguments)}function MP(){return(MP=(0,$.Z)(function*(n){yield S$(n),yield P$(n)})).apply(this,arguments)}class VU{getSidesCount(e){var t,i;const r=e.shapeData;return null!==(i=null!==(t=null==r?void 0:r.sides)&&void 0!==t?t:null==r?void 0:r.nb_sides)&&void 0!==i?i:5}draw(e,t,i){const r=this.getCenter(t,i),s=this.getSidesData(t,i),l=s.count.numerator*s.count.denominator,c=s.count.numerator/s.count.denominator,y=Math.PI-Math.PI*(180*(c-2)/c)/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let w=0;w<l;w++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(y)}}}class O$ extends VU{getSidesData(e,t){var i,r;const s=e.shapeData,l=null!==(r=null!==(i=null==s?void 0:s.sides)&&void 0!==i?i:null==s?void 0:s.nb_sides)&&void 0!==r?r:5;return{count:{denominator:1,numerator:l},length:2.66*t/(l/3)}}getCenter(e,t){return{x:-t/(this.getSidesCount(e)/3.5),y:-t/.76}}}class N$ extends VU{getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:2*t}}getCenter(e,t){return{x:-t,y:t/1.66}}}function F$(n){return kP.apply(this,arguments)}function kP(){return(kP=(0,$.Z)(function*(n){yield n.addShape("polygon",new O$)})).apply(this,arguments)}function L$(n){return PP.apply(this,arguments)}function PP(){return(PP=(0,$.Z)(function*(n){yield n.addShape("triangle",new N$)})).apply(this,arguments)}function U$(n){return RP.apply(this,arguments)}function RP(){return(RP=(0,$.Z)(function*(n){yield F$(n),yield L$(n)})).apply(this,arguments)}class j${init(){}isEnabled(e){var t,i,r,s;return!e.destroyed&&!e.spawning&&e.size.enable&&((null!==(t=e.size.maxLoops)&&void 0!==t?t:0)<=0||(null!==(i=e.size.maxLoops)&&void 0!==i?i:0)>0&&(null!==(r=e.size.loops)&&void 0!==r?r:0)<(null!==(s=e.size.maxLoops)&&void 0!==s?s:0))}update(e,t){!this.isEnabled(e)||function B$(n,e){var t,i,r,s;const l=(null!==(t=n.size.velocity)&&void 0!==t?t:0)*e.factor,c=n.size.min,f=n.size.max;if(!(n.destroyed||!n.size.enable||(null!==(i=n.size.maxLoops)&&void 0!==i?i:0)>0&&(null!==(r=n.size.loops)&&void 0!==r?r:0)>(null!==(s=n.size.maxLoops)&&void 0!==s?s:0))){switch(n.size.status){case 0:n.size.value>=f?(n.size.status=1,n.size.loops||(n.size.loops=0),n.size.loops++):n.size.value+=l;break;case 1:n.size.value<=c?(n.size.status=0,n.size.loops||(n.size.loops=0),n.size.loops++):n.size.value-=l}(function V$(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy()}})(n,n.size.value,c,f),n.destroyed||(n.size.value=Gr(n.size.value,c,f))}}(e,t)}}function H$(n){return OP.apply(this,arguments)}function OP(){return(OP=(0,$.Z)(function*(n){yield n.addParticleUpdater("size",()=>new j$)})).apply(this,arguments)}const OD=Math.sqrt(2);class z${getSidesCount(){return 4}draw(e,t,i){e.rect(-i/OD,-i/OD,2*i/OD,2*i/OD)}}function G$(n){return NP.apply(this,arguments)}function NP(){return(NP=(0,$.Z)(function*(n){const e=new z$;yield n.addShape("edge",e),yield n.addShape("square",e)})).apply(this,arguments)}class $${getSidesCount(e){var t,i;const r=e.shapeData;return null!==(i=null!==(t=null==r?void 0:r.sides)&&void 0!==t?t:null==r?void 0:r.nb_sides)&&void 0!==i?i:5}draw(e,t,i){var r;const s=t.shapeData,l=this.getSidesCount(t),c=null!==(r=null==s?void 0:s.inset)&&void 0!==r?r:2;e.moveTo(0,0-i);for(let f=0;f<l;f++)e.rotate(Math.PI/l),e.lineTo(0,0-i*c),e.rotate(Math.PI/l),e.lineTo(0,0-i)}}function q$(n){return FP.apply(this,arguments)}function FP(){return(FP=(0,$.Z)(function*(n){yield n.addShape("star",new $$)})).apply(this,arguments)}function LP(n,e,t,i,r){var s;const l=e;if(!l||!l.enable)return;const c=_i(t.offset),f=(null!==(s=e.velocity)&&void 0!==s?s:0)*n.factor+3.6*c;r&&0!==l.status?(l.value-=f,l.value<0&&(l.status=0,l.value+=l.value)):(l.value+=f,r&&l.value>i&&(l.status=1,l.value-=l.value%i)),l.value>i&&(l.value%=i)}class Z${constructor(e){this.container=e}init(e){var t,i;const r=this.container;e.stroke=e.options.stroke instanceof Array?Sr(e.options.stroke,e.id,e.options.reduceDuplicates):e.options.stroke,e.strokeWidth=e.stroke.width*r.retina.pixelRatio;const s=null!==(t=Gu(e.stroke.color))&&void 0!==t?t:e.getFillColor();s&&(e.strokeColor=Bk(s,null===(i=e.stroke.color)||void 0===i?void 0:i.animation,r.retina.reduceFactor))}isEnabled(e){var t,i,r,s;const l=null===(t=e.stroke)||void 0===t?void 0:t.color;return!e.destroyed&&!e.spawning&&!!l&&(void 0!==(null===(i=e.strokeColor)||void 0===i?void 0:i.h.value)&&l.animation.h.enable||void 0!==(null===(r=e.strokeColor)||void 0===r?void 0:r.s.value)&&l.animation.s.enable||void 0!==(null===(s=e.strokeColor)||void 0===s?void 0:s.l.value)&&l.animation.l.enable)}update(e,t){!this.isEnabled(e)||function W$(n,e){var t,i,r,s,l,c,f,y,w,C;if(!(null===(t=n.stroke)||void 0===t?void 0:t.color))return;const S=n.stroke.color.animation,k=null!==(r=null===(i=n.strokeColor)||void 0===i?void 0:i.h)&&void 0!==r?r:null===(s=n.color)||void 0===s?void 0:s.h;k&&LP(e,k,S.h,360,!1);const R=null!==(c=null===(l=n.strokeColor)||void 0===l?void 0:l.s)&&void 0!==c?c:null===(f=n.color)||void 0===f?void 0:f.s;R&&LP(e,R,S.s,100,!0);const j=null!==(w=null===(y=n.strokeColor)||void 0===y?void 0:y.l)&&void 0!==w?w:null===(C=n.color)||void 0===C?void 0:C.l;j&&LP(e,j,S.l,100,!0)}(e,t)}}function K$(n){return UP.apply(this,arguments)}function UP(){return(UP=(0,$.Z)(function*(n){yield n.addParticleUpdater("strokeColor",e=>new Z$(e))})).apply(this,arguments)}const VP=["text","character","char"];class Y${getSidesCount(){return 12}init(e){return(0,$.Z)(function*(){const t=e.actualOptions;if(VP.find(i=>In(i,t.particles.shape.type))){const i=VP.map(r=>t.particles.shape.options[r]).find(r=>!!r);if(i instanceof Array){const r=[];for(const s of i)r.push(F_(s.font,s.weight));yield Promise.allSettled(r)}else if(void 0!==i){const r=i;yield F_(r.font,r.weight)}}})()}draw(e,t,i,r){var s,l,c;const f=t.shapeData;if(void 0===f)return;const y=f.value;if(void 0===y)return;const w=t;void 0===w.text&&(w.text=y instanceof Array?Sr(y,t.randomIndexData):y);const C=w.text,S=null!==(s=f.style)&&void 0!==s?s:"",k=null!==(l=f.weight)&&void 0!==l?l:"400",R=2*Math.round(i),j=null!==(c=f.font)&&void 0!==c?c:"Verdana",Q=t.fill,pe=C.length*i/2;e.font=`${S} ${k} ${R}px "${j}"`;const Me={x:-pe,y:i/2};e.globalAlpha=r,Q?e.fillText(C,Me.x,Me.y):e.strokeText(C,Me.x,Me.y),e.globalAlpha=1}}function Q$(n){return BP.apply(this,arguments)}function BP(){return(BP=(0,$.Z)(function*(n){const e=new Y$;for(const t of VP)yield n.addShape(t,e)})).apply(this,arguments)}function J$(n){return jP.apply(this,arguments)}function jP(){return(jP=(0,$.Z)(function*(n){yield TG(n),yield _$(n),yield kG(n),yield RG(n),yield NG(n),yield LG(n),yield VG(n),yield jG(n),yield zG(n),yield $G(n),yield WG(n),yield v$(n),yield T$(n),yield R$(n),yield DG(n),yield XG(n),yield i$(n),yield U$(n),yield G$(n),yield q$(n),yield Q$(n),yield t$(n),yield a$(n),yield H$(n),yield yG(n),yield xG(n),yield K$(n),yield g$(n),yield gG(n)})).apply(this,arguments)}class e7{constructor(e){this.container=e}init(e){const t=e.options.tilt;e.tilt={enable:t.enable,value:_t(t.value)*Math.PI/180,sinDirection:Math.random()>=.5?1:-1,cosDirection:Math.random()>=.5?1:-1};let i=t.direction;switch("random"===i&&(i=Math.floor(2*Math.random())>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.tilt.status=1;break;case"clockwise":e.tilt.status=0}const r=e.options.tilt.animation;r.enable&&(e.tilt.velocity=_t(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.tilt.velocity*=Math.random()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.options.tilt.animation.enable}update(e,t){!this.isEnabled(e)||function X$(n,e){var t;if(!n.tilt)return;const s=(null!==(t=n.tilt.velocity)&&void 0!==t?t:0)*e.factor,l=2*Math.PI;n.options.tilt.animation.enable&&(0===n.tilt.status?(n.tilt.value+=s,n.tilt.value>l&&(n.tilt.value-=l)):(n.tilt.value-=s,n.tilt.value<0&&(n.tilt.value+=l)))}(e,t)}}function t7(n){return HP.apply(this,arguments)}function HP(){return(HP=(0,$.Z)(function*(n){yield n.addParticleUpdater("tilt",e=>new e7(e))})).apply(this,arguments)}class n7{getColorStyles(e,t,i,r){const l=e.options.twinkle.particles,c=l.enable&&Math.random()<l.frequency,y=(1-e.zIndexFactor)**e.options.zIndex.opacityRate,w=c?_t(l.opacity)*y:r,C=Gu(l.color),S=C?Bl(C,w):void 0,k={},R=c&&S;return k.fill=R?S:void 0,k.stroke=R?S:void 0,k}init(){}isEnabled(e){return e.options.twinkle.particles.enable}update(){}}function i7(n){return zP.apply(this,arguments)}function zP(){return(zP=(0,$.Z)(function*(n){yield n.addParticleUpdater("twinkle",()=>new n7)})).apply(this,arguments)}class s7{constructor(e){this.container=e}init(e){const t=e.options.wobble;e.wobble=t.enable?{angle:Math.random()*Math.PI*2,speed:_t(t.speed)/360}:{angle:0,speed:0},e.retina.wobbleDistance=_t(t.distance)*this.container.retina.pixelRatio}isEnabled(e){return!e.destroyed&&!e.spawning&&e.options.wobble.enable}update(e,t){!this.isEnabled(e)||function r7(n,e){var t;if(!n.options.wobble.enable||!n.wobble)return;const s=(null!==(t=n.retina.wobbleDistance)&&void 0!==t?t:0)*e.factor/(1e3/60),l=2*Math.PI;n.wobble.angle+=n.wobble.speed*e.factor,n.wobble.angle>l&&(n.wobble.angle-=l),n.position.x+=s*Math.cos(n.wobble.angle),n.position.y+=s*Math.abs(Math.sin(n.wobble.angle))}(e,t)}}function o7(n){return GP.apply(this,arguments)}function GP(){return(GP=(0,$.Z)(function*(n){yield n.addParticleUpdater("wobble",e=>new s7(e))})).apply(this,arguments)}function BU(n){return $P.apply(this,arguments)}function $P(){return($P=(0,$.Z)(function*(n){yield J$(n),yield pG(n),yield t7(n),yield i7(n),yield o7(n),yield Z8(n),yield P8(n),yield q8(n),yield dG(n)})).apply(this,arguments)}var tl=(()=>{return(n=tl||(tl={})).INVALID_EMAIL="auth/invalid-email",n.EMAIL_ALREADY_IN_USE="auth/email-already-in-use",n.WEAK_PASSWORD="auth/weak-password",n.USER_NOT_FOUND="auth/user-not-found",n.EMPTY_FIELDS="empty-fields",n.DIFFERENT_PASSWORDS="different-passwords",tl;var n})(),ND=(()=>((ND||(ND={})).SIGNED_UP="signed-up",ND))(),qP=U(6451),FD=U(5363),a7=U(6063);class l7 extends D.x{constructor(e=1/0,t=1/0,i=a7.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;t||(i.push(e),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!e.closed;l+=i?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=t.now();let c=0;for(let f=1;f<i.length&&i[f]<=l;f+=2)c=f;c&&i.splice(0,c+1)}}}var WP=U(3099);function jU(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,WP.B)({connector:()=>new l7(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function HU(n,e){return(0,yu.m)(e)?Vi(()=>n,e):Vi(()=>n)}var ZP=U(9468),bn=U(5813),fr=U(2011);U(5867);var qs=U(9681),Hl=U(4859),L=U(2090),zl=U(1877);const GU=new Map,f7={activated:!1,tokenObservers:[]},p7={initialized:!1,enabled:!1};function Ar(n){return GU.get(n)||f7}function Gl(n,e){GU.set(n,e)}function UD(){return p7}class v7{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,$.Z)(function*(){t.stop();try{t.pending=new L.BH,yield function b7(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new L.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ws=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qU(n){if(!Ar(n).activated)throw Ws.create("use-before-activation",{appName:n.name})}function JP(n,e){return XP.apply(this,arguments)}function XP(){return(XP=(0,$.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const C=yield r.getHeartbeatsHeader();C&&(i["X-Firebase-Client"]=C)}const s={method:"POST",body:JSON.stringify(e),headers:i};let l,c;try{l=yield fetch(n,s)}catch(C){throw Ws.create("fetch-network-error",{originalErrorMessage:C.message})}if(200!==l.status)throw Ws.create("fetch-status-error",{httpStatus:l.status});try{c=yield l.json()}catch(C){throw Ws.create("fetch-parse-error",{originalErrorMessage:C.message})}const f=c.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const y=1e3*Number(f[1]),w=Date.now();return{token:c.token,expireTimeMillis:w+y,issuedAtTimeMillis:w}})).apply(this,arguments)}function I7(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const xb="firebase-app-check-store";let jD=null;function ZU(){return jD||(jD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ws.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(xb,{keyPath:"compositeKey"})}}catch(t){e(Ws.create("storage-open",{originalErrorMessage:t.message}))}}),jD)}function eR(){return(eR=(0,$.Z)(function*(n,e){const i=(yield ZU()).transaction(xb,"readwrite"),s=i.objectStore(xb).put({compositeKey:n,value:e});return new Promise((l,c)=>{s.onsuccess=f=>{l()},i.onerror=f=>{var y;c(Ws.create("storage-set",{originalErrorMessage:null===(y=f.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Mb=new zl.Yd("@firebase/app-check");function JU(n,e){return(0,L.hl)()?function x7(n,e){return function KU(n,e){return eR.apply(this,arguments)}(function QU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Mb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function XU(){return UD().enabled}function eV(){return rR.apply(this,arguments)}function rR(){return(rR=(0,$.Z)(function*(){const n=UD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const N7={error:"UNKNOWN_ERROR"};function F7(n){return L.US.encodeString(JSON.stringify(n),!1)}function HD(n){return sR.apply(this,arguments)}function sR(){return(sR=(0,$.Z)(function*(n,e=!1){const t=n.app;qU(t);const i=Ar(t);let s,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&zD(f)&&(r=f)}if(!e&&r&&zD(r))return{token:r.token};let c,l=!1;if(XU()){i.exchangeTokenPromise||(i.exchangeTokenPromise=JP(I7(t,yield eV()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),l=!0);const f=yield i.exchangeTokenPromise;return yield JU(t,f),Gl(t,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),l=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Mb.warn(f.message):Mb.error(f),s=f}return r?(c={token:r.token},Gl(t,Object.assign(Object.assign({},i),{token:r})),yield JU(t,r)):c=U7(s),l&&nV(t,c),c})).apply(this,arguments)}function aR(n,e){const t=Ar(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Gl(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function tV(n){const{app:e}=n,t=Ar(e);let i=t.tokenRefresher;i||(i=function L7(n){const{app:e}=n;return new v7((0,$.Z)(function*(){let i;if(i=Ar(e).token?yield HD(n,!0):yield HD(n),i.error)throw i.error}),()=>!0,()=>{const t=Ar(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Gl(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function nV(n,e){const t=Ar(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function zD(n){return n.expireTimeMillis-Date.now()>0}function U7(n){return{token:F7(N7),error:n}}class V7{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ar(this.app);for(const t of e)aR(this.app,t.next);return Promise.resolve()}}const cV="app-check-internal";!function X7(){(0,qs._registerComponent)(new Hl.wA("app-check",n=>function B7(n,e){return new V7(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cV).initialize()})),(0,qs._registerComponent)(new Hl.wA(cV,n=>function j7(n){return{getToken:e=>HD(n,e),addTokenListener:e=>function oR(n,e,t,i){const{app:r}=n,s=Ar(r),l={next:t,error:i,type:e};if(Gl(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,l]})),s.token&&zD(s.token)){const c=s.token;Promise.resolve().then(()=>{t({token:c.token}),tV(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>tV(n))}(n,"INTERNAL",e),removeTokenListener:e=>aR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qs.registerVersion)("@firebase/app-check","0.5.8")}();class kb{constructor(){return(0,bn.vb)("app-check")}}"undefined"!=typeof window&&window;var $D=U(127);const hR=new d.OlP("angularfire2.auth.use-emulator"),fR=new d.OlP("angularfire2.auth.settings"),pR=new d.OlP("angularfire2.auth.tenant-id"),gR=new d.OlP("angularfire2.auth.langugage-code"),mR=new d.OlP("angularfire2.auth.use-device-language"),_R=new d.OlP("angularfire.auth.persistence"),yR=(n,e,t,i,r,s,l,c)=>(0,fr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),l)for(const[y,w]of Object.entries(l))f.settings[y]=w;return c&&f.setPersistence(c),f},[t,i,r,s,l,c]);let Pb=(()=>{class n{constructor(t,i,r,s,l,c,f,y,w,C,S,k){const R=new D.x,j=pt(void 0).pipe((0,FD.Q)(l.outsideAngular),Vi(()=>s.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,7092)))),(0,dt.U)(()=>(0,fr.on)(t,s,i)),(0,dt.U)(Q=>yR(Q,s,c,y,w,C,f,S)),jU({bufferSize:1,refCount:!1}));if($o(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{j.pipe(zc()).subscribe();const pe=j.pipe(Vi(Ne=>Ne.getRedirectResult().then(at=>at,()=>null)),bn.iC,jU({bufferSize:1,refCount:!1})),Me=j.pipe(Vi(Ne=>new Vn.y(at=>({unsubscribe:s.runOutsideAngular(()=>Ne.onAuthStateChanged(lt=>at.next(lt),lt=>at.error(lt),()=>at.complete()))})))),Ue=j.pipe(Vi(Ne=>new Vn.y(at=>({unsubscribe:s.runOutsideAngular(()=>Ne.onIdTokenChanged(lt=>at.next(lt),lt=>at.error(lt),()=>at.complete()))}))));this.authState=pe.pipe(HU(Me),(0,ZP.R)(l.outsideAngular),(0,FD.Q)(l.insideAngular)),this.user=pe.pipe(HU(Ue),(0,ZP.R)(l.outsideAngular),(0,FD.Q)(l.insideAngular)),this.idToken=this.user.pipe(Vi(Ne=>Ne?(0,Qt.D)(Ne.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(Vi(Ne=>Ne?(0,Qt.D)(Ne.getIdTokenResult()):pt(null))),this.credential=(0,qP.T)(pe,R,this.authState.pipe(Xn(Ne=>!Ne))).pipe((0,dt.U)(Ne=>(null==Ne?void 0:Ne.user)?Ne:null),(0,ZP.R)(l.outsideAngular),(0,FD.Q)(l.insideAngular))}return(0,fr.pX)(this,j,s,{spy:{apply:(Q,pe,Me)=>{(Q.startsWith("signIn")||Q.startsWith("createUser"))&&Me.then(Ue=>R.next(Ue))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fr.Dh),d.LFG(fr.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(bn.HU),d.LFG(hR,8),d.LFG(fR,8),d.LFG(pR,8),d.LFG(gR,8),d.LFG(mR,8),d.LFG(_R,8),d.LFG(kb,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sq=(()=>{class n{constructor(){$D.Z.registerVersion("angularfire",bn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Pb]}),n})();const oq=["overlay"];function aq(n,e){1&n&&d._UZ(0,"div")}function lq(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,aq,1,0,"div",6),d.qZA()),2&n){const t=d.oxw(2);d.Tol(t.spinner.class),d.Udp("color",t.spinner.color),d.xp6(1),d.Q6J("ngForOf",t.spinner.divArray)}}function uq(n,e){if(1&n&&(d._UZ(0,"div",7),d.ALo(1,"safeHtml")),2&n){const t=d.oxw(2);d.Q6J("innerHTML",d.lcZ(1,1,t.template),d.oJD)}}function cq(n,e){if(1&n&&(d.TgZ(0,"div",1,2),d.YNc(2,lq,2,5,"div",3),d.YNc(3,uq,2,3,"div",4),d.TgZ(4,"div",5),d.Hsn(5),d.qZA()()),2&n){const t=d.oxw();d.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),d.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),d.xp6(2),d.Q6J("ngIf",!t.template),d.xp6(1),d.Q6J("ngIf",t.template),d.xp6(1),d.Udp("z-index",t.spinner.zIndex)}}const dq=["*"],hq={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},bR="primary";class Hp{constructor(e){Object.assign(this,e)}static create(e){return(null==(null==e?void 0:e.type)||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Hp(e)}}let wR=(()=>{class n{constructor(){this.spinnerObservable=new x(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(Xn(i=>i&&i.name===t))}show(t=bR,i){return new Promise((r,s)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=t,this.spinnerObservable.next(new Hp(Object.assign(Object.assign({},i),{show:!0}))),r(!0)):(this.spinnerObservable.next(new Hp({name:t,show:!0})),r(!0))},10)})}hide(t=bR,i=10){return new Promise((r,s)=>{setTimeout(()=>{this.spinnerObservable.next(new Hp({name:t,show:!1})),r(!0)},i)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fq=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(wl,16))},n.\u0275pipe=d.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),pq=(()=>{class n{constructor(t,i,r){this.spinnerService=t,this.changeDetector=i,this.elementRef=r,this.disableAnimation=!1,this.spinner=new Hp,this.ngUnsubscribe=new D.x,this.setDefaultOptions=()=>{this.spinner=Hp.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=bR,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(If(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const i in t)if(i){const r=t[i];if(r.isFirstChange())return;void 0!==r.currentValue&&r.currentValue!==r.previousValue&&""!==r.currentValue&&(this.spinner[i]=r.currentValue,"showSpinner"===i&&(r.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===i&&this.initObservable())}}getClass(t,i){this.spinner.divCount=hq[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,l)=>l);let r="";switch(i.toLowerCase()){case"small":r="la-sm";break;case"medium":r="la-2x";break;case"large":r="la-3x"}return"la-"+t+" "+r}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(wR),d.Y36(d.sBO),d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,i){if(1&t&&d.Gf(oq,5),2&t){let r;d.iGM(r=d.CRH())&&(i.spinnerDOM=r.first)}},hostBindings:function(t,i){1&t&&d.NdJ("keydown",function(s){return i.handleKeyboardEvent(s)},!1,d.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[d.TTD],ngContentSelectors:dq,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,i){1&t&&(d.F$t(),d.YNc(0,cq,6,12,"div",0)),2&t&&d.Q6J("ngIf",i.spinner.show)},directives:[xn,Un],pipes:[fq],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[Tv("fadeIn",[Sm("in",xl({opacity:1})),kf(":enter",[xl({opacity:0}),Kd(300)]),kf(":leave",Kd(200,xl({opacity:0})))])]},changeDetection:0}),n})(),hV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ma]]}),n})();const fV=["toast-component",""];function gq(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(t),d.oxw().remove()}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA()()}}function mq(n,e){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const t=d.oxw(2);d.xp6(1),d.hij("[",t.duplicatesCount+1,"]")}}function _q(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,mq,2,1,"ng-container",4),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.titleClass),d.uIk("aria-label",t.title),d.xp6(1),d.hij(" ",t.title," "),d.xp6(1),d.Q6J("ngIf",t.duplicatesCount)}}function yq(n,e){if(1&n&&d._UZ(0,"div",7),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.Q6J("innerHTML",t.message,d.oJD)}}function vq(n,e){if(1&n&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.uIk("aria-label",t.message),d.xp6(1),d.hij(" ",t.message," ")}}function bq(n,e){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Udp("width",t.width+"%")}}function wq(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(t),d.oxw().remove()}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA()()}}function Eq(n,e){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const t=d.oxw(2);d.xp6(1),d.hij("[",t.duplicatesCount+1,"]")}}function Cq(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,Eq,2,1,"ng-container",4),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.titleClass),d.uIk("aria-label",t.title),d.xp6(1),d.hij(" ",t.title," "),d.xp6(1),d.Q6J("ngIf",t.duplicatesCount)}}function Tq(n,e){if(1&n&&d._UZ(0,"div",7),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.Q6J("innerHTML",t.message,d.oJD)}}function Iq(n,e){if(1&n&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.uIk("aria-label",t.message),d.xp6(1),d.hij(" ",t.message," ")}}function Dq(n,e){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Udp("width",t.width+"%")}}class Sq{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class qD{constructor(e,t,i,r,s,l){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=l,this._onTap=new D.x,this._onAction=new D.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const pV={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},gV=new d.OlP("ToastConfig");class xq{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new D.x,this._activate=new D.x,this._manualClose=new D.x,this._resetTimeout=new D.x,this._countDuplicate=new D.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class Mq{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,i){return e===qD?this._toastPackage:this._parentInjector.get(e,t,i)}}class kq extends class Aq{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Pq{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Rq=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(le))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oq=(()=>{class n{constructor(t,i,r,s){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=s,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new kq(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Pq(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Rq),d.LFG(d._Vd),d.LFG(d.z2F),d.LFG(le))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ER=(()=>{class n{constructor(t,i,r,s,l){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=l,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){const{includeTitleDuplicates:l}=this.toastrConfig;for(const c of this.toasts){const f=l&&c.title===t;if((!l||f)&&c.message===i)return c.toastRef.onDuplicate(r,s),c}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const l=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==l)return l;this.previousToastMessage=i;let c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const f=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let y=i;i&&s.enableHtml&&(y=this.sanitizer.sanitize(d.q3G.HTML,i));const w=new xq(f),C=new qD(this.index,s,y,r,t,w),S=new Mq(C,this._injector),k=new Sq(s.toastComponent,S),R=f.attach(k,this.toastrConfig.newestOnTop);w.componentInstance=R.instance;const j={toastId:this.index,title:r||"",message:i||"",toastRef:w,onShown:w.afterActivate(),onHidden:w.afterClosed(),onTap:C.onTap(),onAction:C.onAction(),portal:R};return c||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{j.toastRef.activate()})),this.toasts.push(j),j}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(gV),d.LFG(Oq),d.LFG(d.zs3),d.LFG(wl),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nq=(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ER),d.Y36(qD),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&d.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(d.d8E("@flyInOut",i.state),d.Tol(i.toastClasses),d.Udp("display",i.displayStyle))},attrs:fV,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(d.YNc(0,gq,3,0,"button",0),d.YNc(1,_q,3,5,"div",1),d.YNc(2,yq,1,3,"div",2),d.YNc(3,vq,2,4,"div",3),d.YNc(4,bq,2,2,"div",4)),2&t&&(d.Q6J("ngIf",i.options.closeButton),d.xp6(1),d.Q6J("ngIf",i.title),d.xp6(1),d.Q6J("ngIf",i.message&&i.options.enableHtml),d.xp6(1),d.Q6J("ngIf",i.message&&!i.options.enableHtml),d.xp6(1),d.Q6J("ngIf",i.options.progressBar))},directives:[xn],encapsulation:2,data:{animation:[Tv("flyInOut",[Sm("inactive",xl({opacity:0})),Sm("active",xl({opacity:1})),Sm("removed",xl({opacity:0})),kf("inactive => active",Kd("{{ easeTime }}ms {{ easing }}")),kf("active => removed",Kd("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const Fq=Object.assign(Object.assign({},pV),{toastComponent:Nq});let Lq=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:gV,useValue:{default:Fq,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ma]]}),n})(),Uq=(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.appRef=r,this.width=-1,this.toastClasses="",this.state="inactive",this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ER),d.Y36(qD),d.Y36(d.z2F))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,i){1&t&&d.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(d.Tol(i.toastClasses),d.Udp("display",i.displayStyle))},attrs:fV,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(d.YNc(0,wq,3,0,"button",0),d.YNc(1,Cq,3,5,"div",1),d.YNc(2,Tq,1,3,"div",2),d.YNc(3,Iq,2,4,"div",3),d.YNc(4,Dq,2,2,"div",4)),2&t&&(d.Q6J("ngIf",i.options.closeButton),d.xp6(1),d.Q6J("ngIf",i.title),d.xp6(1),d.Q6J("ngIf",i.message&&i.options.enableHtml),d.xp6(1),d.Q6J("ngIf",i.message&&!i.options.enableHtml),d.xp6(1),d.Q6J("ngIf",i.options.progressBar))},directives:[xn],encapsulation:2}),n})();Object.assign(Object.assign({},pV),{toastComponent:Uq});let WD=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.auth=i,this.spinner=r,this.ngZone=s,this.toastr=l}showError(t){switch(t){case tl.INVALID_EMAIL:this.toastr.error("El email es inv\xe1lido");break;case tl.EMAIL_ALREADY_IN_USE:this.toastr.error("El email ingresado ya est\xe1 registrado");break;case tl.WEAK_PASSWORD:this.toastr.error("La contrase\xf1a debe tener un m\xednimo de 6 car\xe1cteres");break;case tl.USER_NOT_FOUND:this.toastr.error("Email y/o contrase\xf1a inv\xe1lido");break;case tl.EMPTY_FIELDS:this.toastr.error("Todos los campos son obligatorios");break;case tl.DIFFERENT_PASSWORDS:this.toastr.error("Las contrase\xf1as no coinciden");break;default:this.toastr.error("Ha ocurrido un error, por favor reintente nuevamente")}}showSuccess(t){t===ND.SIGNED_UP&&this.toastr.success("Cuenta creada exitosamente")}signIn(t,i){var r=this;return(0,$.Z)(function*(){try{if(r.spinner.show(),!t||!i)return r.showError(tl.EMPTY_FIELDS);const s=yield r.auth.signInWithEmailAndPassword(t,i);s&&(r.user=s,r.ngZone.run(()=>{r.router.navigateByUrl("/home")}))}catch(s){r.showError(s.code)}finally{r.spinner.hide()}})()}signUp(t,i,r){var s=this;return(0,$.Z)(function*(){try{if(s.spinner.show(),!t||!i||!r)return s.showError(tl.EMPTY_FIELDS);if(i!==r)return s.showError(tl.DIFFERENT_PASSWORDS);(yield s.auth.createUserWithEmailAndPassword(t,i))&&(s.toastr.success("Cuenta creada exitosamente"),s.signIn(t,i))}catch(l){s.showError(l.code)}finally{s.spinner.hide()}})()}logout(){var t=this;return(0,$.Z)(function*(){t.user=null,yield t.auth.signOut(),t.router.navigateByUrl("")})()}getAuth(){return this.auth.authState}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Yi),d.LFG(Pb),d.LFG(wR),d.LFG(d.R0b),d.LFG(ER))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mV=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){}signOut(){this.auth.logout()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(WD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:17,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],[1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","flex-grow-0"],[1,"navbar-nav","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/home",1,"nav-link","active"],["routerLink","/about",1,"nav-link"],[1,"nav-link",3,"click"]],template:function(t,i){1&t&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),d._uU(3,"Sala de juegos"),d.qZA(),d.TgZ(4,"button",3),d._UZ(5,"span",4),d.qZA(),d.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),d._uU(10,"Home"),d.qZA()(),d.TgZ(11,"li",7)(12,"a",9),d._uU(13,"Acerca"),d.qZA()(),d.TgZ(14,"li",7)(15,"button",10),d.NdJ("click",function(){return i.signOut()}),d._uU(16,"Salir"),d.qZA()()()()()())},directives:[C_],styles:["nav[_ngcontent-%COMP%]{position:fixed;z-index:100;width:100%}button[_ngcontent-%COMP%]{border:none;background-color:transparent}"]}),n})();var CR=U(4986);function TR(){return(0,Tn.e)((n,e)=>{let t,i=!1;n.subscribe((0,jt.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}U(7092);var ct,IR=U(3942),Vq="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},td={},DR=DR||{},Bt=Vq||self;function ZD(){}function SR(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rb(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var AR="closure_uid_"+(1e9*Math.random()>>>0),jq=0;function Hq(n,e,t){return n.call.apply(n.bind,arguments)}function zq(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Zr(n,e,t){return(Zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hq:zq).apply(null,arguments)}function KD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Kr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[r].apply(i,l)}}function wh(){this.s=this.s,this.o=this.o}var $q={};wh.prototype.s=!1,wh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Bq(n){return Object.prototype.hasOwnProperty.call(n,AR)&&n[AR]||(n[AR]=++jq)}(this);delete $q[n]}},wh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _V=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},yV=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function vV(n){return Array.prototype.concat.apply([],arguments)}function xR(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function YD(n){return/^[\s\xa0]*$/.test(n)}var Ks,bV=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Zs(n,e){return-1!=n.indexOf(e)}function MR(n,e){return n<e?-1:n>e?1:0}e:{var wV=Bt.navigator;if(wV){var EV=wV.userAgent;if(EV){Ks=EV;break e}}Ks=""}function kR(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function CV(n){const e={};for(const t in n)e[t]=n[t];return e}var TV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IV(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<TV.length;s++)t=TV[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function PR(n){return PR[" "](n),n}PR[" "]=ZD;var QD,n,Zq=Zs(Ks,"Opera"),W_=Zs(Ks,"Trident")||Zs(Ks,"MSIE"),DV=Zs(Ks,"Edge"),RR=DV||W_,SV=Zs(Ks,"Gecko")&&!(Zs(Ks.toLowerCase(),"webkit")&&!Zs(Ks,"Edge"))&&!(Zs(Ks,"Trident")||Zs(Ks,"MSIE"))&&!Zs(Ks,"Edge"),Kq=Zs(Ks.toLowerCase(),"webkit")&&!Zs(Ks,"Edge");function AV(){var n=Bt.document;return n?n.documentMode:void 0}e:{var OR="",NR=(n=Ks,SV?/rv:([^\);]+)(\)|;)/.exec(n):DV?/Edge\/([\d\.]+)/.exec(n):W_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Kq?/WebKit\/(\S+)/.exec(n):Zq?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(NR&&(OR=NR?NR[1]:""),W_){var FR=AV();if(null!=FR&&FR>parseFloat(OR)){QD=String(FR);break e}}QD=OR}var Yq={};var Jq=Bt.document&&W_&&(AV()||parseInt(QD,10))||void 0,Xq=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",ZD,e),Bt.removeEventListener("test",ZD,e)}catch(t){}return n}();function Es(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ob(n,e){if(Es.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(SV){e:{try{PR(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eW[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ob.Z.h.call(this)}}Es.prototype.h=function(){this.defaultPrevented=!0},Kr(Ob,Es);var eW={2:"touch",3:"pen",4:"mouse"};Ob.prototype.h=function(){Ob.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nb="closure_listenable_"+(1e6*Math.random()|0),tW=0;function nW(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++tW,this.ca=this.fa=!1}function JD(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function XD(n){this.src=n,this.g={},this.h=0}function UR(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=_V(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(JD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function VR(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}XD.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=VR(n,e,i,r);return-1<l?(e=n[l],t||(e.fa=!1)):((e=new nW(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var BR="closure_lm_"+(1e6*Math.random()|0),jR={};function MV(n,e,t,i,r){if(i&&i.once)return PV(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)MV(n,e[s],t,i,r);return null}return t=$R(t),n&&n[Nb]?n.N(e,t,Rb(i)?!!i.capture:!!i,r):kV(n,e,t,!1,i,r)}function kV(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=Rb(r)?!!r.capture:!!r,c=zR(n);if(c||(n[BR]=c=new XD(n)),(t=c.add(e,t,i,l,s)).proxy)return t;if(i=function iW(){var e=rW;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Xq||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(OV(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function PV(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)PV(n,e[s],t,i,r);return null}return t=$R(t),n&&n[Nb]?n.O(e,t,Rb(i)?!!i.capture:!!i,r):kV(n,e,t,!0,i,r)}function RV(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)RV(n,e[s],t,i,r);else i=Rb(i)?!!i.capture:!!i,t=$R(t),n&&n[Nb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=VR(s=n.g[e],t,i,r))&&(JD(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=zR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=VR(e,t,i,r)),(t=-1<n?e[n]:null)&&HR(t))}function HR(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Nb])UR(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(OV(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=zR(e))?(UR(t,n),0==t.h&&(t.src=null,e[BR]=null)):JD(n)}}}function OV(n){return n in jR?jR[n]:jR[n]="on"+n}function rW(n,e){if(n.ca)n=!0;else{e=new Ob(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&HR(n),n=t.call(i,e)}return n}function zR(n){return(n=n[BR])instanceof XD?n:null}var GR="__closure_events_fn_"+(1e9*Math.random()>>>0);function $R(n){return"function"==typeof n?n:(n[GR]||(n[GR]=function(e){return n.handleEvent(e)}),n[GR])}function xr(){wh.call(this),this.i=new XD(this),this.P=this,this.I=null}function Yr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Es(e,n);else if(e instanceof Es)e.target=e.target||n;else{var r=e;IV(e=new Es(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=eS(l,i,!0,e)&&r}if(r=eS(l=e.g=n,i,!0,e)&&r,r=eS(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=eS(l=e.g=t[s],i,!1,e)&&r}function eS(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.ca&&l.capture==t){var c=l.listener,f=l.ia||l.src;l.fa&&UR(n.i,l),r=!1!==c.call(f,i)&&r}}return r&&!i.defaultPrevented}Kr(xr,wh),xr.prototype[Nb]=!0,xr.prototype.removeEventListener=function(n,e,t,i){RV(this,n,e,t,i)},xr.prototype.M=function(){if(xr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)JD(t[i]);delete n.g[e],n.h--}}this.I=null},xr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},xr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var qR=Bt.JSON.stringify;function sW(){var n=FV;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ZR,NV=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new aW,n=>n.reset());class aW{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lW(n){Bt.setTimeout(()=>{throw n},0)}function WR(n,e){ZR||function uW(){var n=Bt.Promise.resolve(void 0);ZR=function(){n.then(cW)}}(),KR||(ZR(),KR=!0),FV.add(n,e)}var KR=!1,FV=new class oW{constructor(){this.h=this.g=null}add(e,t){const i=NV.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function cW(){for(var n;n=sW();){try{n.h.call(n.g)}catch(t){lW(t)}var e=NV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}KR=!1}function tS(n,e){xr.call(this),this.h=n||1,this.g=e||Bt,this.j=Zr(this.kb,this),this.l=Date.now()}function YR(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function QR(n,e,t){if("function"==typeof n)t&&(n=Zr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function LV(n){n.g=QR(()=>{n.g=null,n.i&&(n.i=!1,LV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kr(tS,xr),(ct=tS.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yr(this,"tick"),this.da&&(YR(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){tS.Z.M.call(this),YR(this),delete this.g};class dW extends wh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LV(this)}M(){super.M(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fb(n){wh.call(this),this.h=n,this.g={}}Kr(Fb,wh);var UV=[];function VV(n,e,t,i){Array.isArray(t)||(t&&(UV[0]=t.toString()),t=UV);for(var r=0;r<t.length;r++){var s=MV(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function BV(n){kR(n.g,function(e,t){this.g.hasOwnProperty(t)&&HR(e)},n),n.g={}}function nS(){this.g=!0}function Z_(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gW(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return qR(t)}catch(c){return e}}(n,t)+(i?" "+i:"")})}Fb.prototype.M=function(){Fb.Z.M.call(this),BV(this)},Fb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nS.prototype.Aa=function(){this.g=!1},nS.prototype.info=function(){};var zp={},jV=null;function iS(){return jV=jV||new xr}function HV(n){Es.call(this,zp.Ma,n)}function Lb(n){const e=iS();Yr(e,new HV(e,n))}function zV(n,e){Es.call(this,zp.STAT_EVENT,n),this.stat=e}function Ys(n){const e=iS();Yr(e,new zV(e,n))}function GV(n,e){Es.call(this,zp.Na,n),this.size=e}function Ub(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}zp.Ma="serverreachability",Kr(HV,Es),zp.STAT_EVENT="statevent",Kr(zV,Es),zp.Na="timingevent",Kr(GV,Es);var rS={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$V={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function JR(){}function WV(){}JR.prototype.h=null;var tO,Vb={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function XR(){Es.call(this,"d")}function eO(){Es.call(this,"c")}function sS(){}function Bb(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Fb(this),this.P=mW,this.W=new tS(n=RR?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ZV}function ZV(){this.i=null,this.g="",this.h=!1}Kr(XR,Es),Kr(eO,Es),Kr(sS,JR),sS.prototype.g=function(){return new XMLHttpRequest},sS.prototype.i=function(){return{}},tO=new sS;var mW=45e3,nO={},oS={};function iO(n,e,t){n.K=1,n.v=dS(nd(e)),n.s=t,n.U=!0,KV(n,null)}function KV(n,e){n.F=Date.now(),jb(n),n.A=nd(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),rB(t.h,"t",i),n.C=0,t=n.l.H,n.h=new ZV,n.g=SB(n.l,t?e:null,!n.s),0<n.O&&(n.L=new dW(Zr(n.Ia,n,n.g),n.O)),VV(n.V,n.g,"readystatechange",n.gb),e=n.H?CV(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Lb(1),function hW(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",c=s.split("&"),f=0;f<c.length;f++){var y=c[f].split("=");if(1<y.length){var w=y[0];y=y[1];var C=w.split("_");l=2<=C.length&&"type"==C[1]?l+(w+"=")+y+"&":l+(w+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function YV(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function QV(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=_W(n,t),r==oS){4==e&&(n.o=4,Ys(14),i=!1),Z_(n.j,n.m,null,"[Incomplete Response]");break}if(r==nO){n.o=4,Ys(15),Z_(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Z_(n.j,n.m,r,null),rO(n,r)}YV(n)&&r!=oS&&r!=nO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ys(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),gO(e),e.L=!0,Ys(11))):(Z_(n.j,n.m,t,"[Invalid Chunked Response]"),Gp(n),Hb(n))}function _W(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?oS:(t=Number(e.substring(t,i)),isNaN(t)?nO:(i+=1)+t>e.length?oS:(e=e.substr(i,t),n.C=i+t,e))}function jb(n){n.Y=Date.now()+n.P,JV(n,n.P)}function JV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ub(Zr(n.eb,n),e)}function aS(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function Hb(n){0==n.l.G||n.I||CB(n.l,n)}function Gp(n){aS(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,YR(n.W),BV(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function rO(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||aO(t.i,n)))if(t.I=n.N,!n.J&&aO(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ub(Zr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;_S(t),gS(t)}pO(t),Ys(18)}if(1>=aB(t.i)&&t.ka){try{t.ka()}catch(y){}t.ka=void 0}}else Wp(t,11)}else if((n.J||t.g==n)&&_S(t),!YD(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const w=y[3];null!=w&&(t.ma=w,t.h.info("VER="+t.ma));const C=y[4];null!=C&&(t.za=C,t.h.info("SVER="+t.za));const S=y[5];null!=S&&"number"==typeof S&&0<S&&(t.K=i=1.5*S,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const k=n.g;if(k){const R=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var s=i.i;!s.g&&(Zs(R,"spdy")||Zs(R,"quic")||Zs(R,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(lO(s,s.h),s.h=null))}if(i.D){const j=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(i.sa=j,ui(i.F,i.D,j))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var l=n;if((i=t).oa=DB(i,i.H?i.la:null,i.W),l.J){lB(i.i,l);var c=l,f=i.K;f&&c.setTimeout(f),c.B&&(aS(c),jb(c)),i.g=l}else wB(i);0<t.l.length&&mS(t)}else"stop"!=y[0]&&"close"!=y[0]||Wp(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Wp(t,7):hO(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}Lb(4)}catch(y){}}function sO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(SR(n)||"string"==typeof n)yV(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(SR(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function yW(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(SR(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function K_(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof K_)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function oO(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];$p(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)$p(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function $p(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=Bb.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==id(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const w=id(this.g);var e=this.g.Da();const C=this.g.ba();if(!(3>w)&&(3!=w||RR||this.g&&(this.h.h||this.g.ga()||mB(this.g)))){this.I||4!=w||7==e||Lb(8==e||0>=C?3:2),aS(this);var t=this.g.ba();this.N=t;t:if(YV(this)){var i=mB(this.g);n="";var r=i.length,s=4==id(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gp(this),Hb(this);var l="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==t,function fW(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.X,w,t),this.i){if(this.$&&!this.J){t:{if(this.g){var c,f=this.g;if((c=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!YD(c)){var y=c;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Ys(12),Gp(this),Hb(this);break e}Z_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rO(this,t)}this.U?(QV(this,w,l),RR&&this.i&&3==w&&(VV(this.V,this.W,"tick",this.fb),this.W.start())):(Z_(this.j,this.m,l,null),rO(this,l)),4==w&&Gp(this),this.i&&!this.I&&(4==w?CB(this.l,this):(this.i=!1,jb(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ys(12)):(this.o=0,Ys(13)),Gp(this),Hb(this)}}}catch(w){}},ct.fb=function(){if(this.g){var n=id(this.g),e=this.g.ga();this.C<e.length&&(aS(this),QV(this,n,e),this.i&&4!=n&&jb(this))}},ct.cancel=function(){this.I=!0,Gp(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function pW(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Lb(3),Ys(17)),Gp(this),this.o=2,Hb(this)):JV(this,this.Y-n)},(ct=K_.prototype).R=function(){oO(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return oO(this),this.g.concat()},ct.get=function(n,e){return $p(this.h,n)?this.h[n]:e},ct.set=function(n,e){$p(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var XV=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qp(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof qp){this.g=void 0!==e?e:n.g,lS(this,n.j),this.s=n.s,uS(this,n.i),cS(this,n.m),this.l=n.l,e=n.h;var t=new $b;t.i=e.i,e.g&&(t.g=new K_(e.g),t.h=e.h),eB(this,t),this.o=n.o}else n&&(t=String(n).match(XV))?(this.g=!!e,lS(this,t[1]||"",!0),this.s=zb(t[2]||""),uS(this,t[3]||"",!0),cS(this,t[4]),this.l=zb(t[5]||"",!0),eB(this,t[6]||"",!0),this.o=zb(t[7]||"")):(this.g=!!e,this.h=new $b(null,this.g))}function nd(n){return new qp(n)}function lS(n,e,t){n.j=t?zb(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function uS(n,e,t){n.i=t?zb(e,!0):e}function cS(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function eB(n,e,t){e instanceof $b?(n.h=e,function SW(n,e){e&&!n.j&&(Eh(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(nB(this,i),rB(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Gb(e,IW)),n.h=new $b(e,n.g))}function ui(n,e,t){n.h.set(e,t)}function dS(n){return ui(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zb(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gb(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,EW),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function EW(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gb(e,tB,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gb(e,tB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gb(t,"/"==t.charAt(0)?TW:CW,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gb(t,DW)),n.join("")};var tB=/[#\/\?@]/g,CW=/[#\?:]/g,TW=/[#\?]/g,IW=/[#\?@]/g,DW=/#/g;function $b(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Eh(n){n.g||(n.g=new K_,n.h=0,n.i&&function vW(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nB(n,e){Eh(n),e=Y_(n,e),$p(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,$p((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&oO(n)))}function iB(n,e){return Eh(n),e=Y_(n,e),$p(n.g.h,e)}function rB(n,e,t){nB(n,e),0<t.length&&(n.i=null,n.g.set(Y_(n,e),xR(t)),n.h+=t.length)}function Y_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function sB(n){this.l=n||xW,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ea&&Bt.g.Ea()&&Bt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=$b.prototype).add=function(n,e){Eh(this),this.i=null,n=Y_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){Eh(this),this.g.forEach(function(t,i){yV(t,function(r){n.call(e,r,i,this)},this)},this)},ct.T=function(){Eh(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},ct.R=function(n){Eh(this);var e=[];if("string"==typeof n)iB(this,n)&&(e=vV(e,this.g.get(Y_(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=vV(e,n[t])}return e},ct.set=function(n,e){return Eh(this),this.i=null,iB(this,n=Y_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var l=r;""!==i[s]&&(l+="="+encodeURIComponent(String(i[s]))),n.push(l)}}return this.i=n.join("&")};var xW=10;function oB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aB(n){return n.h?1:n.g?n.g.size:0}function aO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function lO(n,e){n.g?n.g.add(e):n.h=e}function lB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function uB(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return xR(n.i)}function uO(){}function MW(){this.g=new uO}function kW(n,e,t){const i=t||"";try{sO(n,function(r,s){let l=r;Rb(r)&&(l=qR(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function hS(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function qb(n){this.l=n.$b||null,this.j=n.ib||!1}function fS(n,e){xr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=cO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sB.prototype.cancel=function(){if(this.i=uB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},uO.prototype.stringify=function(n){return Bt.JSON.stringify(n,void 0)},uO.prototype.parse=function(n){return Bt.JSON.parse(n,void 0)},Kr(qb,JR),qb.prototype.g=function(){return new fS(this.l,this.j)},qb.prototype.i=function(n){return function(){return n}}({}),Kr(fS,xr);var cO=0;function cB(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Wb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Zb(n)}function Zb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=fS.prototype).open=function(n,e){if(this.readyState!=cO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Zb(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wb(this)),this.readyState=cO},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Zb(this)),this.g&&(this.readyState=3,Zb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Bt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cB(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wb(this):Zb(this),3==this.readyState&&cB(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,Wb(this))},ct.Ta=function(n){this.g&&(this.response=n,Wb(this))},ct.ha=function(){this.g&&Wb(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var RW=Bt.JSON.parse;function Qi(n){xr.call(this),this.headers=new K_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dB,this.K=this.L=!1}Kr(Qi,xr);var dB="",OW=/^https?$/i,NW=["POST","PUT"];function LW(n){return"content-type"==n.toLowerCase()}function hB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fB(n),pS(n)}function fB(n){n.D||(n.D=!0,Yr(n,"complete"),Yr(n,"error"))}function pB(n){if(n.h&&void 0!==DR&&(!n.C[1]||4!=id(n)||2!=n.ba()))if(n.v&&4==id(n))QR(n.Fa,0,n);else if(Yr(n,"readystatechange"),4==id(n)){n.h=!1;try{const c=n.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===c){var r=String(n.H).match(XV)[1]||null;if(!r&&Bt.self&&Bt.self.location){var s=Bt.self.location.protocol;r=s.substr(0,s.length-1)}i=!OW.test(r?r.toLowerCase():"")}t=i}if(t)Yr(n,"complete"),Yr(n,"success");else{n.m=6;try{var l=2<id(n)?n.g.statusText:""}catch(f){l=""}n.j=l+" ["+n.ba()+"]",fB(n)}}finally{pS(n)}}}function pS(n,e){if(n.g){gB(n);const t=n.g,i=n.C[0]?ZD:null;n.g=null,n.C=null,e||Yr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function gB(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function id(n){return n.g?n.g.readyState:0}function mB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case dB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function dO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function UW(n){let e="";return kR(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ui(n,e,t))}function Kb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _B(n){this.za=0,this.l=[],this.h=new nS,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kb("baseRetryDelayMs",5e3,n),this.$a=Kb("retryDelaySeedMs",1e4,n),this.Ya=Kb("forwardChannelMaxRetries",2,n),this.ra=Kb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new sB(n&&n.concurrentRequestLimit),this.Ca=new MW,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function hO(n){if(yB(n),3==n.G){var e=n.V++,t=nd(n.F);ui(t,"SID",n.J),ui(t,"RID",e),ui(t,"TYPE","terminate"),Yb(n,t),(e=new Bb(n,n.h,e,void 0)).K=2,e.v=dS(nd(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(t=Bt.navigator.sendBeacon(e.v.toString(),"")),!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=SB(e.l,null),e.g.ea(e.v)),e.F=Date.now(),jb(e)}IB(n)}function gS(n){n.g&&(gO(n),n.g.cancel(),n.g=null)}function yB(n){gS(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),_S(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function fO(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&mS(n)}function mS(n){oB(n.i)||n.m||(n.m=!0,WR(n.Ha,n),n.C=0)}function vB(n,e){var t;t=e?e.m:n.V++;const i=nd(n.F);ui(i,"SID",n.J),ui(i,"RID",t),ui(i,"AID",n.U),Yb(n,i),n.o&&n.s&&dO(i,n.o,n.s),t=new Bb(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=bB(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),lO(n.i,t),iO(t,i,e)}function Yb(n,e){n.j&&sO({},function(t,i){ui(e,i,t)})}function bB(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Zr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let c=!0;for(let f=0;f<t;f++){let y=r[f].h;const w=r[f].g;if(y-=s,0>y)s=Math.max(0,r[f].h-100),c=!1;else try{kW(w,l,"req"+y+"_")}catch(C){i&&i(w)}}if(c){i=l.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function wB(n){n.g||n.u||(n.Y=1,WR(n.Ga,n),n.A=0)}function pO(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ub(Zr(n.Ga,n),TB(n,n.A)),n.A++,0))}function gO(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function EB(n){n.g=new Bb(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=nd(n.oa);ui(e,"RID","rpc"),ui(e,"SID",n.J),ui(e,"CI",n.N?"0":"1"),ui(e,"AID",n.U),Yb(n,e),ui(e,"TYPE","xmlhttp"),n.o&&n.s&&dO(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=dS(nd(e)),t.s=null,t.U=!0,KV(t,n)}function _S(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function CB(n,e){var t=null;if(n.g==e){_S(n),gO(n),n.g=null;var i=2}else{if(!aO(n.i,e))return;t=e.D,lB(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Yr(i=iS(),new GV(i,t,e,r)),mS(n)}else wB(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function VW(n,e){return!(aB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ub(Zr(n.Ha,n,e),TB(n,n.C)),n.C++,0)))}(n,e)||2==i&&pO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Wp(n,5);break;case 4:Wp(n,10);break;case 3:Wp(n,6);break;default:Wp(n,2)}}function TB(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Wp(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Zr(n.jb,n);t||(t=new qp("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||lS(t,"https"),dS(t)),function PW(n,e){const t=new nS;if(Bt.Image){const i=new Image;i.onload=KD(hS,t,i,"TestLoadImage: loaded",!0,e),i.onerror=KD(hS,t,i,"TestLoadImage: error",!1,e),i.onabort=KD(hS,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=KD(hS,t,i,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ys(2);n.G=0,n.j&&n.j.va(e),IB(n),yB(n)}function IB(n){n.G=0,n.I=-1,n.j&&((0!=uB(n.i).length||0!=n.l.length)&&(n.i.i.length=0,xR(n.l),n.l.length=0),n.j.ua())}function DB(n,e,t){let i=function bW(n){return n instanceof qp?nd(n):new qp(n,void 0)}(t);if(""!=i.i)e&&uS(i,e+"."+i.i),cS(i,i.m);else{const r=Bt.location;i=function wW(n,e,t,i){var r=new qp(null,void 0);return n&&lS(r,n),e&&uS(r,e),t&&cS(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&kR(n.aa,function(r,s){ui(i,s,r)}),t=n.sa,(e=n.D)&&t&&ui(i,e,t),ui(i,"VER",n.ma),Yb(n,i),i}function SB(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qi(t&&n.Ba&&!n.qa?new qb({ib:!0}):n.qa)).L=n.H,e}function AB(){}function yS(){if(W_&&!(10<=Number(Jq)))throw Error("Environmental error: no available transport.")}function wa(n,e){xr.call(this),this.g=new _B(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!YD(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!YD(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Q_(this)}function xB(n){XR.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function MB(){eO.call(this),this.status=1}function Q_(n){this.g=n}(ct=Qi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tO.g(),this.C=function qV(n){return n.h||(n.h=n.i())}(this.u?this.u:tO),this.g.onreadystatechange=Zr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void hB(this,s)}n=t||"";const r=new K_(this.headers);i&&sO(i,function(s,l){r.set(l,s)}),i=function qq(n){e:{var e=LW;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Bt.FormData&&n instanceof Bt.FormData,!(0<=_V(NW,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,l){this.g.setRequestHeader(l,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gB(this),0<this.B&&((this.K=function FW(n){return W_&&function Qq(){return function Wq(n){var e=Yq;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=bV(String(QD)).split("."),t=bV("9").split("."),i=Math.max(e.length,t.length);for(let l=0;0==n&&l<i;l++){var r=e[l]||"",s=t[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=MR(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||MR(0==r[2].length,0==s[2].length)||MR(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zr(this.pa,this)):this.A=QR(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){hB(this,s)}},ct.pa=function(){void 0!==DR&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yr(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yr(this,"complete"),Yr(this,"abort"),pS(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pS(this,!0)),Qi.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?pB(this):this.cb())},ct.cb=function(){pB(this)},ct.ba=function(){try{return 2<id(this)?this.g.status:-1}catch(n){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),RW(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=_B.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Bb(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=CV(s),IV(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bB(this,r,e),ui(t=nd(this.F),"RID",n),ui(t,"CVER",22),this.D&&ui(t,"X-HTTP-Session-Id",this.D),Yb(this,t),this.o&&s&&dO(t,this.o,s),lO(this.i,r),this.Ra&&ui(t,"TYPE","init"),this.ja?(ui(t,"$req",e),ui(t,"SID","null"),r.$=!0,iO(r,t,null)):iO(r,t,e),this.G=2}}else 3==this.G&&(n?vB(this,n):0==this.l.length||oB(this.i)||vB(this))},ct.Ga=function(){if(this.u=null,EB(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ub(Zr(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ys(10),gS(this),EB(this))},ct.ab=function(){null!=this.v&&(this.v=null,gS(this),pO(this),Ys(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ys(2)):(this.h.info("Failed to ping google.com"),Ys(1))},(ct=AB.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},yS.prototype.g=function(n,e){return new wa(n,e)},Kr(wa,xr),wa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),WR(Zr(n.hb,n,e))),Ys(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=DB(n,null,n.W),mS(n)},wa.prototype.close=function(){hO(this.g)},wa.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,fO(this.g,e)}else this.v?((e={}).__data__=qR(n),fO(this.g,e)):fO(this.g,n)},wa.prototype.M=function(){this.g.j=null,delete this.j,hO(this.g),delete this.g,wa.Z.M.call(this)},Kr(xB,XR),Kr(MB,eO),Kr(Q_,AB),Q_.prototype.xa=function(){Yr(this.g,"a")},Q_.prototype.wa=function(n){Yr(this.g,new xB(n))},Q_.prototype.va=function(n){Yr(this.g,new MB(n))},Q_.prototype.ua=function(){Yr(this.g,"b")},yS.prototype.createWebChannel=yS.prototype.g,wa.prototype.send=wa.prototype.u,wa.prototype.open=wa.prototype.m,wa.prototype.close=wa.prototype.close,rS.NO_ERROR=0,rS.TIMEOUT=8,rS.HTTP_ERROR=6,$V.COMPLETE="complete",WV.EventType=Vb,Vb.OPEN="a",Vb.CLOSE="b",Vb.ERROR="c",Vb.MESSAGE="d",xr.prototype.listen=xr.prototype.N,Qi.prototype.listenOnce=Qi.prototype.O,Qi.prototype.getLastError=Qi.prototype.La,Qi.prototype.getLastErrorCode=Qi.prototype.Da,Qi.prototype.getStatus=Qi.prototype.ba,Qi.prototype.getResponseJson=Qi.prototype.Qa,Qi.prototype.getResponseText=Qi.prototype.ga,Qi.prototype.send=Qi.prototype.ea;var BW=td.createWebChannelTransport=function(){return new yS},jW=td.getStatEventTarget=function(){return iS()},mO=td.ErrorCode=rS,HW=td.EventType=$V,zW=td.Event=zp,kB=td.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GW=td.FetchXmlHttpFactory=qb,vS=td.WebChannel=WV,$W=td.XhrIo=Qi;const PB="@firebase/firestore";class Qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let J_="9.8.0";const Ch=new zl.Yd("@firebase/firestore");function _O(){return Ch.logLevel}function ze(n,...e){if(Ch.logLevel<=zl.in.DEBUG){const t=e.map(yO);Ch.debug(`Firestore (${J_}): ${n}`,...t)}}function Ji(n,...e){if(Ch.logLevel<=zl.in.ERROR){const t=e.map(yO);Ch.error(`Firestore (${J_}): ${n}`,...t)}}function Qb(n,...e){if(Ch.logLevel<=zl.in.WARN){const t=e.map(yO);Ch.warn(`Firestore (${J_}): ${n}`,...t)}}function yO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${J_}) INTERNAL ASSERTION FAILED: `+n;throw Ji(e),new Error(e)}function Ut(n,e){n||ft()}function tt(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends L.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class RB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qr.UNAUTHENTICATED))}shutdown(){}}class KW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YW{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let l=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mr,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const y=l;e.enqueueRetryable((0,$.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},f=y=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(y=>f(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut("string"==typeof i.accessToken),new RB(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new Qr(e)}}class QW{constructor(e,t,i){this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class JW{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new QW(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XW{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.p;return this.p=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut("string"==typeof t.token),this.p=t.token,new OB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ea{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function e9(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}Ea.A=-1;class NB{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=e9(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function qt(n,e){return n<e?-1:n>e?1:0}function X_(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function FB(n){return n+"\0"}class ji{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ji.fromMillis(Date.now())}static fromDate(e){return ji.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ji(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new ji(0,0))}static max(){return new Rt(new ji(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function LB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Jb{constructor(e,t,i){void 0===t?t=0:t>e.length&&ft(),void 0===i?i=e.length-t:i>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Jb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jb?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends Jb{construct(e,t,i){return new fn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Le(_e.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const t9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Jb{construct(e,t,i){return new pr(e,t,i)}static isValidIdentifier(e){return t9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Le(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const c=e[r];if("\\"===c){if(r+1===e.length)throw new Le(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Le(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else"`"===c?(l=!l,r++):"."!==c||l?(i+=c,r++):(s(),r++)}if(s(),l)throw new Le(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(t)}static emptyPath(){return new pr([])}}class ey{constructor(e){this.fields=e,e.sort(pr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return X_(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const i9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Th(n){if(Ut(!!n),"string"==typeof n){let e=0;const t=i9.exec(n);if(Ut(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ii(n.seconds),nanos:Ii(n.nanos)}}function Ii(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Kp(n){return"string"==typeof n?gr.fromBase64String(n):gr.fromUint8Array(n)}function vO(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function VB(n){const e=n.mapValue.fields.__previous_value__;return vO(e)?VB(e):e}function Xb(n){const e=Th(n.mapValue.fields.__local_write_time__.timestampValue);return new ji(e.seconds,e.nanos)}class r9{constructor(e,t,i,r,s,l,c,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.useFetchStreams=f}}class rd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rd&&e.projectId===this.projectId&&e.database===this.database}}function ew(n){return null==n}function tw(n){return 0===n&&1/n==-1/0}function BB(n){return"number"==typeof n&&Number.isInteger(n)&&!tw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(fn.fromString(e))}static fromName(e){return new Qe(fn.fromString(e).popFirst(5))}static empty(){return new Qe(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new fn(e.slice()))}}const Ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bS={nullValue:"NULL_VALUE"};function Yp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vO(n)?4:GB(n)?9007199254740991:10:ft()}function qu(n,e){if(n===e)return!0;const t=Yp(n);if(t!==Yp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xb(n).isEqual(Xb(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Th(i.timestampValue),l=Th(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Kp(n.bytesValue).isEqual(Kp(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ii(i.geoPointValue.latitude)===Ii(r.geoPointValue.latitude)&&Ii(i.geoPointValue.longitude)===Ii(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ii(i.integerValue)===Ii(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ii(i.doubleValue),l=Ii(r.doubleValue);return s===l?tw(s)===tw(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return X_(n.arrayValue.values||[],e.arrayValue.values||[],qu);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(LB(s)!==LB(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===l[c]||!qu(s[c],l[c])))return!1;return!0}(n,e);default:return ft()}var r}function nw(n,e){return void 0!==(n.values||[]).find(t=>qu(t,e))}function Dh(n,e){if(n===e)return 0;const t=Yp(n),i=Yp(e);if(t!==i)return qt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=Ii(r.integerValue||r.doubleValue),c=Ii(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,e);case 3:return jB(n.timestampValue,e.timestampValue);case 4:return jB(Xb(n),Xb(e));case 5:return qt(n.stringValue,e.stringValue);case 6:return function(r,s){const l=Kp(r),c=Kp(s);return l.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const y=qt(l[f],c[f]);if(0!==y)return y}return qt(l.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=qt(Ii(r.latitude),Ii(s.latitude));return 0!==l?l:qt(Ii(r.longitude),Ii(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],c=s.values||[];for(let f=0;f<l.length&&f<c.length;++f){const y=Dh(l[f],c[f]);if(y)return y}return qt(l.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Ih.mapValue&&s===Ih.mapValue)return 0;if(r===Ih.mapValue)return 1;if(s===Ih.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),f=s.fields||{},y=Object.keys(f);c.sort(),y.sort();for(let w=0;w<c.length&&w<y.length;++w){const C=qt(c[w],y[w]);if(0!==C)return C;const S=Dh(l[c[w]],f[y[w]]);if(0!==S)return S}return qt(c.length,y.length)}(n.mapValue,e.mapValue);default:throw ft()}}function jB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qt(n,e);const t=Th(n),i=Th(e),r=qt(t.seconds,i.seconds);return 0!==r?r:qt(t.nanos,i.nanos)}function ty(n){return bO(n)}function bO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Th(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Kp(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=bO(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const c of r)l?l=!1:s+=",",s+=`${c}:${bO(i.fields[c])}`;return s+"}"}(n.mapValue):ft();var e}function Qp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wO(n){return!!n&&"integerValue"in n}function iw(n){return!!n&&"arrayValue"in n}function HB(n){return!!n&&"nullValue"in n}function zB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wS(n){return!!n&&"mapValue"in n}function rw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zp(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=rw(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function s9(n){return"nullValue"in n?bS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qp(rd.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function o9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qp(rd.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ih:ft()}function $B(n,e){const t=Dh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function qB(n,e){const t=Dh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Cs{constructor(e){this.value=e}static empty(){return new Cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!wS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rw(t)}setAll(e){let t=pr.emptyPath(),i={},r=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=c.popLast()}l?i[c.lastSegment()]=rw(l):r.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());wS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];wS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Zp(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Cs(rw(this.value))}}function WB(n){const e=[];return Zp(n.fields,(t,i)=>{const r=new pr([t]);if(wS(i)){const s=WB(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new ey(e)}class ei{constructor(e,t,i,r,s,l){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=l}static newInvalidDocument(e){return new ei(e,0,Rt.min(),Rt.min(),Cs.empty(),0)}static newFoundDocument(e,t,i){return new ei(e,1,t,Rt.min(),i,0)}static newNoDocument(e,t){return new ei(e,2,t,Rt.min(),Cs.empty(),0)}static newUnknownDocument(e,t){return new ei(e,3,t,Rt.min(),Cs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ES{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function EO(n){return n.fields.find(e=>2===e.kind)}function Jp(n){return n.fields.filter(e=>2!==e.kind)}ES.UNKNOWN_ID=-1;class CS{constructor(e,t){this.fieldPath=e,this.kind=t}}class sw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sw(0,$l.min())}}function ZB(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new ji(t+1,0):new ji(t,i));return new $l(r,Qe.empty(),e)}function a9(n){return new $l(n.readTime,n.key,-1)}class $l{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $l(Rt.min(),Qe.empty(),-1)}static max(){return new $l(Rt.max(),Qe.empty(),-1)}}function KB(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:qt(n.largestBatchId,e.largestBatchId))}class Hi{constructor(e,t){this.comparator=e,this.root=t||Jr.EMPTY}insert(e,t){return new Hi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new Hi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new TS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new TS(this.root,e,this.comparator,!1)}getReverseIterator(){return new TS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new TS(this.root,e,this.comparator,!0)}}class TS{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:Jr.RED,this.left=null!=r?r:Jr.EMPTY,this.right=null!=s?s:Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Jr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Jr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Jr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(e){this.comparator=e,this.data=new Hi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YB(this.data.getIterator())}getIteratorFrom(e){return new YB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zn(this.comparator);return t.data=e,t}}class YB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ny(n){return n.hasNext()?n.getNext():void 0}class l9{constructor(e,t=null,i=[],r=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=c,this.P=null}}function QB(n,e=null,t=[],i=[],r=null,s=null,l=null){return new l9(n,e,t,i,r,s,l)}function Xp(n){const e=tt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+ty(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),ew(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ty(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ty(i)).join(",")),e.P=t}return e.P}function ow(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!_9(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!qu(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!n3(n.startAt,e.startAt)&&n3(n.endAt,e.endAt)}function IS(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function DS(n,e){return n.filters.filter(t=>t instanceof Xr&&t.field.isEqual(e))}function JB(n,e,t){let i=bS,r=!0;for(const s of DS(n,e)){let l=bS,c=!0;switch(s.op){case"<":case"<=":l=s9(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,c=!1;break;case"!=":case"not-in":l=bS}$B({value:i,inclusive:r},{value:l,inclusive:c})<0&&(i=l,r=c)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];$B({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function XB(n,e,t){let i=Ih,r=!0;for(const s of DS(n,e)){let l=Ih,c=!0;switch(s.op){case">=":case">":l=o9(s.value),c=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,c=!1;break;case"!=":case"not-in":l=Ih}qB({value:i,inclusive:r},{value:l,inclusive:c})>0&&(i=l,r=c)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];qB({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class Xr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new c9(e,t,i):"array-contains"===t?new f9(e,i):"in"===t?new p9(e,i):"not-in"===t?new g9(e,i):"array-contains-any"===t?new m9(e,i):new Xr(e,t,i)}static V(e,t,i){return"in"===t?new d9(e,i):new h9(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Dh(t,this.value)):null!==t&&Yp(this.value)===Yp(t)&&this.v(Dh(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class c9 extends Xr{constructor(e,t,i){super(e,t,i),this.key=Qe.fromName(i.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.v(t)}}class d9 extends Xr{constructor(e,t){super(e,"in",t),this.keys=e3(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class h9 extends Xr{constructor(e,t){super(e,"not-in",t),this.keys=e3(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function e3(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class f9 extends Xr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iw(t)&&nw(t.arrayValue,this.value)}}class p9 extends Xr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nw(this.value.arrayValue,t)}}class g9 extends Xr{constructor(e,t){super(e,"not-in",t)}matches(e){if(nw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nw(this.value.arrayValue,t)}}class m9 extends Xr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>nw(this.value.arrayValue,i))}}class Sh{constructor(e,t){this.position=e,this.inclusive=t}}class iy{constructor(e,t="asc"){this.field=e,this.dir=t}}function _9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function t3(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?Qe.comparator(Qe.fromName(l.referenceValue),t.key):Dh(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function n3(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qu(n.position[t],e.position[t]))return!1;return!0}class sd{constructor(e,t=null,i=[],r=[],s=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.D=null,this.C=null}}function r3(n,e,t,i,r,s,l,c){return new sd(n,e,t,i,r,s,l,c)}function ry(n){return new sd(n)}function CO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function TO(n){for(const e of n.filters)if(e.S())return e.field;return null}function IO(n){return null!==n.collectionGroup}function sy(n){const e=tt(n);if(null===e.D){e.D=[];const t=TO(e),i=CO(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new iy(t)),e.D.push(new iy(pr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new iy(pr.keyField(),s))}}}return e.D}function nl(n){const e=tt(n);if(!e.C)if("F"===e.limitType)e.C=QB(e.path,e.collectionGroup,sy(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of sy(e))t.push(new iy(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Sh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Sh(e.startAt.position,e.startAt.inclusive):null;e.C=QB(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function s3(n,e,t){return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function aw(n,e){return ow(nl(n),nl(e))&&n.limitType===e.limitType}function o3(n){return`${Xp(nl(n))}|lt:${n.limitType}`}function DO(n){return`Query(target=${function u9(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${ty(i.value)}`;var i}).join(", ")}]`),ew(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ty(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ty(t)).join(",")),`Target(${e})`}(nl(n))}; limitType=${n.limitType})`}function SO(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Qe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const c=t3(r,s,l);return r.inclusive?c<=0:c<0}(t.startAt,sy(t),i)||t.endAt&&!function(r,s,l){const c=t3(r,s,l);return r.inclusive?c>=0:c>0}(t.endAt,sy(t),i)));var t,i}function a3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function l3(n){return(e,t)=>{let i=!1;for(const r of sy(n)){const s=v9(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function v9(n,e,t){const i=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(r,s,l){const c=s.data.field(r),f=l.data.field(r);return null!==c&&null!==f?Dh(c,f):ft()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ft()}}function u3(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tw(e)?"-0":e}}function c3(n){return{integerValue:""+n}}function d3(n,e){return BB(e)?c3(e):u3(n,e)}class SS{constructor(){this._=void 0}}function b9(n,e,t){return n instanceof oy?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof eg?f3(n,e):n instanceof tg?p3(n,e):function(i,r){const s=h3(i,r),l=g3(s)+g3(i.k);return wO(s)&&wO(i.k)?c3(l):u3(i.M,l)}(n,e)}function w9(n,e,t){return n instanceof eg?f3(n,e):n instanceof tg?p3(n,e):t}function h3(n,e){return n instanceof ay?wO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class oy extends SS{}class eg extends SS{constructor(e){super(),this.elements=e}}function f3(n,e){const t=m3(e);for(const i of n.elements)t.some(r=>qu(r,i))||t.push(i);return{arrayValue:{values:t}}}class tg extends SS{constructor(e){super(),this.elements=e}}function p3(n,e){let t=m3(e);for(const i of n.elements)t=t.filter(r=>!qu(r,i));return{arrayValue:{values:t}}}class ay extends SS{constructor(e,t){super(),this.M=e,this.k=t}}function g3(n){return Ii(n.integerValue||n.doubleValue)}function m3(n){return iw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lw{constructor(e,t){this.field=e,this.transform=t}}class C9{constructor(e,t){this.version=e,this.transformResults=t}}class Xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function AS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xS{}function T9(n,e,t){n instanceof uw?function(i,r,s){const l=i.value.clone(),c=b3(i.fieldTransforms,r,s.transformResults);l.setAll(c),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof ng?function(i,r,s){if(!AS(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=b3(i.fieldTransforms,r,s.transformResults),c=r.data;c.setAll(v3(i)),c.setAll(l),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function AO(n,e,t){var r;n instanceof uw?function(i,r,s){if(!AS(i.precondition,r))return;const l=i.value.clone(),c=w3(i.fieldTransforms,s,r);l.setAll(c),r.convertToFoundDocument(y3(r),l).setHasLocalMutations()}(n,e,t):n instanceof ng?function(i,r,s){if(!AS(i.precondition,r))return;const l=w3(i.fieldTransforms,s,r),c=r.data;c.setAll(v3(i)),c.setAll(l),r.convertToFoundDocument(y3(r),c).setHasLocalMutations()}(n,e,t):AS(n.precondition,r=e)&&r.convertToNoDocument(Rt.min())}function I9(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=h3(i.transform,r||null);null!=s&&(null==t&&(t=Cs.empty()),t.set(i.field,s))}return t||null}function _3(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&X_(t,i,(r,s)=>function E9(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof eg&&i instanceof eg||t instanceof tg&&i instanceof tg?X_(t.elements,i.elements,qu):t instanceof ay&&i instanceof ay?qu(t.k,i.k):t instanceof oy&&i instanceof oy);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function y3(n){return n.isFoundDocument()?n.version:Rt.min()}class uw extends xS{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class ng extends xS{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function v3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function b3(n,e,t){const i=new Map;Ut(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,c=e.data.field(s.field);i.set(s.field,w9(l,c,t[r]))}return i}function w3(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,b9(s,l,e))}return i}class cw extends xS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class xO extends xS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class D9{constructor(e){this.count=e}}var er,pn;function E3(n){switch(n){default:return ft();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function C3(n){if(void 0===n)return Ji("GRPC error has no .code"),_e.UNKNOWN;switch(n){case er.OK:return _e.OK;case er.CANCELLED:return _e.CANCELLED;case er.UNKNOWN:return _e.UNKNOWN;case er.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case er.INTERNAL:return _e.INTERNAL;case er.UNAVAILABLE:return _e.UNAVAILABLE;case er.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case er.NOT_FOUND:return _e.NOT_FOUND;case er.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case er.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case er.ABORTED:return _e.ABORTED;case er.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case er.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case er.DATA_LOSS:return _e.DATA_LOSS;default:return ft()}}(pn=er||(er={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";class Ah{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zp(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return UB(this.inner)}size(){return this.innerSize}}const S9=new Hi(Qe.comparator);function il(){return S9}const A9=new Hi(Qe.comparator);function MO(...n){let e=A9;for(const t of n)e=e.insert(t.key,t);return e}function dw(){return new Ah(n=>n.toString(),(n,e)=>n.isEqual(e))}const x9=new Hi(Qe.comparator),M9=new Zn(Qe.comparator);function Dn(...n){let e=M9;for(const t of n)e=e.add(t);return e}const k9=new Zn(qt);function MS(){return k9}class hw{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,fw.createSynthesizedTargetChangeForCurrentChange(e,t)),new hw(Rt.min(),i,MS(),il(),Dn())}}class fw{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new fw(gr.EMPTY_BYTE_STRING,t,Dn(),Dn(),Dn())}}class kS{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class T3{constructor(e,t){this.targetId=e,this.$=t}}class I3{constructor(e,t,i=gr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class D3{constructor(){this.B=0,this.L=A3(),this.U=gr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Dn(),t=Dn(),i=Dn();return this.L.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ft()}}),new fw(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=A3()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class P9{constructor(e){this.nt=e,this.st=new Map,this.it=il(),this.rt=S3(),this.ot=new Zn(qt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const s=r.target;if(IS(s))if(0===i){const l=new Qe(s.path);this.ct(t,l,ei.newNoDocument(l,Rt.min()))}else Ut(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,l)=>{const c=this.wt(l);if(c){if(s.current&&IS(c.target)){const f=new Qe(c.target.path);null!==this.it.get(f)||this.It(l,f)||this.ct(l,f,ei.newNoDocument(f,e))}s.j&&(t.set(l,s.H()),s.J())}});let i=Dn();this.rt.forEach((s,l)=>{let c=!0;l.forEachWhile(f=>{const y=this.wt(f);return!y||2===y.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.it.forEach((s,l)=>l.setReadTime(e));const r=new hw(e,t,this.ot,this.it,i);return this.it=il(),this.rt=S3(),this.ot=new Zn(qt),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new D3,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Zn(qt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new D3),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function S3(){return new Hi(Qe.comparator)}function A3(){return new Hi(Qe.comparator)}const R9={asc:"ASCENDING",desc:"DESCENDING"},O9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class N9{constructor(e,t){this.databaseId=e,this.N=t}}function pw(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x3(n,e){return n.N?e.toBase64():e.toUint8Array()}function F9(n,e){return pw(n,e.toTimestamp())}function kr(n){return Ut(!!n),Rt.fromTimestamp(function(e){const t=Th(e);return new ji(t.seconds,t.nanos)}(n))}function kO(n,e){return(t=n,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function M3(n){const e=fn.fromString(n);return Ut(V3(e)),e}function gw(n,e){return kO(n.databaseId,e.path)}function Wu(n,e){const t=M3(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(P3(t))}function PO(n,e){return kO(n.databaseId,e)}function k3(n){const e=M3(n);return 4===e.length?fn.emptyPath():P3(e)}function mw(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function P3(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function R3(n,e,t){return{name:gw(n,e),fields:t.value.mapValue.fields}}function O3(n,e,t){const i=Wu(n,e.name),r=kr(e.updateTime),s=new Cs({mapValue:{fields:e.fields}}),l=ei.newFoundDocument(i,r,s);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function _w(n,e){let t;if(e instanceof uw)t={update:R3(n,e.key,e.value)};else if(e instanceof cw)t={delete:gw(n,e.key)};else if(e instanceof ng)t={update:R3(n,e.key,e.data),updateMask:$9(e.fieldMask)};else{if(!(e instanceof xO))return ft();t={verify:gw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof oy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof eg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof tg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ay)return{fieldPath:s.field.canonicalString(),increment:l.k};throw ft()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:F9(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ft()),t;var r}function RO(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Xi.updateTime(kr(r.updateTime)):void 0!==r.exists?Xi.exists(r.exists):Xi.none():Xi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,l){let c=null;"setToServerValue"in l?(Ut("REQUEST_TIME"===l.setToServerValue),c=new oy):"appendMissingElements"in l?c=new eg(l.appendMissingElements.values||[]):"removeAllFromArray"in l?c=new tg(l.removeAllFromArray.values||[]):"increment"in l?c=new ay(s,l.increment):ft();const f=pr.fromServerFormat(l.fieldPath);return new lw(f,c)}(n,r)):[];var r;if(e.update){const r=Wu(n,e.update.name),s=new Cs({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new ey((e.updateMask.fieldPaths||[]).map(y=>pr.fromServerFormat(y)));return new ng(r,s,l,t,i)}return new uw(r,s,t,i)}if(e.delete){const r=Wu(n,e.delete);return new cw(r,t)}if(e.verify){const r=Wu(n,e.verify);return new xO(r,t)}return ft()}function N3(n,e){return{documents:[PO(n,e.path)]}}function F3(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=PO(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=PO(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const y=f.map(w=>function(C){if("=="===C.op){if(zB(C.value))return{unaryFilter:{field:ly(C.field),op:"IS_NAN"}};if(HB(C.value))return{unaryFilter:{field:ly(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(zB(C.value))return{unaryFilter:{field:ly(C.field),op:"IS_NOT_NAN"}};if(HB(C.value))return{unaryFilter:{field:ly(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ly(C.field),op:H9(C.op),value:C.value}}}(w));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(y=>{return{field:ly((w=y).field),direction:j9(w.dir)};var w})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=(y=e.limit,n.N||ew(y)?y:{value:y});var y,c,f;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function L3(n){let e=k3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ut(1===i);const w=t.from[0];w.allDescendants?r=w.collectionId:e=e.child(w.collectionId)}let s=[];t.where&&(s=U3(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(w=>{return new iy(uy((C=w).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let c=null;t.limit&&(c=function(w){let C;return C="object"==typeof w?w.value:w,ew(C)?null:C}(t.limit));let f=null;var w;t.startAt&&(f=new Sh((w=t.startAt).values||[],!!w.before));let y=null;return t.endAt&&(y=function(w){return new Sh(w.values||[],!w.before)}(t.endAt)),r3(e,r,l,s,c,"F",f,y)}function U3(n){return n?void 0!==n.unaryFilter?[G9(n)]:void 0!==n.fieldFilter?[z9(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>U3(e)).reduce((e,t)=>e.concat(t)):ft():[]}function j9(n){return R9[n]}function H9(n){return O9[n]}function ly(n){return{fieldPath:n.canonicalString()}}function uy(n){return pr.fromServerFormat(n.fieldPath)}function z9(n){return Xr.create(uy(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function G9(n){switch(n.unaryFilter.op){case"IS_NAN":const e=uy(n.unaryFilter.field);return Xr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=uy(n.unaryFilter.field);return Xr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=uy(n.unaryFilter.field);return Xr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=uy(n.unaryFilter.field);return Xr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function $9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function V3(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Qs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=B3(e)),e=q9(n.get(t),e);return B3(e)}function q9(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function B3(n){return n+"\x01\x01"}function Zu(n){const e=n.length;if(Ut(e>=2),2===e)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&ft(),n.charAt(l+1)){case"\x01":const c=n.substring(s,l);let f;0===r.length?f=c:(r+=c,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:ft()}s=l+2}return new fn(i)}const j3=["userId","batchId"];function PS(n,e){return[n,Qs(e)]}function H3(n,e,t){return[n,Qs(e),t]}const W9={},Z9=["prefixPath","collectionGroup","readTime","documentId"],K9=["prefixPath","collectionGroup","documentId"],Y9=["collectionGroup","readTime","prefixPath","documentId"],Q9=["canonicalId","targetId"],J9=["targetId","path"],X9=["path","targetId"],eZ=["collectionId","parent"],tZ=["indexId","uid"],nZ=["uid","sequenceNumber"],iZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rZ=["indexId","uid","orderedDocumentKey"],sZ=["userId","collectionPath","documentId"],oZ=["userId","collectionPath","largestBatchId"],aZ=["userId","collectionGroup","largestBatchId"],z3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lZ=[...z3,"documentOverlays"],G3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uZ=[...G3,"indexConfiguration","indexState","indexEntries"],$3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,i)=>{t(e)})}static reject(e){return new be((t,i)=>{i(e)})}static waitFor(e){return new be((t,i)=>{let r=0,s=0,l=!1;e.forEach(c=>{++r,c.next(()=>{++s,l&&s===r&&t()},f=>i(f))}),l=!0,s===r&&t()})}static or(e){let t=be.resolve(!1);for(const i of e)t=t.next(r=>r?be.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}}class RS{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Mr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new yw(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=OO(i.target.error);this.At.reject(new yw(e,r))}}static open(e,t,i,r){try{return new RS(t,e.transaction(r,i))}catch(s){throw new yw(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new dZ(t)}}class ql{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===ql.Vt((0,L.z$)())&&Ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),rg(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,L.hl)())return!1;if(ql.St())return!0;const e=(0,L.z$)(),t=ql.Vt(e),i=0<t&&t<10,r=ql.Dt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,$.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new yw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const c=l.target.error;r("VersionError"===c.name?new Le(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new Le(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new yw(e,c))},s.onupgradeneeded=l=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.Pt.kt(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,$.Z)(function*(){const l="readonly"===t;let c=0;for(;;){++c;try{s.db=yield s.Nt(e);const f=RS.open(s.db,e,l?"readonly":"readwrite",i),y=r(f).next(w=>(f.bt(),w)).catch(w=>(f.abort(w),be.reject(w))).toPromise();return y.catch(()=>{}),yield f.Rt,y}catch(f){const y="FirebaseError"!==f.name&&c<3;if(ze("SimpleDb","Transaction failed with error:",f.message,"Retrying:",y),s.close(),!y)return Promise.reject(f)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cZ{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return rg(this.Ft.delete())}}class yw extends Le{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ig(n){return"IndexedDbTransactionError"===n.name}class dZ{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),rg(i)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),rg(this.store.add(e))}get(e){return rg(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),rg(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),rg(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Kt(r,(l,c)=>{s.push(c)}).next(()=>s)}{const r=this.store.getAll(i.range);return new be((s,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new be((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}Qt(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(s,l,c)=>c.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new be((i,r)=>{t.onerror=s=>{const l=OO(s.target.error);r(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(c=>{c?l.continue():i()}):i()}})}Kt(e,t){const i=[];return new be((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void r();const f=new cZ(c),y=t(c.primaryKey,c.value,f);if(y instanceof be){const w=y.catch(C=>(f.done(),be.reject(C)));i.push(w)}f.isDone?r():null===f.Lt?c.continue():c.continue(f.Lt)}}).next(()=>be.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rg(n){return new be((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=OO(i.target.error);t(r)}})}let W3=!1;function OO(n){const e=ql.Vt((0,L.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return W3||(W3=!0,setTimeout(()=>{throw i},0)),i}}return n}class Z3 extends q3{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Pr(n,e){const t=tt(n);return ql.xt(t.Ht,e)}class NO{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&T9(s,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&AO(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&AO(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&X_(this.mutations,e.mutations,(t,i)=>_3(t,i))&&X_(this.baseMutations,e.baseMutations,(t,i)=>_3(t,i))}}class FO{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ut(e.mutations.length===i.length);let r=x9;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new FO(e,t,i,r)}}class LO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xh{constructor(e,t,i,r,s=Rt.min(),l=Rt.min(),c=gr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c}withSequenceNumber(e){return new xh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class K3{constructor(e){this.Jt=e}}function Y3(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:OS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:gw(r=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:pw(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:sg(e.version)};else{if(!e.isUnknownDocument())return ft();i.unknownDocument={path:t.path.toArray(),version:sg(e.version)}}var r,s;return i}function OS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function og(n){const e=new ji(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function cy(n,e){const t=(e.baseMutations||[]).map(s=>RO(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(l.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>RO(n.Jt,s)),r=ji.fromMillis(e.localWriteTimeMs);return new NO(e.batchId,r,t,i)}function vw(n){const e=og(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?og(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var r;return void 0!==n.query.documents?(Ut(1===(r=n.query).documents.length),i=nl(ry(k3(r.documents[0])))):i=nl(L3(n.query)),new xh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,gr.fromBase64String(n.resumeToken))}function Q3(n,e){const t=sg(e.snapshotVersion),i=sg(e.lastLimboFreeSnapshotVersion);let r;r=IS(e.target)?N3(n.Jt,e.target):F3(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xp(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function UO(n){const e=L3({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?s3(e,e.limit,"L"):e}function VO(n,e){return new LO(e.largestBatchId,RO(n.Jt,e.overlayMutation))}function J3(n,e){const t=e.path.lastSegment();return[n,Qs(e.path.popLast()),t]}class fZ{getBundleMetadata(e,t){return X3(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:og(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return X3(e).put({bundleId:(i=t).id,createTime:sg(kr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return e6(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:UO(r.bundledQuery),readTime:og(r.readTime)};var r})}saveNamedQuery(e,t){return e6(e).put({name:(i=t).name,readTime:sg(kr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function X3(n){return Pr(n,"bundles")}function e6(n){return Pr(n,"namedQueries")}class BO{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new BO(e,t.uid||"")}getOverlay(e,t){return bw(e).get(J3(this.userId,t)).next(i=>i?VO(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((s,l)=>{const c=new LO(t,l);r.push(this.Xt(e,c))}),be.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Qs(l.getCollectionPath())));const s=[];return r.forEach(l=>{const c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(bw(e).Qt("collectionPathOverlayIndex",c))}),be.waitFor(s)}getOverlaysForCollection(e,t,i){const r=dw(),s=Qs(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return bw(e).qt("collectionPathOverlayIndex",l).next(c=>{for(const f of c){const y=VO(this.M,f);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=dw();let l;const c=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bw(e).Wt({index:"collectionGroupOverlayIndex",range:c},(f,y,w)=>{const C=VO(this.M,y);s.size()<r||C.largestBatchId===l?(s.set(C.getKey(),C),l=C.largestBatchId):w.done()}).next(()=>s)}Xt(e,t){return bw(e).put(function(i,r,s){const[l,c,f]=J3(r,s.mutation.key);return{userId:r,collectionPath:c,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:_w(i.Jt,s.mutation)}}(this.M,this.userId,t))}}function bw(n){return Pr(n,"documentOverlays")}class ag{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Ii(e.integerValue));else if("doubleValue"in e){const i=Ii(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),tw(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Kp(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?GB(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ft()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),Qe.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function pZ(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function t6(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=pZ(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}ag.fe=new ag;class gZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=t6(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=t6(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class mZ{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class _Z{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class ww{constructor(){this.De=new gZ,this.Ce=new mZ(this.De),this.xe=new _Z(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class lg{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new lg(this.indexId,this.documentKey,this.arrayValue,i)}}function ug(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=n6(n.arrayValue,e.arrayValue),0!==t?t:(t=n6(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function n6(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class yZ{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=EO(e);if(void 0!==t&&!this.Be(t))return!1;const i=Jp(e);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const l=i[r];if(!this.Le(this.Fe,l)||!this.Ue(this.Me[s++],l))return!1;++r}for(;r<i.length;++r){const l=i[r];if(s>=this.Me.length||!this.Ue(this.Me[s++],l))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class vZ{constructor(){this.qe=new jO}addToCollectionParentIndex(e,t){return this.qe.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve($l.min())}updateCollectionGroup(e,t,i){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class jO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Zn(fn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Zn(fn.comparator)).toArray()}}const NS=new Uint8Array(0);class bZ{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new jO,this.Ge=new Ah(i=>Xp(i),(i,r)=>ow(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:i,parent:Qs(r)};return i6(e).put(s)}return be.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[FB(t),""],!1,!0);return i6(e).qt(r).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(Zu(l.parent))}return i})}addFieldIndex(e,t){const i=FS(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=FS(e),r=LS(e),s=Ew(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Ew(e);let r=!0;const s=new Map;return be.forEach(this.Qe(t),l=>this.je(e,l).next(c=>{r&&(r=!!c),s.set(l,c)})).next(()=>{if(r){let l=Dn();const c=[];return be.forEach(s,(f,y)=>{var w;ze("IndexedDbIndexManager",`Using index ${w=f,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Ue=>`${Ue.fieldPath}:${Ue.kind}`).join(",")}`} to execute ${Xp(t)}`);const C=function(Ue,Ne){const at=EO(Ne);if(void 0===at)return null;for(const lt of DS(Ue,at.fieldPath))switch(lt.op){case"array-contains-any":return lt.value.arrayValue.values||[];case"array-contains":return[lt.value]}return null}(y,f),S=function(Ue,Ne){const at=new Map;for(const lt of Jp(Ne))for(const Ft of DS(Ue,lt.fieldPath))switch(Ft.op){case"==":case"in":at.set(lt.fieldPath.canonicalString(),Ft.value);break;case"not-in":case"!=":return at.set(lt.fieldPath.canonicalString(),Ft.value),Array.from(at.values())}return null}(y,f),k=function(Ue,Ne){const at=[];let lt=!0;for(const Ft of Jp(Ne)){const An=0===Ft.kind?JB(Ue,Ft.fieldPath,Ue.startAt):XB(Ue,Ft.fieldPath,Ue.startAt);at.push(An.value),lt&&(lt=An.inclusive)}return new Sh(at,lt)}(y,f),R=function(Ue,Ne){const at=[];let lt=!0;for(const Ft of Jp(Ne)){const An=0===Ft.kind?XB(Ue,Ft.fieldPath,Ue.endAt):JB(Ue,Ft.fieldPath,Ue.endAt);at.push(An.value),lt&&(lt=An.inclusive)}return new Sh(at,lt)}(y,f),j=this.We(f,y,k),Q=this.We(f,y,R),pe=this.ze(f,y,S),Me=this.He(f.indexId,C,j,k.inclusive,Q,R.inclusive,pe);return be.forEach(Me,Ue=>i.Gt(Ue,t.limit).next(Ne=>{Ne.forEach(at=>{const lt=Qe.fromSegments(at.documentKey);l.has(lt)||(l=l.add(lt),c.push(lt))})}))}).next(()=>c)}return be.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,i,r,s,l,c){const f=(null!=t?t.length:1)*Math.max(i.length,s.length),y=f/(null!=t?t.length:1),w=[];for(let C=0;C<f;++C){const S=t?this.Je(t[C/y]):NS,k=this.Ye(e,S,i[C%y],r),R=this.Xe(e,S,s[C%y],l),j=c.map(Q=>this.Ye(e,S,Q,!0));w.push(...this.createRange(k,R,j))}return w}Ye(e,t,i,r){const s=new lg(e,Qe.empty(),t,i);return r?s:s.ke()}Xe(e,t,i,r){const s=new lg(e,Qe.empty(),t,i);return r?s.ke():s}je(e,t){const i=new yZ(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const c of s)i.$e(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l})}getIndexType(e,t){let i=2;return be.forEach(this.Qe(t),r=>this.je(e,r).next(s=>{s?0!==i&&s.fields.length<function(l){let c=new Zn(pr.comparator),f=!1;for(const y of l.filters){const w=y;w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?f=!0:c=c.add(w.field))}for(const y of l.orderBy)y.field.isKeyField()||(c=c.add(y.field));return c.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(e,t){const i=new ww;for(const r of Jp(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const l=i.Ne(r.kind);ag.fe.Zt(s,l)}return i.Se()}Je(e){const t=new ww;return ag.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new ww;return ag.fe.Zt(Qp(this.databaseId,t),i.Ne(function(r){const s=Jp(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Se()}ze(e,t,i){if(null===i)return[];let r=[];r.push(new ww);let s=0;for(const l of Jp(e)){const c=i[s++];for(const f of r)if(this.en(t,l.fieldPath)&&iw(c))r=this.nn(r,l,c);else{const y=f.Ne(l.kind);ag.fe.Zt(c,y)}}return this.sn(r)}We(e,t,i){return this.ze(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const c of r){const f=new ww;f.seed(c.Se()),ag.fe.Zt(l,f.Ne(t.kind)),s.push(f)}return s}en(e,t){return!!e.filters.find(i=>i instanceof Xr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=FS(e),r=LS(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(s=>{const l=[];return be.forEach(s,c=>r.get([c.indexId,this.uid]).next(f=>{l.push(function(y,w){const C=w?new sw(w.sequenceNumber,new $l(og(w.readTime),new Qe(Zu(w.documentKey)),w.largestBatchId)):sw.empty(),S=y.fields.map(([k,R])=>new CS(pr.fromServerFormat(k),R));return new ES(y.indexId,y.collectionGroup,S,C)}(c,f))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:qt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=FS(e),s=LS(e);return this.rn(e).next(l=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(c=>be.forEach(c,f=>{return s.put({indexId:f.indexId,uid:this.user.uid||"",sequenceNumber:l,readTime:sg((S=i).readTime),documentKey:Qs(S.documentKey.path),largestBatchId:S.largestBatchId});var S})))}updateIndexEntries(e,t){const i=new Map;return be.forEach(t,(r,s)=>{const l=i.get(r.collectionGroup);return(l?be.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),be.forEach(c,f=>this.on(e,r,f).next(y=>{const w=this.un(s,f);return y.isEqual(w)?be.resolve():this.an(e,s,f,y,w)}))))})}cn(e,t,i,r){return Ew(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return Ew(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=Ew(e);let s=new Zn(ug);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(l,c)=>{s=s.add(new lg(i.indexId,t,c.arrayValue,c.directionalValue))}).next(()=>s)}un(e,t){let i=new Zn(ug);const r=this.Ze(t,e);if(null==r)return i;const s=EO(t);if(null!=s){const l=e.data.field(s.fieldPath);if(iw(l))for(const c of l.arrayValue.values||[])i=i.add(new lg(t.indexId,e.key,this.Je(c),r))}else i=i.add(new lg(t.indexId,e.key,NS,r));return i}an(e,t,i,r,s){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(c,f,y,w,C){const S=c.getIterator(),k=f.getIterator();let R=ny(S),j=ny(k);for(;R||j;){let Q=!1,pe=!1;if(R&&j){const Me=y(R,j);Me<0?pe=!0:Me>0&&(Q=!0)}else null!=R?pe=!0:Q=!0;Q?(w(j),j=ny(k)):pe?(C(R),R=ny(S)):(R=ny(S),j=ny(k))}}(r,s,ug,c=>{l.push(this.cn(e,t,i,c))},c=>{l.push(this.hn(e,t,i,c))}),be.waitFor(l)}rn(e){let t=1;return LS(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,c)=>ug(l,c)).filter((l,c,f)=>!c||0!==ug(l,f[c-1]));const r=[];r.push(e);for(const l of i){const c=ug(l,e),f=ug(l,t);if(0===c)r[0]=e.ke();else if(c>0&&f<0)r.push(l),r.push(l.ke());else if(f>0)break}r.push(t);const s=[];for(let l=0;l<r.length;l+=2)s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,NS,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,NS,[]]));return s}getMinOffset(e,t){let i;return be.forEach(this.Qe(t),r=>this.je(e,r).next(s=>{s?(!i||KB(s.indexState.offset,i)<0)&&(i=s.indexState.offset):i=$l.min()})).next(()=>i)}}function i6(n){return Pr(n,"collectionParents")}function Ew(n){return Pr(n,"indexEntries")}function FS(n){return Pr(n,"indexConfiguration")}function LS(n){return Pr(n,"indexState")}const r6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Fo(e,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function s6(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let c=0;const f=i.Wt({range:l},(w,C,S)=>(c++,S.delete()));s.push(f.next(()=>{Ut(1===c)}));const y=[];for(const w of t.mutations){const C=H3(e,w.key.path,t.batchId);s.push(r.delete(C)),y.push(w.key)}return be.waitFor(s).next(()=>y)}function US(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}Fo.DEFAULT_COLLECTION_PERCENTILE=10,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fo.DEFAULT=new Fo(41943040,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fo.DISABLED=new Fo(-1,0,0);class HO{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){Ut(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new HO(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mh(e).Wt({index:"userMutationsIndex",range:i},(r,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=dy(e),l=Mh(e);return l.add({}).next(c=>{Ut("number"==typeof c);const f=new NO(c,t,i,r),y=function(S,k,R){const j=R.baseMutations.map(pe=>_w(S.Jt,pe)),Q=R.mutations.map(pe=>_w(S.Jt,pe));return{userId:k,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:j,mutations:Q}}(this.M,this.userId,f),w=[];let C=new Zn((S,k)=>qt(S.canonicalString(),k.canonicalString()));for(const S of r){const k=H3(this.userId,S.key.path,c);C=C.add(S.key.path.popLast()),w.push(l.put(y)),w.push(s.put(k,W9))}return C.forEach(S=>{w.push(this.indexManager.addToCollectionParentIndex(e,S))}),e.addOnCommittedListener(()=>{this.ln[c]=f.keys()}),be.waitFor(w).next(()=>f)})}lookupMutationBatch(e,t){return Mh(e).get(t).next(i=>i?(Ut(i.userId===this.userId),cy(this.M,i)):null)}fn(e,t){return this.ln[t]?be.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Mh(e).Wt({index:"userMutationsIndex",range:r},(l,c,f)=>{c.userId===this.userId&&(Ut(c.batchId>=i),s=cy(this.M,c)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Mh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mh(e).qt("userMutationsIndex",t).next(i=>i.map(r=>cy(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=PS(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return dy(e).Wt({range:r},(l,c,f)=>{const[y,w,C]=l,S=Zu(w);if(y===this.userId&&t.path.isEqual(S))return Mh(e).get(C).next(k=>{if(!k)throw ft();Ut(k.userId===this.userId),s.push(cy(this.M,k))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zn(qt);const r=[];return t.forEach(s=>{const l=PS(this.userId,s.path),c=IDBKeyRange.lowerBound(l),f=dy(e).Wt({range:c},(y,w,C)=>{const[S,k,R]=y,j=Zu(k);S===this.userId&&s.path.isEqual(j)?i=i.add(R):C.done()});r.push(f)}),be.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=PS(this.userId,i),l=IDBKeyRange.lowerBound(s);let c=new Zn(qt);return dy(e).Wt({range:l},(f,y,w)=>{const[C,S,k]=f,R=Zu(S);C===this.userId&&i.isPrefixOf(R)?R.length===r&&(c=c.add(k)):w.done()}).next(()=>this.dn(e,c))}dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Mh(e).get(s).next(l=>{if(null===l)throw ft();Ut(l.userId===this.userId),i.push(cy(this.M,l))}))}),be.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return s6(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),be.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return be.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return dy(e).Wt({range:i},(s,l,c)=>{if(s[0]===this.userId){const f=Zu(s[1]);r.push(f)}else c.done()}).next(()=>{Ut(0===r.length)})})}containsKey(e,t){return o6(e,this.userId,t)}wn(e){return a6(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function o6(n,e,t){const i=PS(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return dy(n).Wt({range:s,jt:!0},(c,f,y)=>{const[w,C,S]=c;w===e&&C===r&&(l=!0),y.done()}).next(()=>l)}function Mh(n){return Pr(n,"mutations")}function dy(n){return Pr(n,"documentMutations")}function a6(n){return Pr(n,"mutationQueues")}class cg{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new cg(0)}static yn(){return new cg(-1)}}class wZ{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new cg(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Rt.fromTimestamp(new ji(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hy(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(Ut(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return hy(e).Wt((l,c)=>{const f=vw(c);f.sequenceNumber<=t&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(e,f)))}).next(()=>be.waitFor(s)).next(()=>r)}forEachTarget(e,t){return hy(e).Wt((i,r)=>{const s=vw(r);t(s)})}pn(e){return l6(e).get("targetGlobalKey").next(t=>(Ut(null!==t),t))}In(e,t){return l6(e).put("targetGlobalKey",t)}Tn(e,t){return hy(e).put(Q3(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Xp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return hy(e).Wt({range:r,index:"queryTargetsIndex"},(l,c,f)=>{const y=vw(c);ow(t,y.target)&&(s=y,f.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=kh(e);return t.forEach(l=>{const c=Qs(l.path);r.push(s.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(e,i,l))}),be.waitFor(r)}removeMatchingKeys(e,t,i){const r=kh(e);return be.forEach(t,s=>{const l=Qs(s.path);return be.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=kh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=kh(e);let s=Dn();return r.Wt({range:i,jt:!0},(l,c,f)=>{const y=Zu(l[1]),w=new Qe(y);s=s.add(w)}).next(()=>s)}containsKey(e,t){const i=Qs(t.path),r=IDBKeyRange.bound([i],[FB(i)],!1,!0);let s=0;return kh(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([l,c],f,y)=>{0!==l&&(s++,y.done())}).next(()=>s>0)}Et(e,t){return hy(e).get(t).next(i=>i?vw(i):null)}}function hy(n){return Pr(n,"targets")}function l6(n){return Pr(n,"targetGlobal")}function kh(n){return Pr(n,"targetDocuments")}function dg(n){return zO.apply(this,arguments)}function zO(){return zO=(0,$.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==$3)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),zO.apply(this,arguments)}function u6([n,e],[t,i]){const r=qt(n,t);return 0===r?qt(e,i):r}class EZ{constructor(e){this.An=e,this.buffer=new Zn(u6),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();u6(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CZ{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;ze("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,$.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){ig(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield dg(r)}yield t.Sn(e)}))}}class TZ{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return be.resolve(Ea.A);const i=new EZ(t);return this.Dn.forEachTarget(e,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(r6)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r6):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,s,l,c,f,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),r=this.params.maximumSequenceNumbersToCollect):r=C,l=Date.now(),this.nthSequenceNumber(e,r))).next(C=>(i=C,c=Date.now(),this.removeTargets(e,i,t))).next(C=>(s=C,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(C=>(y=Date.now(),_O()<=zl.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-w}ms\n\tDetermined least recently used ${r} in `+(c-l)+`ms\n\tRemoved ${s} targets in `+(f-c)+`ms\n\tRemoved ${C} documents in `+(y-f)+`ms\nTotal Duration: ${y-w}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:C})))}}class IZ{constructor(e,t){this.db=e,this.garbageCollector=new TZ(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return VS(e,i)}removeReference(e,t,i){return VS(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return VS(e,t)}On(e,t){return function(i,r){let s=!1;return a6(i).zt(l=>o6(i,l,r).next(c=>(c&&(s=!0),be.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Mn(e,(l,c)=>{if(c<=t){const f=this.On(e,l).next(y=>{if(!y)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,Rt.min()),kh(e).delete([0,Qs(l.path)])))});r.push(f)}}).next(()=>be.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return VS(e,t)}Mn(e,t){const i=kh(e);let r,s=Ea.A;return i.Wt({index:"documentTargetsIndex"},([l,c],{path:f,sequenceNumber:y})=>{0===l?(s!==Ea.A&&t(new Qe(Zu(r)),s),s=y,r=f):s=Ea.A}).next(()=>{s!==Ea.A&&t(new Qe(Zu(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function VS(n,e){return kh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Qs(e.path),sequenceNumber:i}));var i}class c6{constructor(){this.changes=new Ah(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?be.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class DZ{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return hg(e).put(i)}removeEntry(e,t,i){return hg(e).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],OS(s),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=ei.newInvalidDocument(t);return hg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cw(t))},(r,s)=>{i=this.$n(t,s)}).next(()=>i)}Bn(e,t){let i={size:0,document:ei.newInvalidDocument(t)};return hg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cw(t))},(r,s)=>{i={document:this.$n(t,s),size:US(s)}}).next(()=>i)}getEntries(e,t){let i=il();return this.Ln(e,t,(r,s)=>{const l=this.$n(r,s);i=i.insert(r,l)}).next(()=>i)}Un(e,t){let i=il(),r=new Hi(Qe.comparator);return this.Ln(e,t,(s,l)=>{const c=this.$n(s,l);i=i.insert(s,c),r=r.insert(s,US(l))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return be.resolve();let r=new Zn(f6);t.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(Cw(r.first()),Cw(r.last())),l=r.getIterator();let c=l.getNext();return hg(e).Wt({index:"documentKeyIndex",range:s},(f,y,w)=>{const C=Qe.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;c&&f6(c,C)<0;)i(c,null),c=l.getNext();c&&c.isEqual(C)&&(i(c,y),c=l.hasNext()?l.getNext():null),c?w.Ut(Cw(c)):w.done()}).next(()=>{for(;c;)i(c,null),c=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),OS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hg(e).qt(IDBKeyRange.bound(r,s,!0)).next(l=>{let c=il();for(const f of l){const y=this.$n(Qe.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);c=c.insert(y.key,y)}return c})}getAllFromCollectionGroup(e,t,i,r){let s=il();const l=h6(t,i),c=h6(t,$l.max());return hg(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,c,!0)},(f,y,w)=>{const C=this.$n(Qe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(C.key,C),s.size===r&&w.done()}).next(()=>s)}newChangeBuffer(e){return new SZ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return d6(e).get("remoteDocumentGlobalKey").next(t=>(Ut(!!t),t))}Fn(e,t){return d6(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function hZ(n,e){let t;if(e.document)t=O3(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Qe.fromSegments(e.noDocument.path),r=og(e.noDocument.readTime);t=ei.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const i=Qe.fromSegments(e.unknownDocument.path),r=og(e.unknownDocument.version);t=ei.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ji(i[0],i[1]);return Rt.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return ei.newInvalidDocument(e)}}class SZ extends c6{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Ah(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Zn((s,l)=>qt(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const c=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,c.readTime)),l.isValidDocument()){const f=Y3(this.Kn.M,l);r=r.add(s.path.popLast()),i+=US(f)-c.size,t.push(this.Kn.addEntry(e,s,f))}else if(i-=c.size,this.trackRemovals){const f=Y3(this.Kn.M,l.convertToNoDocument(Rt.min()));t.push(this.Kn.addEntry(e,s,f))}}),r.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,i)),be.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((s,l)=>{this.Gn.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function d6(n){return Pr(n,"remoteDocumentGlobal")}function hg(n){return Pr(n,"remoteDocumentsV14")}function Cw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function h6(n,e){const t=e.documentKey.path.toArray();return[n,OS(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function f6(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=qt(t[s],i[s]),r)return r;return r=qt(t.length,i.length),r||(r=qt(t[t.length-2],i[i.length-2]),r||qt(t[t.length-1],i[i.length-1]))}class AZ{constructor(e){this.M=e}kt(e,t,i,r){const s=new RS("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",j3,{unique:!0}),c.createObjectStore("documentMutations"),p6(e),function(c){c.createObjectStore("remoteDocuments")}(e));let l=be.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),p6(e)),l=l.next(()=>function(c){const f=c.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(c,f){return f.store("mutations").qt().next(y=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",j3,{unique:!0});const w=f.store("mutations"),C=y.map(S=>w.put(S));return be.waitFor(C)})}(e,s))),l=l.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Qn(s))),i<6&&r>=6&&(l=l.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),i<7&&r>=7&&(l=l.next(()=>this.Wn(s))),i<8&&r>=8&&(l=l.next(()=>this.zn(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.Hn(s))),i<11&&r>=11&&(l=l.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(c){const f=c.createObjectStore("documentOverlays",{keyPath:sZ});f.createIndex("collectionPathOverlayIndex",oZ,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",aZ,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(c){const f=c.createObjectStore("remoteDocumentsV14",{keyPath:Z9});f.createIndex("documentKeyIndex",K9),f.createIndex("collectionGroupIndex",Y9)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>{!function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:tZ}).createIndex("sequenceNumberIndex",nZ,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:iZ}).createIndex("documentKeyIndex",rZ,{unique:!1})}(e)})),l}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=US(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>be.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",l).next(c=>be.forEach(c,f=>{Ut(f.userId===s.userId);const y=cy(this.M,f);return s6(e,s.userId,y).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((l,c)=>{const f=new fn(l),y=[0,Qs(f)];s.push(t.get(y).next(w=>w?be.resolve():t.put({targetId:0,path:Qs(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>be.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:eZ});const i=t.store("collectionParents"),r=new jO,s=l=>{if(r.add(l)){const c=l.lastSegment(),f=l.popLast();return i.put({collectionId:c,parent:Qs(f)})}};return t.store("remoteDocuments").Wt({jt:!0},(l,c)=>{const f=new fn(l);return s(f.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([l,c,f],y)=>{const w=Zu(c);return s(w.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const s=vw(r),l=Q3(this.M,s);return t.put(l)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((s,l)=>{const c=t.store("remoteDocumentsV14"),f=(y=l,y.document?new Qe(fn.fromString(y.document.name).popFirst(5)):y.noDocument?Qe.fromSegments(y.noDocument.path):y.unknownDocument?Qe.fromSegments(y.unknownDocument.path):ft()).path.toArray();var y;const w={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(c.put(w))}).next(()=>be.waitFor(r))}}function p6(n){n.createObjectStore("targetDocuments",{keyPath:J9}).createIndex("documentTargetsIndex",X9,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Q9,{unique:!0}),n.createObjectStore("targetGlobal")}const GO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $O{constructor(e,t,i,r,s,l,c,f,y,w,C=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=s,this.window=l,this.document=c,this.Xn=y,this.Zn=w,this.ts=C,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=S=>Promise.resolve(),!$O.vt())throw new Le(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new IZ(this,r),this.hs=t+"main",this.M=new K3(f),this.ls=new ql(this.hs,this.ts,new AZ(this.M)),this.fs=new wZ(this.referenceDelegate,this.M),this.ds=new DZ(this.M),this._s=new fZ,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===w&&Ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(_e.FAILED_PRECONDITION,GO);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ea(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,$.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,$.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,$.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>BS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(ig(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Tw(e).get("owner").next(t=>be.resolve(this.Ps(t)))}Vs(e){return BS(e).delete(this.clientId)}vs(){var e=this;return(0,$.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Pr(i,"clientMetadata");return r.qt().next(s=>{const l=e.Ds(s,18e5),c=s.filter(f=>-1===l.indexOf(f));return be.forEach(c,f=>r.delete(f.clientId)).next(()=>c)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?be.resolve(!0):Tw(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Le(_e.FAILED_PRECONDITION,GO);return!1}}return!(!this.networkEnabled||!this.inForeground)||BS(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const l=!this.inForeground&&r.inForeground,c=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||l&&c)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,$.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Z3(t,Ea.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>BS(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return HO.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new bZ(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return BO.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){ze("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=14===(l=this.ts)?uZ:13===l?G3:12===l?lZ:11===l?z3:void ft();var l;let c;return this.ls.runTransaction(e,r,s,f=>(c=new Z3(f,this.es?this.es.next():Ea.A),"readwrite-primary"===t?this.Es(c).next(y=>!!y||this.As(c)).next(y=>{if(!y)throw Ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Le(_e.FAILED_PRECONDITION,$3);return i(c)}).next(y=>this.bs(c).next(()=>y)):this.$s(c).next(()=>i(c)))).then(f=>(c.raiseOnCommittedEvent(),f))}$s(e){return Tw(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(_e.FAILED_PRECONDITION,GO)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tw(e).put("owner",t)}static vt(){return ql.vt()}Rs(e){const t=Tw(e);return t.get("owner").next(i=>this.Ps(i)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):be.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ji(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,L.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return ze("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ji("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Ji("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tw(n){return Pr(n,"owner")}function BS(n){return Pr(n,"clientMetadata")}function qO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class xZ{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const s of t)s.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return Qe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):IO(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new Qe(t)).next(i=>{let r=MO();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let s=MO();return this.indexManager.getCollectionParents(e,r).next(l=>be.forEach(l,c=>{const f=(y=t,w=c.child(r),new sd(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,w;return this.zs(e,f,i).next(y=>{y.forEach((w,C)=>{s=s.insert(w,C)})})}).next(()=>s))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const l of s)for(const c of l.mutations){const f=c.key;let y=r.get(f);null==y&&(y=ei.newInvalidDocument(f),r=r.insert(f,y)),AO(c,y,l.localWriteTime),y.isFoundDocument()||(r=r.remove(f))}}).next(()=>(r.forEach((s,l)=>{SO(t,l)||(r=r.remove(s))}),r))}}class WO{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=Dn(),r=Dn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new WO(e,t.fromCache,i,r)}}class g6{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,i,r){return this.ti(e,t).next(s=>s||this.ei(e,t,r,i)).next(s=>s||this.ni(e,t))}ti(e,t){return be.resolve(null)}ei(e,t,i,r){return function y9(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Rt.min())?this.ni(e,t):this.Zs.Ks(e,i).next(s=>{const l=this.si(t,s);return this.ii(t,l,i,r)?this.ni(e,t):(_O()<=zl.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),DO(t)),this.ri(e,l,t,ZB(r,-1)))})}si(e,t){let i=new Zn(l3(e));return t.forEach((r,s)=>{SO(e,s)&&(i=i.add(s))}),i}ii(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ni(e,t){return _O()<=zl.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",DO(t)),this.Zs.Qs(e,t,$l.min())}ri(e,t,i,r){return this.Zs.Qs(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class MZ{constructor(e,t,i,r){this.persistence=e,this.oi=t,this.M=r,this.ui=new Hi(qt),this.ai=new Ah(s=>Xp(s),ow),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(i)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new xZ(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function m6(n,e,t,i){return new MZ(n,e,t,i)}function _6(n,e){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,$.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(s=>(r=s,t.li(e),t.Bs.getAllMutationBatches(i))).next(s=>{const l=[],c=[];let f=Dn();for(const y of r){l.push(y.batchId);for(const w of y.mutations)f=f.add(w.key)}for(const y of s){c.push(y.batchId);for(const w of y.mutations)f=f.add(w.key)}return t.fi.Ks(i,f).next(y=>({di:y,removedBatchIds:l,addedBatchIds:c}))})})}),ZO.apply(this,arguments)}function kZ(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.hi.newChangeBuffer({trackRemovals:!0});return function(l,c,f,y){const w=f.batch,C=w.keys();let S=be.resolve();return C.forEach(k=>{S=S.next(()=>y.getEntry(c,k)).next(R=>{const j=f.docVersions.get(k);Ut(null!==j),R.version.compareTo(j)<0&&(w.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),y.addEntry(R)))})}),S.next(()=>l.Bs.removeMutationBatch(c,w))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.fi.Ks(i,r))})}function y6(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function PZ(n,e){const t=tt(n),i=e.snapshotVersion;let r=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.hi.newChangeBuffer({trackRemovals:!0});r=t.ui;const c=[];e.targetChanges.forEach((y,w)=>{const C=r.get(w);if(!C)return;c.push(t.fs.removeMatchingKeys(s,y.removedDocuments,w).next(()=>t.fs.addMatchingKeys(s,y.addedDocuments,w)));let S=C.withSequenceNumber(s.currentSequenceNumber);var k,R,j;e.targetMismatches.has(w)?S=S.withResumeToken(gr.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),r=r.insert(w,S),R=S,j=y,(0===(k=C).resumeToken.approximateByteSize()||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0)&&c.push(t.fs.updateTargetData(s,S))});let f=il();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),c.push(v6(s,l,e.documentUpdates).next(y=>{f=y})),!i.isEqual(Rt.min())){const y=t.fs.getLastRemoteSnapshotVersion(s).next(w=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(y)}return be.waitFor(c).next(()=>l.apply(s)).next(()=>t.fi.Gs(s,f)).next(()=>f)}).then(s=>(t.ui=r,s))}function v6(n,e,t){let i=Dn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let s=il();return t.forEach((l,c)=>{const f=r.get(l);c.isNoDocument()&&c.version.isEqual(Rt.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||0===c.version.compareTo(f.version)&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):ze("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),s})}function RZ(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function fy(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(s=>s?(r=s,be.resolve(r)):t.fs.allocateTargetId(i).next(l=>(r=new xh(e,l,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ui=t.ui.insert(i.targetId,i),t.ai.set(e,i.targetId)),i})}function py(n,e,t){return KO.apply(this,arguments)}function KO(){return KO=(0,$.Z)(function*(n,e,t){const i=tt(n),r=i.ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!ig(l))throw l;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ui=i.ui.remove(e),i.ai.delete(r.target)}),KO.apply(this,arguments)}function jS(n,e,t){const i=tt(n);let r=Rt.min(),s=Dn();return i.persistence.runTransaction("Execute query","readonly",l=>function(c,f,y){const w=tt(c),C=w.ai.get(y);return void 0!==C?be.resolve(w.ui.get(C)):w.fs.getTargetData(f,y)}(i,l,nl(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(l,c.targetId).next(f=>{s=f})}).next(()=>i.oi.Qs(l,e,t?r:Rt.min(),t?s:Dn())).next(c=>(E6(i,a3(e),c),{documents:c,_i:s})))}function b6(n,e){const t=tt(n),i=tt(t.fs),r=t.ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,e).next(l=>l?l.target:null))}function w6(n,e){const t=tt(n),i=t.ci.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.hi.getAllFromCollectionGroup(r,e,ZB(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(E6(t,e,r),r))}function E6(n,e,t){let i=Rt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ci.set(e,i)}function YO(){return YO=(0,$.Z)(function*(n,e,t,i){const r=tt(n);let s=Dn(),l=il();for(const y of t){const w=e.wi(y.metadata.name);y.document&&(s=s.add(w));const C=e.mi(y);C.setReadTime(e.gi(y.metadata.readTime)),l=l.insert(w,C)}const c=r.hi.newChangeBuffer({trackRemovals:!0}),f=yield fy(r,(y=i,nl(ry(fn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>v6(y,c,l).next(w=>(c.apply(y),w)).next(w=>r.fs.removeMatchingKeysForTargetId(y,f.targetId).next(()=>r.fs.addMatchingKeys(y,s,f.targetId)).next(()=>r.fi.Gs(y,w)).next(()=>w)))}),YO.apply(this,arguments)}function NZ(n,e){return QO.apply(this,arguments)}function QO(){return QO=(0,$.Z)(function*(n,e,t=Dn()){const i=yield fy(n,nl(UO(e.bundledQuery))),r=tt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=kr(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r._s.saveNamedQuery(s,e);const c=i.withResumeToken(gr.EMPTY_BYTE_STRING,l);return r.ui=r.ui.insert(c.targetId,c),r.fs.updateTargetData(s,c).next(()=>r.fs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.fs.addMatchingKeys(s,t,i.targetId)).next(()=>r._s.saveNamedQuery(s,e))})}),QO.apply(this,arguments)}class FZ{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return be.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var i;return this.yi.set(t.id,{id:(i=t).id,version:i.version,createTime:kr(i.createTime)}),be.resolve()}getNamedQuery(e,t){return be.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(i=t).name,query:UO(i.bundledQuery),readTime:kr(i.readTime)}),be.resolve();var i}}class LZ{constructor(){this.overlays=new Hi(Qe.comparator),this.Ii=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.Xt(e,t,s)}),be.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(i)),be.resolve()}getOverlaysForCollection(e,t,i){const r=dw(),s=t.length+1,l=new Qe(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,y=f.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return be.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Hi((y,w)=>y-w);const l=this.overlays.getIterator();for(;l.hasNext();){const y=l.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=s.get(y.largestBatchId);null===w&&(w=dw(),s=s.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const c=dw(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,w)=>c.set(y,w)),!(c.size()>=r)););return be.resolve(c)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const l=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new LO(t,i));let s=this.Ii.get(t);void 0===s&&(s=Dn(),this.Ii.set(t,s)),this.Ii.set(t,s.add(i.key))}}class JO{constructor(){this.Ti=new Zn(Rr.Ei),this.Ai=new Zn(Rr.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const i=new Rr(e,t);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Pi(new Rr(e,t))}Vi(e,t){e.forEach(i=>this.removeReference(i,t))}vi(e){const t=new Qe(new fn([])),i=new Rr(t,e),r=new Rr(t,e+1),s=[];return this.Ai.forEachInRange([i,r],l=>{this.Pi(l),s.push(l.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Qe(new fn([])),i=new Rr(t,e),r=new Rr(t,e+1);let s=Dn();return this.Ai.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Rr(e,0),i=this.Ti.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Rr{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Qe.comparator(e.key,t.key)||qt(e.Ci,t.Ci)}static Ri(e,t){return qt(e.Ci,t.Ci)||Qe.comparator(e.key,t.key)}}class UZ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Zn(Rr.Ei)}checkEmpty(e){return be.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const s=this.xi;this.xi++;const l=new NO(s,t,i,r);this.Bs.push(l);for(const c of r)this.Ni=this.Ni.add(new Rr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return be.resolve(l)}lookupMutationBatch(e,t){return be.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Mi(t+1),s=r<0?0:r;return be.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return be.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rr(t,0),r=new Rr(t,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([i,r],l=>{const c=this.ki(l.Ci);s.push(c)}),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Zn(qt);return t.forEach(r=>{const s=new Rr(r,0),l=new Rr(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,l],c=>{i=i.add(c.Ci)})}),be.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Qe.isDocumentKey(s)||(s=s.child(""));const l=new Rr(new Qe(s),0);let c=new Zn(qt);return this.Ni.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(c=c.add(f.Ci)),!0)},l),be.resolve(this.Oi(c))}Oi(e){const t=[];return e.forEach(i=>{const r=this.ki(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ut(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let i=this.Ni;return be.forEach(t.mutations,r=>{const s=new Rr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Ni=i})}_n(e){}containsKey(e,t){const i=new Rr(t,0),r=this.Ni.firstAfterOrEqual(i);return be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return be.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class VZ{constructor(e){this.$i=e,this.docs=new Hi(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.$i(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return be.resolve(i?i.document.mutableCopy():ei.newInvalidDocument(t))}getEntries(e,t){let i=il();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ei.newInvalidDocument(r))}),be.resolve(i)}getAllFromCollection(e,t,i){let r=il();const s=new Qe(t.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!t.isPrefixOf(c.path))break;c.path.length>t.length+1||KB(a9(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return be.resolve(r)}getAllFromCollectionGroup(e,t,i,r){ft()}Bi(e,t){return be.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new BZ(this)}getSize(e){return be.resolve(this.size)}}class BZ extends c6{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),be.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class jZ{constructor(e){this.persistence=e,this.Li=new Ah(t=>Xp(t),ow),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new JO,this.targetCount=0,this.Ki=cg.gn()}forEachTarget(e,t){return this.Li.forEach((i,r)=>t(r)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ui&&(this.Ui=t),be.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new cg(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Tn(t),be.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Li.forEach((l,c)=>{c.sequenceNumber<=t&&null===i.get(c.targetId)&&(this.Li.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),be.waitFor(s).next(()=>r)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const i=this.Li.get(t)||null;return be.resolve(i)}addMatchingKeys(e,t,i){return this.qi.bi(t,i),be.resolve()}removeMatchingKeys(e,t,i){this.qi.Vi(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),be.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qi.Di(t);return be.resolve(i)}containsKey(e,t){return be.resolve(this.qi.containsKey(t))}}class HZ{constructor(e,t){this.Gi={},this.overlays={},this.es=new Ea(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new jZ(this),this.indexManager=new vZ,this.ds=new VZ(i=>this.referenceDelegate.Qi(i)),this.M=new K3(t),this._s=new FZ(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LZ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Gi[e.toKey()];return i||(i=new UZ(t,this.referenceDelegate),this.Gi[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){ze("MemoryPersistence","Starting transaction:",e);const r=new zZ(this.es.next());return this.referenceDelegate.ji(),i(r).next(s=>this.referenceDelegate.Wi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}zi(e,t){return be.or(Object.values(this.Gi).map(i=>()=>i.containsKey(e,t)))}}class zZ extends q3{constructor(e){super(),this.currentSequenceNumber=e}}class XO{constructor(e){this.persistence=e,this.Hi=new JO,this.Ji=null}static Yi(e){return new XO(e)}get Xi(){if(this.Ji)return this.Ji;throw ft()}addReference(e,t,i){return this.Hi.addReference(i,t),this.Xi.delete(i.toString()),be.resolve()}removeReference(e,t,i){return this.Hi.removeReference(i,t),this.Xi.add(i.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),be.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Xi,i=>{const r=Qe.fromPath(i);return this.Zi(e,r).next(s=>{s||t.removeEntry(r,Rt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(i=>{i?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return be.or([()=>be.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function C6(n,e){return`firestore_clients_${n}_${e}`}function T6(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function eN(n,e){return`firestore_targets_${n}_${e}`}class HS{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static tr(e,t,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Le(r.error.code,r.error.message))),l?new HS(e,t,r.state,s):(Ji("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Iw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static tr(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Le(i.error.code,i.error.message))),s?new Iw(e,i.state,r):(Ji("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=MS();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=BB(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new zS(e,s):(Ji("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class tN{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new tN(t.clientId,t.onlineState):(Ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class nN{constructor(){this.activeTargetIds=MS()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iN{constructor(e,t,i,r,s){this.window=e,this.Yn=t,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Hi(qt),this.started=!1,this.cr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.hr=C6(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new nN),this.dr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,$.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.ir)continue;const s=e.getItem(C6(e.persistenceKey,r));if(s){const l=zS.tr(r,s);l&&(e.ar=e.ar.insert(l.clientId,l))}}e.yr();const i=e.storage.getItem(e.mr);if(i){const r=e.pr(i);r&&e.Ir(r)}for(const r of e.cr)e.ur(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,i){this.Er(e,t,i),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(eN(this.persistenceKey,e));if(i){const r=Iw.tr(e,i);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(eN(this.persistenceKey,e))}updateQueryState(e,t,i){this.br(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ar(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ze("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void Ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,$.Z)(function*(){if(t.started){if(null!==i.key)if(t.dr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Sr(r,null)}{const r=t.Dr(i.key,i.newValue);if(r)return t.Sr(r.clientId,r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(t.wr.test(i.key)){if(null!==i.newValue){const r=t.kr(i.key,i.newValue);if(r)return t.Mr(r)}}else if(i.key===t.mr){if(null!==i.newValue){const r=t.pr(i.newValue);if(r)return t.Ir(r)}}else if(i.key===t.lr){const r=function(s){let l=Ea.A;if(null!=s)try{const c=JSON.parse(s);Ut("number"==typeof c),l=c}catch(c){Ji("SharedClientState","Failed to read sequence number from WebStorage",c)}return l}(i.newValue);r!==Ea.A&&t.sequenceNumberHandler(r)}else if(i.key===t.gr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Fr(s)))}}else t.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,i){const r=new HS(this.currentUser,e,t,i),s=T6(this.persistenceKey,this.currentUser,e);this.setItem(s,r.er())}Ar(e){const t=T6(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,i){const r=eN(this.persistenceKey,e),s=new Iw(e,t,i);this.setItem(r,s.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const i=this.vr(e);return zS.tr(i,t)}Cr(e,t){const i=this._r.exec(e),r=Number(i[1]);return HS.tr(new Qr(void 0!==i[2]?i[2]:null),r,t)}kr(e,t){const i=this.wr.exec(e),r=Number(i[1]);return Iw.tr(r,t)}pr(e){return tN.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,$.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const i=t?this.ar.insert(e,t):this.ar.remove(e),r=this.Tr(this.ar),s=this.Tr(i),l=[],c=[];return s.forEach(f=>{r.has(f)||l.push(f)}),r.forEach(f=>{s.has(f)||c.push(f)}),this.syncEngine.Lr(l,c).then(()=>{this.ar=i})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=MS();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class I6{constructor(){this.Ur=new nN,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new nN,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GZ{Kr(e){}shutdown(){}}class D6{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $Z={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class qZ{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class WZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,s){const l=this.ho(e,t);ze("RestConnection","Sending: ",l,i);const c={};return this.lo(c,r,s),this.fo(e,l,c,i).then(f=>(ze("RestConnection","Received: ",f),f),f=>{throw Qb("RestConnection",`${e} failed with error: `,f,"url: ",l,"request:",i),f})}_o(e,t,i,r,s){return this.co(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+J_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.uo}/v1/${t}:${$Z[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,l)=>{const c=new $W;c.listenOnce(HW.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case mO.NO_ERROR:const y=c.getResponseJson();ze("Connection","XHR received:",JSON.stringify(y)),s(y);break;case mO.TIMEOUT:ze("Connection",'RPC "'+e+'" timed out'),l(new Le(_e.DEADLINE_EXCEEDED,"Request time out"));break;case mO.HTTP_ERROR:const w=c.getStatus();if(ze("Connection",'RPC "'+e+'" failed with status:',w,"response text:",c.getResponseText()),w>0){const C=c.getResponseJson().error;if(C&&C.status&&C.message){const S=function(k){const R=k.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(R)>=0?R:_e.UNKNOWN}(C.status);l(new Le(S,C.message))}else l(new Le(_e.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Le(_e.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{ze("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(r);c.send(t,"POST",f,i,15)})}wo(e,t,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=BW(),l=jW(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new GW({})),this.lo(c.initMessageHeaders,t,i),(0,L.uI)()||(0,L.b$)()||(0,L.d)()||(0,L.w1)()||(0,L.Mn)()||(0,L.ru)()||(c.httpHeadersOverwriteParam="$httpHeaders");const f=r.join("");ze("Connection","Creating WebChannel: "+f,c);const y=s.createWebChannel(f,c);let w=!1,C=!1;const S=new qZ({Jr:R=>{C?ze("Connection","Not sending because WebChannel is closed:",R):(w||(ze("Connection","Opening WebChannel transport."),y.open(),w=!0),ze("Connection","WebChannel sending:",R),y.send(R))},Yr:()=>y.close()}),k=(R,j,Q)=>{R.listen(j,pe=>{try{Q(pe)}catch(Me){setTimeout(()=>{throw Me},0)}})};return k(y,vS.EventType.OPEN,()=>{C||ze("Connection","WebChannel transport opened.")}),k(y,vS.EventType.CLOSE,()=>{C||(C=!0,ze("Connection","WebChannel transport closed"),S.ro())}),k(y,vS.EventType.ERROR,R=>{C||(C=!0,Qb("Connection","WebChannel transport errored:",R),S.ro(new Le(_e.UNAVAILABLE,"The operation could not be completed")))}),k(y,vS.EventType.MESSAGE,R=>{var j;if(!C){const Q=R.data[0];Ut(!!Q);const pe=Q,Me=pe.error||(null===(j=pe[0])||void 0===j?void 0:j.error);if(Me){ze("Connection","WebChannel received error:",Me);const Ue=Me.status;let Ne=function(lt){const Ft=er[lt];if(void 0!==Ft)return C3(Ft)}(Ue),at=Me.message;void 0===Ne&&(Ne=_e.INTERNAL,at="Unknown error status: "+Ue+" with message "+Me.message),C=!0,S.ro(new Le(Ne,at)),y.close()}else ze("Connection","WebChannel received:",Q),S.oo(Q)}}),k(l,zW.STAT_EVENT,R=>{R.stat===kB.PROXY?ze("Connection","Detected buffering proxy"):R.stat===kB.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{S.io()},0),S}}function S6(){return"undefined"!=typeof window?window:null}function GS(){return"undefined"!=typeof document?document:null}function Dw(n){return new N9(n,!0)}class rN{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class A6{constructor(e,t,i,r,s,l,c,f){this.Yn=e,this.Vo=i,this.vo=r,this.So=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new rN(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,$.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,$.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var i=this;return(0,$.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==e?i.No.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(Ji(t.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):t&&t.code===_e.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===t&&this.Qo(i,r)},i=>{e(()=>{const r=new Le(_e.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(e,t){const i=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.No.Ro((0,$.Z)(function*(){e.state=0,e.start()}))}jo(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZZ extends A6{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.M=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function U9(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:ft(),r=e.targetChange.targetIds||[],s=function(f,y){return f.N?(Ut(void 0===y||"string"==typeof y),gr.fromBase64String(y||"")):(Ut(void 0===y||y instanceof Uint8Array),gr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const y=void 0===f.code?_e.UNKNOWN:C3(f.code);return new Le(y,f.message||"")}(l);t=new I3(i,r,s,c||null)}else if("documentChange"in e){const i=e.documentChange,r=Wu(n,i.document.name),s=kr(i.document.updateTime),l=new Cs({mapValue:{fields:i.document.fields}}),c=ei.newFoundDocument(r,s,l);t=new kS(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=Wu(n,i.document),s=i.readTime?kr(i.readTime):Rt.min(),l=ei.newNoDocument(r,s);t=new kS([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=Wu(n,i.document);t=new kS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ft();{const i=e.filter,s=new D9(i.count||0);t=new T3(i.targetId,s)}}var f;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return Rt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Rt.min():s.readTime?kr(s.readTime):Rt.min()}(e);return this.listener.zo(t,i)}Ho(e){const t={};t.database=mw(this.M),t.addTarget=function(r,s){let l;const c=s.target;return l=IS(c)?{documents:N3(r,c)}:{query:F3(r,c)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=x3(r,s.resumeToken):s.snapshotVersion.compareTo(Rt.min())>0&&(l.readTime=pw(r,s.snapshotVersion.toTimestamp())),l}(this.M,e);const i=function B9(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Lo(t)}Jo(e){const t={};t.database=mw(this.M),t.removeTarget=e,this.Lo(t)}}class KZ extends A6{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function V9(n,e){return n&&n.length>0?(Ut(void 0!==e),n.map(t=>function(i,r){let s=kr(i.updateTime?i.updateTime:r);return s.isEqual(Rt.min())&&(s=kr(r)),new C9(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=kr(e.commitTime);return this.listener.tu(i,t)}return Ut(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=mw(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>_w(this.M,i))};this.Lo(t)}}class YZ extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new Le(_e.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So.co(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Le(_e.UNKNOWN,r.toString())})}_o(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So._o(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Le(_e.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class QZ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Ji(t),this.uu=!1):ze("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class JZ{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(c=>{i.enqueueAndForget((0,$.Z)(function*(){var f;Ph(l)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,$.Z)(function*(y){const w=tt(y);w.wu.add(4),yield gy(w),w.yu.set("Unknown"),w.wu.delete(4),yield Sw(w)}),function(y){return f.apply(this,arguments)})(l))}))}),this.yu=new QZ(i,r)}}function Sw(n){return sN.apply(this,arguments)}function sN(){return sN=(0,$.Z)(function*(n){if(Ph(n))for(const e of n.mu)yield e(!0)}),sN.apply(this,arguments)}function gy(n){return oN.apply(this,arguments)}function oN(){return oN=(0,$.Z)(function*(n){for(const e of n.mu)yield e(!1)}),oN.apply(this,arguments)}function $S(n,e){const t=tt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),uN(t)?lN(t):_y(t).Mo()&&aN(t,e))}function Aw(n,e){const t=tt(n),i=_y(t);t._u.delete(e),i.Mo()&&x6(t,e),0===t._u.size&&(i.Mo()?i.$o():Ph(t)&&t.yu.set("Unknown"))}function aN(n,e){n.pu.Z(e.targetId),_y(n).Ho(e)}function x6(n,e){n.pu.Z(e),_y(n).Jo(e)}function lN(n){n.pu=new P9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),_y(n).start(),n.yu.au()}function uN(n){return Ph(n)&&!_y(n).ko()&&n._u.size>0}function Ph(n){return 0===tt(n).wu.size}function M6(n){n.pu=void 0}function XZ(n){return cN.apply(this,arguments)}function cN(){return cN=(0,$.Z)(function*(n){n._u.forEach((e,t)=>{aN(n,e)})}),cN.apply(this,arguments)}function eK(n,e){return dN.apply(this,arguments)}function dN(){return dN=(0,$.Z)(function*(n,e){M6(n),uN(n)?(n.yu.lu(e),lN(n)):n.yu.set("Unknown")}),dN.apply(this,arguments)}function tK(n,e,t){return hN.apply(this,arguments)}function hN(){return hN=(0,$.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof I3&&2===e.state&&e.cause)try{yield(i=(0,$.Z)(function*(r,s){const l=s.cause;for(const c of s.targetIds)r._u.has(c)&&(yield r.remoteSyncer.rejectListen(c,l),r._u.delete(c),r.pu.removeTarget(c))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield qS(n,i)}else if(e instanceof kS?n.pu.ut(e):e instanceof T3?n.pu._t(e):n.pu.ht(e),!t.isEqual(Rt.min()))try{const i=yield y6(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.pu.yt(s);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const y=r._u.get(f);y&&r._u.set(f,y.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach(c=>{const f=r._u.get(c);if(!f)return;r._u.set(c,f.withResumeToken(gr.EMPTY_BYTE_STRING,f.snapshotVersion)),x6(r,c);const y=new xh(f.target,c,1,f.sequenceNumber);aN(r,y)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){ze("RemoteStore","Failed to raise snapshot:",i),yield qS(n,i)}var i}),hN.apply(this,arguments)}function qS(n,e,t){return fN.apply(this,arguments)}function fN(){return fN=(0,$.Z)(function*(n,e,t){if(!ig(e))throw e;n.wu.add(1),yield gy(n),n.yu.set("Offline"),t||(t=()=>y6(n.localStore)),n.asyncQueue.enqueueRetryable((0,$.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Sw(n)}))}),fN.apply(this,arguments)}function k6(n,e){return e().catch(t=>qS(n,t,e))}function my(n){return pN.apply(this,arguments)}function pN(){return pN=(0,$.Z)(function*(n){const e=tt(n),t=Rh(e);let i=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;nK(e);)try{const r=yield RZ(e.localStore,i);if(null===r){0===e.du.length&&t.$o();break}i=r.batchId,iK(e,r)}catch(r){yield qS(e,r)}P6(e)&&R6(e)}),pN.apply(this,arguments)}function nK(n){return Ph(n)&&n.du.length<10}function iK(n,e){n.du.push(e);const t=Rh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function P6(n){return Ph(n)&&!Rh(n).ko()&&n.du.length>0}function R6(n){Rh(n).start()}function rK(n){return gN.apply(this,arguments)}function gN(){return gN=(0,$.Z)(function*(n){Rh(n).nu()}),gN.apply(this,arguments)}function sK(n){return mN.apply(this,arguments)}function mN(){return mN=(0,$.Z)(function*(n){const e=Rh(n);for(const t of n.du)e.Zo(t.mutations)}),mN.apply(this,arguments)}function oK(n,e,t){return _N.apply(this,arguments)}function _N(){return _N=(0,$.Z)(function*(n,e,t){const i=n.du.shift(),r=FO.from(i,e,t);yield k6(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield my(n)}),_N.apply(this,arguments)}function aK(n,e){return yN.apply(this,arguments)}function yN(){return yN=(0,$.Z)(function*(n,e){var t;e&&Rh(n).Xo&&(yield(t=(0,$.Z)(function*(i,r){if(E3(s=r.code)&&s!==_e.ABORTED){const l=i.du.shift();Rh(i).Fo(),yield k6(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield my(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),P6(n)&&R6(n)}),yN.apply(this,arguments)}function O6(n,e){return vN.apply(this,arguments)}function vN(){return vN=(0,$.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const i=Ph(t);t.wu.add(3),yield gy(t),i&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Sw(t)}),vN.apply(this,arguments)}function bN(n,e){return wN.apply(this,arguments)}function wN(){return wN=(0,$.Z)(function*(n,e){const t=tt(n);e?(t.wu.delete(2),yield Sw(t)):e||(t.wu.add(2),yield gy(t),t.yu.set("Unknown"))}),wN.apply(this,arguments)}function _y(n){return n.Iu||(n.Iu=function(e,t,i){const r=tt(e);return r.iu(),new ZZ(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:XZ.bind(null,n),eo:eK.bind(null,n),zo:tK.bind(null,n)}),n.mu.push(function(){var e=(0,$.Z)(function*(t){t?(n.Iu.Fo(),uN(n)?lN(n):n.yu.set("Unknown")):(yield n.Iu.stop(),M6(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Rh(n){return n.Tu||(n.Tu=function(e,t,i){const r=tt(e);return r.iu(),new KZ(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:rK.bind(null,n),eo:aK.bind(null,n),eu:sK.bind(null,n),tu:oK.bind(null,n)}),n.mu.push(function(){var e=(0,$.Z)(function*(t){t?(n.Tu.Fo(),yield my(n)):(yield n.Tu.stop(),n.du.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class EN{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,c=new EN(e,t,l,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(n,e){if(Ji("AsyncQueue",`${e}: ${n}`),ig(n))return new Le(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class vy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Qe.comparator(t.key,i.key):(t,i)=>Qe.comparator(t.key,i.key),this.keyedMap=MO(),this.sortedSet=new Hi(this.comparator)}static emptySet(e){return new vy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new vy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class N6{constructor(){this.Eu=new Hi(Qe.comparator)}track(e){const t=e.doc.key,i=this.Eu.get(t);i?0!==e.type&&3===i.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==i.type?this.Eu=this.Eu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Eu=this.Eu.remove(t):1===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ft():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,i)=>{e.push(i)}),e}}class by{constructor(e,t,i,r,s,l,c,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(l=>{s.push({type:0,doc:l})}),new by(e,t,vy.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&aw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class lK{constructor(){this.Ru=void 0,this.listeners=[]}}class uK{constructor(){this.queries=new Ah(e=>o3(e),aw),this.onlineState="Unknown",this.bu=new Set}}function CN(n,e){return TN.apply(this,arguments)}function TN(){return TN=(0,$.Z)(function*(n,e){const t=tt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new lK),r)try{s.Ru=yield t.onListen(i)}catch(l){const c=yy(l,`Initialization of query '${DO(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.Vu(s.Ru)&&SN(t)}),TN.apply(this,arguments)}function IN(n,e){return DN.apply(this,arguments)}function DN(){return DN=(0,$.Z)(function*(n,e){const t=tt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),DN.apply(this,arguments)}function cK(n,e){const t=tt(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const c of l.listeners)c.Vu(r)&&(i=!0);l.Ru=r}}i&&SN(t)}function dK(n,e,t){const i=tt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function SN(n){n.bu.forEach(e=>{e.next()})}class AN{constructor(e,t,i){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new by(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=by.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class hK{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class F6{constructor(e){this.M=e}wi(e){return Wu(this.M,e)}mi(e){return e.metadata.exists?O3(this.M,e.document,!1):ei.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return kr(e)}}class fK{constructor(e,t,i){this.Ou=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=L6(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=fn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new F6(this.M);for(const r of e)if(r.metadata.queries){const s=i.wi(r.metadata.name);for(const l of r.metadata.queries){const c=(t.get(l)||Dn()).add(s);t.set(l,c)}}return t}complete(){var e=this;return(0,$.Z)(function*(){const t=yield function OZ(n,e,t,i){return YO.apply(this,arguments)}(e.localStore,new F6(e.M),e.documents,e.Ou.id),i=e.$u(e.documents);for(const r of e.queries)yield NZ(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function L6(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class U6{constructor(e){this.key=e}}class V6{constructor(e){this.key=e}}class B6{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Dn(),this.mutatedKeys=Dn(),this.Gu=l3(e),this.Qu=new vy(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new N6,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,c=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((w,C)=>{const S=r.get(w),k=SO(this.query,C)?C:null,R=!!S&&this.mutatedKeys.has(S.key),j=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Q=!1;S&&k?S.data.isEqual(k.data)?R!==j&&(i.track({type:3,doc:k}),Q=!0):this.Hu(S,k)||(i.track({type:2,doc:k}),Q=!0,(f&&this.Gu(k,f)>0||y&&this.Gu(k,y)<0)&&(c=!0)):!S&&k?(i.track({type:0,doc:k}),Q=!0):S&&!k&&(i.track({type:1,doc:S}),Q=!0,(f||y)&&(c=!0)),Q&&(k?(l=l.add(k),s=j?s.add(w):s.delete(w)):(l=l.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const w="F"===this.query.limitType?l.last():l.first();l=l.delete(w.key),s=s.delete(w.key),i.track({type:1,doc:w})}return{Qu:l,zu:i,ii:c,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((y,w)=>function(C,S){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return k(C)-k(S)}(y.type,w.type)||this.Gu(y.doc,w.doc)),this.Ju(i);const l=t?this.Yu():[],c=0===this.Ku.size&&this.current?1:0,f=c!==this.qu;return this.qu=c,0!==s.length||f?{snapshot:new by(this.query,e.Qu,r,s,e.mutatedKeys,0===c,f,!1),Xu:l}:{Xu:l}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new N6,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Dn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new V6(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new U6(i))}),t}ta(e){this.Uu=e._i,this.Ku=Dn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return by.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class pK{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class gK{constructor(e){this.key=e,this.na=!1}}class mK{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.sa={},this.ia=new Ah(c=>o3(c),aw),this.ra=new Map,this.oa=new Set,this.ua=new Hi(Qe.comparator),this.aa=new Map,this.ca=new JO,this.ha={},this.la=new Map,this.fa=cg.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function _K(n,e){return xN.apply(this,arguments)}function xN(){return xN=(0,$.Z)(function*(n,e){const t=JN(n);let i,r;const s=t.ia.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ea();else{const l=yield fy(t.localStore,nl(e));t.isPrimaryClient&&$S(t.remoteStore,l);const c=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield MN(t,e,i,"current"===c)}return r}),xN.apply(this,arguments)}function MN(n,e,t,i){return kN.apply(this,arguments)}function kN(){return kN=(0,$.Z)(function*(n,e,t,i){n._a=(w,C,S)=>{return(k=(0,$.Z)(function*(R,j,Q,pe){let Me=j.view.Wu(Q);Me.ii&&(Me=yield jS(R.localStore,j.query,!1).then(({documents:at})=>j.view.Wu(at,Me)));const Ue=pe&&pe.targetChanges.get(j.targetId),Ne=j.view.applyChanges(Me,R.isPrimaryClient,Ue);return jN(R,j.targetId,Ne.Xu),Ne.snapshot}),function(R,j,Q,pe){return k.apply(this,arguments)})(n,w,C,S);var k};const r=yield jS(n.localStore,e,!0),s=new B6(e,r._i),l=s.Wu(r.documents),c=fw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),f=s.applyChanges(l,n.isPrimaryClient,c);jN(n,t,f.Xu);const y=new pK(e,t,s);return n.ia.set(e,y),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),f.snapshot}),kN.apply(this,arguments)}function yK(n,e){return PN.apply(this,arguments)}function PN(){return PN=(0,$.Z)(function*(n,e){const t=tt(n),i=t.ia.get(e),r=t.ra.get(i.targetId);if(r.length>1)return t.ra.set(i.targetId,r.filter(s=>!aw(s,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield py(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Aw(t.remoteStore,i.targetId),wy(t,i.targetId)}).catch(dg))):(wy(t,i.targetId),yield py(t.localStore,i.targetId,!0))}),PN.apply(this,arguments)}function RN(){return RN=(0,$.Z)(function*(n,e,t){const i=XN(n);try{const r=yield function(s,l){const c=tt(s),f=ji.now(),y=l.reduce((C,S)=>C.add(S.key),Dn());let w;return c.persistence.runTransaction("Locally write mutations","readwrite",C=>c.fi.Ks(C,y).next(S=>{w=S;const k=[];for(const R of l){const j=I9(R,w.get(R.key));null!=j&&k.push(new ng(R.key,j,WB(j.value.mapValue),Xi.exists(!0)))}return c.Bs.addMutationBatch(C,f,k,l)})).then(C=>(C.applyToLocalDocumentSet(w),{batchId:C.batchId,changes:w}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,c){let f=s.ha[s.currentUser.toKey()];f||(f=new Hi(qt)),f=f.insert(l,c),s.ha[s.currentUser.toKey()]=f}(i,r.batchId,t),yield od(i,r.changes),yield my(i.remoteStore)}catch(r){const s=yy(r,"Failed to persist write");t.reject(s)}}),RN.apply(this,arguments)}function j6(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,$.Z)(function*(n,e){const t=tt(n);try{const i=yield PZ(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.aa.get(s);l&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.na=!0:r.modifiedDocuments.size>0?Ut(l.na):r.removedDocuments.size>0&&(Ut(l.na),l.na=!1))}),yield od(t,i,e)}catch(i){yield dg(i)}}),ON.apply(this,arguments)}function H6(n,e,t){const i=tt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ia.forEach((s,l)=>{const c=l.view.Pu(e);c.snapshot&&r.push(c.snapshot)}),function(s,l){const c=tt(s);c.onlineState=l;let f=!1;c.queries.forEach((y,w)=>{for(const C of w.listeners)C.Pu(l)&&(f=!0)}),f&&SN(c)}(i.eventManager,e),r.length&&i.sa.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function bK(n,e,t){return NN.apply(this,arguments)}function NN(){return NN=(0,$.Z)(function*(n,e,t){const i=tt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.aa.get(e),s=r&&r.key;if(s){let l=new Hi(Qe.comparator);l=l.insert(s,ei.newNoDocument(s,Rt.min()));const c=Dn().add(s),f=new hw(Rt.min(),new Map,new Zn(qt),l,c);yield j6(i,f),i.ua=i.ua.remove(s),i.aa.delete(e),HN(i)}else yield py(i.localStore,e,!1).then(()=>wy(i,e,t)).catch(dg)}),NN.apply(this,arguments)}function wK(n,e){return FN.apply(this,arguments)}function FN(){return FN=(0,$.Z)(function*(n,e){const t=tt(n),i=e.batch.batchId;try{const r=yield kZ(t.localStore,e);BN(t,i,null),VN(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield od(t,r)}catch(r){yield dg(r)}}),FN.apply(this,arguments)}function EK(n,e,t){return LN.apply(this,arguments)}function LN(){return LN=(0,$.Z)(function*(n,e,t){const i=tt(n);try{const r=yield function(s,l){const c=tt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let y;return c.Bs.lookupMutationBatch(f,l).next(w=>(Ut(null!==w),y=w.keys(),c.Bs.removeMutationBatch(f,w))).next(()=>c.Bs.performConsistencyCheck(f)).next(()=>c.fi.Ks(f,y))})}(i.localStore,e);BN(i,e,t),VN(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield od(i,r)}catch(r){yield dg(r)}}),LN.apply(this,arguments)}function UN(){return UN=(0,$.Z)(function*(n,e){const t=tt(n);Ph(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=tt(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>l.Bs.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.la.get(i)||[];r.push(e),t.la.set(i,r)}catch(i){const r=yy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),UN.apply(this,arguments)}function VN(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function BN(n,e,t){const i=tt(n);let r=i.ha[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.ha[i.currentUser.toKey()]=r}}function wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ra.get(e))n.ia.delete(i),t&&n.sa.wa(i,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(i=>{n.ca.containsKey(i)||z6(n,i)})}function z6(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(Aw(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),HN(n))}function jN(n,e,t){for(const i of t)i instanceof U6?(n.ca.addReference(i.key,e),TK(n,i)):i instanceof V6?(ze("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,e),n.ca.containsKey(i.key)||z6(n,i.key)):ft()}function TK(n,e){const t=e.key,i=t.path.canonicalString();n.ua.get(t)||n.oa.has(i)||(ze("SyncEngine","New document in limbo: "+t),n.oa.add(i),HN(n))}function HN(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Qe(fn.fromString(e)),i=n.fa.next();n.aa.set(i,new gK(t)),n.ua=n.ua.insert(t,i),$S(n.remoteStore,new xh(nl(ry(t.path)),i,2,Ea.A))}}function od(n,e,t){return zN.apply(this,arguments)}function zN(){return zN=(0,$.Z)(function*(n,e,t){const i=tt(n),r=[],s=[],l=[];var c;i.ia.isEmpty()||(i.ia.forEach((c,f)=>{l.push(i._a(f,e,t).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,y.fromCache?"not-current":"current"),r.push(y);const w=WO.Ys(f.targetId,y);s.push(w)}}))}),yield Promise.all(l),i.sa.zo(r),yield(c=(0,$.Z)(function*(f,y){const w=tt(f);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>be.forEach(y,S=>be.forEach(S.Hs,k=>w.persistence.referenceDelegate.addReference(C,S.targetId,k)).next(()=>be.forEach(S.Js,k=>w.persistence.referenceDelegate.removeReference(C,S.targetId,k)))))}catch(C){if(!ig(C))throw C;ze("LocalStore","Failed to update sequence numbers: "+C)}for(const C of y){const S=C.targetId;if(!C.fromCache){const k=w.ui.get(S),j=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);w.ui=w.ui.insert(S,j)}}}),function(f,y){return c.apply(this,arguments)})(i.localStore,s))}),zN.apply(this,arguments)}function IK(n,e){return GN.apply(this,arguments)}function GN(){return GN=(0,$.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const i=yield _6(t.localStore,e);t.currentUser=e,(r=t).la.forEach(l=>{l.forEach(c=>{c.reject(new Le(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield od(t,i.di)}var r}),GN.apply(this,arguments)}function DK(n,e){const t=tt(n),i=t.aa.get(e);if(i&&i.na)return Dn().add(i.key);{let r=Dn();const s=t.ra.get(e);if(!s)return r;for(const l of s){const c=t.ia.get(l);r=r.unionWith(c.view.ju)}return r}}function SK(n,e){return $N.apply(this,arguments)}function $N(){return $N=(0,$.Z)(function*(n,e){const t=tt(n),i=yield jS(t.localStore,e.query,!0),r=e.view.ta(i);return t.isPrimaryClient&&jN(t,e.targetId,r.Xu),r}),$N.apply(this,arguments)}function AK(n,e){return qN.apply(this,arguments)}function qN(){return qN=(0,$.Z)(function*(n,e){const t=tt(n);return w6(t.localStore,e).then(i=>od(t,i))}),qN.apply(this,arguments)}function xK(n,e,t,i){return WN.apply(this,arguments)}function WN(){return WN=(0,$.Z)(function*(n,e,t,i){const r=tt(n),s=yield function(l,c){const f=tt(l),y=tt(f.Bs);return f.persistence.runTransaction("Lookup mutation documents","readonly",w=>y.fn(w,c).next(C=>C?f.fi.Ks(w,C):be.resolve(null)))}(r.localStore,e);var c;null!==s?("pending"===t?yield my(r.remoteStore):"acknowledged"===t||"rejected"===t?(BN(r,e,i||null),VN(r,e),c=e,tt(tt(r.localStore).Bs)._n(c)):ft(),yield od(r,s)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),WN.apply(this,arguments)}function ZN(){return ZN=(0,$.Z)(function*(n,e){const t=tt(n);if(JN(t),XN(t),!0===e&&!0!==t.da){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield G6(t,i.toArray());t.da=!0,yield bN(t.remoteStore,!0);for(const s of r)$S(t.remoteStore,s)}else if(!1===e&&!1!==t.da){const i=[];let r=Promise.resolve();t.ra.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(wy(t,l),py(t.localStore,l,!0))),Aw(t.remoteStore,l)}),yield r,yield G6(t,i),function(s){const l=tt(s);l.aa.forEach((c,f)=>{Aw(l.remoteStore,f)}),l.ca.Si(),l.aa=new Map,l.ua=new Hi(Qe.comparator)}(t),t.da=!1,yield bN(t.remoteStore,!1)}}),ZN.apply(this,arguments)}function G6(n,e,t){return KN.apply(this,arguments)}function KN(){return KN=(0,$.Z)(function*(n,e,t){const i=tt(n),r=[],s=[];for(const l of e){let c;const f=i.ra.get(l);if(f&&0!==f.length){c=yield fy(i.localStore,nl(f[0]));for(const y of f){const w=i.ia.get(y),C=yield SK(i,w);C.snapshot&&s.push(C.snapshot)}}else{const y=yield b6(i.localStore,l);c=yield fy(i.localStore,y),yield MN(i,$6(y),l,!1)}r.push(c)}return i.sa.zo(s),r}),KN.apply(this,arguments)}function $6(n){return r3(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kK(n){const e=tt(n);return tt(tt(e.localStore).persistence).Fs()}function PK(n,e,t,i){return YN.apply(this,arguments)}function YN(){return YN=(0,$.Z)(function*(n,e,t,i){const r=tt(n);if(r.da)return void ze("SyncEngine","Ignoring unexpected query state notification.");const s=r.ra.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield w6(r.localStore,a3(s[0])),c=hw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield od(r,l,c);break}case"rejected":yield py(r.localStore,e,!0),wy(r,e,i);break;default:ft()}}),YN.apply(this,arguments)}function RK(n,e,t){return QN.apply(this,arguments)}function QN(){return QN=(0,$.Z)(function*(n,e,t){const i=JN(n);if(i.da){for(const r of e){if(i.ra.has(r)){ze("SyncEngine","Adding an already active target "+r);continue}const s=yield b6(i.localStore,r),l=yield fy(i.localStore,s);yield MN(i,$6(s),l.targetId,!1),$S(i.remoteStore,l)}for(const r of t)i.ra.has(r)&&(yield py(i.localStore,r,!1).then(()=>{Aw(i.remoteStore,r),wy(i,r)}).catch(dg))}}),QN.apply(this,arguments)}function JN(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=j6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bK.bind(null,e),e.sa.zo=cK.bind(null,e.eventManager),e.sa.wa=dK.bind(null,e.eventManager),e}function XN(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EK.bind(null,e),e}class q6{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,$.Z)(function*(){t.M=Dw(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return m6(this.persistence,new g6,e.initialUser,this.M)}ya(e){return new HZ(XO.Yi,this.M)}ga(e){return new I6}terminate(){var e=this;return(0,$.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class W6 extends q6{constructor(e,t,i){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,$.Z)(function*(){yield t().call(i,e),yield i.Ta.initialize(i,e),yield XN(i.Ta.syncEngine),yield my(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(e){return m6(this.persistence,new g6,e.initialUser,this.M)}pa(e){return new CZ(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=qO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Fo.withCacheSize(this.cacheSizeBytes):Fo.DEFAULT;return new $O(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,S6(),GS(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new I6}}class NK extends W6{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,$.Z)(function*(){yield t().call(i,e);const r=i.Ta.syncEngine;i.sharedClientState instanceof iN&&(i.sharedClientState.syncEngine={$r:xK.bind(null,r),Br:PK.bind(null,r),Lr:RK.bind(null,r),Fs:kK.bind(null,r),Fr:AK.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var s=(0,$.Z)(function*(l){yield function MK(n,e){return ZN.apply(this,arguments)}(i.Ta.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):l||i.gcScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}ga(e){const t=S6();if(!iN.vt(t))throw new Le(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=qO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iN(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class eF{initialize(e,t){var i=this;return(0,$.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>H6(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=IK.bind(null,i.syncEngine),yield bN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uK}createDatastore(e){const t=Dw(e.databaseInfo.databaseId),i=new WZ(e.databaseInfo);return new YZ(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=c=>H6(this.syncEngine,c,0),l=D6.vt()?new D6:new GZ,new JZ(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,c,f,y){const w=new mK(i,r,s,l,c,f);return y&&(w.da=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,$.Z)(function*(t){const i=tt(t);ze("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield gy(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Z6(n,e=10240){let t=0;return{read:()=>(0,$.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,$.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class WS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class FK{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Mr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,$.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,$.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,$.Z)(function*(){const t=yield e.Va();if(null===t)return null;const i=e.ba.decode(t),r=Number(i);isNaN(r)&&e.va(`length string (${i}) is not valid number`);const s=yield e.Sa(r);return new hK(JSON.parse(s),t.length+r)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,$.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Sa(e){var t=this;return(0,$.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const i=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,$.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class LK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,$.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,$.Z)(function*(s,l){const c=tt(s),f=mw(c.M)+"/documents",y={documents:l.map(k=>gw(c.M,k))},w=yield c._o("BatchGetDocuments",f,y),C=new Map;w.forEach(k=>{const R=function L9(n,e){return"found"in e?function(t,i){Ut(!!i.found);const r=Wu(t,i.found.name),s=kr(i.found.updateTime),l=new Cs({mapValue:{fields:i.found.fields}});return ei.newFoundDocument(r,s,l)}(n,e):"missing"in e?function(t,i){Ut(!!i.missing),Ut(!!i.readTime);const r=Wu(t,i.missing),s=kr(i.readTime);return ei.newNoDocument(r,s)}(n,e):ft()}(c.M,k);C.set(R.key.toString(),R)});const S=[];return l.forEach(k=>{const R=C.get(k.toString());Ut(!!R),S.push(R)}),S}),function(s,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new cw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,$.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Qe.fromPath(r);e.mutations.push(new xO(s,e.precondition(s)))}),yield(i=(0,$.Z)(function*(r,s){const l=tt(r),c=mw(l.M)+"/documents",f={writes:s.map(y=>_w(l.M,y))};yield l.co("Commit",c,f)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=Rt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Le(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Xi.updateTime(t):Xi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Le(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xi.updateTime(t)}return Xi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class UK{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.xa=i.maxAttempts,this.No=new rN(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,$.Z)(function*(){const t=new LK(e.datastore),i=e.ka(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Ma(s)}))}).catch(r=>{e.Ma(r)})}))}ka(e){try{const t=this.updateFunction(e);return!ew(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!E3(t)}return!1}}class VK{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Qr.UNAUTHENTICATED,this.clientId=NB.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,$.Z)(function*(c){ze("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(ze("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,$.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=yy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function K6(n,e){return tF.apply(this,arguments)}function tF(){return tF=(0,$.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,$.Z)(function*(s){i.isEqual(s)||(yield _6(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),tF.apply(this,arguments)}function Y6(n,e){return nF.apply(this,arguments)}function nF(){return nF=(0,$.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield iF(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>O6(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>O6(e.remoteStore,s)),n.onlineComponents=e}),nF.apply(this,arguments)}function iF(n){return rF.apply(this,arguments)}function rF(){return rF=(0,$.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield K6(n,new q6)),n.offlineComponents}),rF.apply(this,arguments)}function ZS(n){return sF.apply(this,arguments)}function sF(){return sF=(0,$.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield Y6(n,new eF)),n.onlineComponents}),sF.apply(this,arguments)}function Q6(n){return iF(n).then(e=>e.persistence)}function oF(n){return iF(n).then(e=>e.localStore)}function J6(n){return ZS(n).then(e=>e.remoteStore)}function aF(n){return ZS(n).then(e=>e.syncEngine)}function Ey(n){return lF.apply(this,arguments)}function lF(){return lF=(0,$.Z)(function*(n){const e=yield ZS(n),t=e.eventManager;return t.onListen=_K.bind(null,e.syncEngine),t.onUnlisten=yK.bind(null,e.syncEngine),t}),lF.apply(this,arguments)}function X6(n,e,t={}){const i=new Mr;return n.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function(r,s,l,c,f){const y=new WS({next:C=>{s.enqueueAndForget(()=>IN(r,w));const S=C.docs.has(l);!S&&C.fromCache?f.reject(new Le(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&C.fromCache&&c&&"server"===c.source?f.reject(new Le(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(C)},error:C=>f.reject(C)}),w=new AN(ry(l.path),y,{includeMetadataChanges:!0,ku:!0});return CN(r,w)}(yield Ey(n),n.asyncQueue,e,t,i)})),i.promise}function ej(n,e,t={}){const i=new Mr;return n.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function(r,s,l,c,f){const y=new WS({next:C=>{s.enqueueAndForget(()=>IN(r,w)),C.fromCache&&"server"===c.source?f.reject(new Le(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(C)},error:C=>f.reject(C)}),w=new AN(l,y,{includeMetadataChanges:!0,ku:!0});return CN(r,w)}(yield Ey(n),n.asyncQueue,e,t,i)})),i.promise}const tj=new Map;function uF(n,e,t){if(!t)throw new Le(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nj(n,e,t,i){if(!0===e&&!0===i)throw new Le(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ij(n){if(!Qe.isDocumentKey(n))throw new Le(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rj(n){if(Qe.isDocumentKey(n))throw new Le(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=KS(n);throw new Le(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function sj(n,e){if(e<=0)throw new Le(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class oj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,nj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xw{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oj({}),this._settingsFrozen=!1,e instanceof rd?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Le(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(r.options.projectId)}(e))}get app(){if(!this._app)throw new Le(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ZW;switch(t.type){case"gapi":const i=t.client;return Ut(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new JW(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Le(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tj.get(e);t&&(ze("ComponentProvider","Removing Datastore"),tj.delete(e),t.terminate())}(this),Promise.resolve()}}class ti{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class Ts{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class Ku extends Ts{constructor(e,t,i){super(e,t,ry(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new Qe(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function aj(n,e,...t){if(n=(0,L.m9)(n),uF("collection","path",e),n instanceof xw){const i=fn.fromString(e,...t);return rj(i),new Ku(n,null,i)}{if(!(n instanceof ti||n instanceof Ku))throw new Le(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(e,...t));return rj(i),new Ku(n.firestore,null,i)}}function YS(n,e,...t){if(n=(0,L.m9)(n),1===arguments.length&&(e=NB.R()),uF("doc","path",e),n instanceof xw){const i=fn.fromString(e,...t);return ij(i),new ti(n,null,new Qe(i))}{if(!(n instanceof ti||n instanceof Ku))throw new Le(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(e,...t));return ij(i),new ti(n.firestore,n instanceof Ku?n.converter:null,new Qe(i))}}function lj(n,e){return n=(0,L.m9)(n),e=(0,L.m9)(e),(n instanceof ti||n instanceof Ku)&&(e instanceof ti||e instanceof Ku)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uj(n,e){return n=(0,L.m9)(n),e=(0,L.m9)(e),n instanceof Ts&&e instanceof Ts&&n.firestore===e.firestore&&aw(n._query,e._query)&&n.converter===e.converter}class YK{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new rN(this,"async_queue_retry"),this.Qa=()=>{const t=GS();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=GS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=GS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Mr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,$.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!ig(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(i=>{throw this.Ua=i,this.qa=!1,Ji("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=t,t}enqueueAfterDelay(e,t,i){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const r=EN.createAndSchedule(this,e,t,i,s=>this.Ha(s));return this.La.push(r),r}ja(){this.Ua&&ft()}verifyOperationInProgress(){}Ja(){var e=this;return(0,$.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function cF(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class QK{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ci extends xw{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new YK,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||cj(this),this._firestoreClient.terminate()}}function tr(n){return n._firestoreClient||cj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cj(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new r9(n._databaseId,s,n._persistenceKey,(c=t).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams));var s,c;n._firestoreClient=new VK(n._authCredentials,n._appCheckCredentials,n._queue,i)}function dj(n,e,t){const i=new Mr;return n.asyncQueue.enqueue((0,$.Z)(function*(){try{yield K6(n,t),yield Y6(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===_e.FAILED_PRECONDITION||s.code===_e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function hj(n){if(n._initialized||n._terminated)throw new Le(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ad{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yu(gr.fromBase64String(e))}catch(t){throw new Le(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yu(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fg{constructor(e){this._methodName=e}}class QS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}const aY=/^__.*__$/;class lY{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ng(e,this.data,this.fieldMask,t,this.fieldTransforms):new uw(e,this.data,t,this.fieldTransforms)}}class fj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ng(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class JS{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new JS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.rc(e),r}oc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return tA(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(pj(this.ec)&&aY.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class uY{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||Dw(e)}lc(e,t,i,r=!1){return new JS({ec:e,methodName:t,hc:i,path:pr.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function pg(n){const e=n._freezeSettings(),t=Dw(n._databaseId);return new uY(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XS(n,e,t,i,r,s={}){const l=n.lc(s.merge||s.mergeFields?2:0,e,t,r);pF("Data must be an object, but it was:",l,i);const c=_j(i,l);let f,y;if(s.merge)f=new ey(l.fieldMask),y=l.fieldTransforms;else if(s.mergeFields){const w=[];for(const C of s.mergeFields){const S=gF(e,C,t);if(!l.contains(S))throw new Le(_e.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);vj(w,S)||w.push(S)}f=new ey(w),y=l.fieldTransforms.filter(C=>f.covers(C.field))}else f=null,y=l.fieldTransforms;return new lY(new Cs(c),f,y)}class Mw extends fg{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mw}}function gj(n,e,t){return new JS({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class dF extends fg{_toFieldTransform(e){return new lw(e.path,new oy)}isEqual(e){return e instanceof dF}}class cY extends fg{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=gj(this,e,!0),i=this.fc.map(s=>gg(s,t)),r=new eg(i);return new lw(e.path,r)}isEqual(e){return this===e}}class dY extends fg{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=gj(this,e,!0),i=this.fc.map(s=>gg(s,t)),r=new tg(i);return new lw(e.path,r)}isEqual(e){return this===e}}class hY extends fg{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new ay(e.M,d3(e.M,this.dc));return new lw(e.path,t)}isEqual(e){return this===e}}function hF(n,e,t,i){const r=n.lc(1,e,t);pF("Data must be an object, but it was:",r,i);const s=[],l=Cs.empty();Zp(i,(f,y)=>{const w=eA(e,f,t);y=(0,L.m9)(y);const C=r.oc(w);if(y instanceof Mw)s.push(w);else{const S=gg(y,C);null!=S&&(s.push(w),l.set(w,S))}});const c=new ey(s);return new fj(l,c,r.fieldTransforms)}function fF(n,e,t,i,r,s){const l=n.lc(1,e,t),c=[gF(e,i,t)],f=[r];if(s.length%2!=0)throw new Le(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<s.length;S+=2)c.push(gF(e,s[S])),f.push(s[S+1]);const y=[],w=Cs.empty();for(let S=c.length-1;S>=0;--S)if(!vj(y,c[S])){const k=c[S];let R=f[S];R=(0,L.m9)(R);const j=l.oc(k);if(R instanceof Mw)y.push(k);else{const Q=gg(R,j);null!=Q&&(y.push(k),w.set(k,Q))}}const C=new ey(y);return new fj(w,C,l.fieldTransforms)}function mj(n,e,t,i=!1){return gg(t,n.lc(i?4:3,e))}function gg(n,e){if(yj(n=(0,L.m9)(n)))return pF("Unsupported field value:",e,n),_j(n,e);if(n instanceof fg)return function(t,i){if(!pj(i.ec))throw i.ac(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let c=gg(l,i.uc(s));null==c&&(c={nullValue:"NULL_VALUE"}),r.push(c),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,L.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return d3(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ji.fromDate(t);return{timestampValue:pw(i.M,r)}}if(t instanceof ji){const r=new ji(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pw(i.M,r)}}if(t instanceof QS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yu)return{bytesValue:x3(i.M,t._byteString)};if(t instanceof ti){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:kO(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ac(`Unsupported field value: ${KS(t)}`)}(n,e)}function _j(n,e){const t={};return UB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zp(n,(i,r)=>{const s=gg(r,e.sc(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function yj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ji||n instanceof QS||n instanceof Yu||n instanceof ti||n instanceof fg)}function pF(n,e,t){if(!yj(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=KS(t);throw e.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function gF(n,e,t){if((e=(0,L.m9)(e))instanceof ad)return e._internalPath;if("string"==typeof e)return eA(n,e);throw tA("Field path arguments must be of type string or ",n,!1,void 0,t)}const fY=new RegExp("[~\\*/\\[\\]]");function eA(n,e,t){if(e.search(fY)>=0)throw tA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ad(...e.split("."))._internalPath}catch(i){throw tA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tA(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new Le(_e.INVALID_ARGUMENT,c+n+f)}function vj(n,e){return n.some(t=>t.isEqual(e))}class kw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pY extends kw{data(){return super.data()}}function nA(n,e){return"string"==typeof e?eA(n,e):e instanceof ad?e._internalPath:e._delegate._internalPath}class mg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ld extends kw{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(nA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Pw extends ld{data(e={}){return super.data(e)}}class Oh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Pw(this._firestore,this._userDataWriter,i.key,i,new mg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Pw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new mg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const c=new Pw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new mg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,y=-1;return 0!==l.type&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),y=s.indexOf(l.doc.key)),{type:gY(l.type),doc:c,oldIndex:f,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function bj(n,e){return n instanceof ld&&e instanceof ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Oh&&e instanceof Oh&&n._firestore===e._firestore&&uj(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function wj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Le(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rw{}function Nh(n,...e){for(const t of e)n=t._apply(n);return n}class mY extends Rw{constructor(e,t,i){super(),this._c=e,this.wc=t,this.mc=i,this.type="where"}_apply(e){const t=pg(e.firestore),i=function(r,s,l,c,f,y,w){let C;if(f.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Le(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){Sj(w,y);const k=[];for(const R of w)k.push(Dj(c,r,R));C={arrayValue:{values:k}}}else C=Dj(c,r,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||Sj(w,y),C=mj(l,"where",w,"in"===y||"not-in"===y);const S=Xr.create(f,y,C);return function(k,R){if(R.S()){const Q=TO(k);if(null!==Q&&!Q.isEqual(R.field))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Q.toString()}' and '${R.field.toString()}'`);const pe=CO(k);null!==pe&&Aj(0,R.field,pe)}const j=function(Q,pe){for(const Me of Q.filters)if(pe.indexOf(Me.op)>=0)return Me.op;return null}(k,function(Q){switch(Q){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(R.op));if(null!==j)throw new Le(_e.INVALID_ARGUMENT,j===R.op?`Invalid query. You cannot use more than one '${R.op.toString()}' filter.`:`Invalid query. You cannot use '${R.op.toString()}' filters with '${j.toString()}' filters.`)}(r,S),S}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Ts(e.firestore,e.converter,function(r,s){const l=r.filters.concat([s]);return new sd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),l,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class yY extends Rw{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Le(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Le(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new iy(r,s);return function(c,f){if(null===CO(c)){const y=TO(c);null!==y&&Aj(0,y,f.field)}}(i,l),l}(e._query,this._c,this.gc);return new Ts(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new sd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Ej extends Rw{constructor(e,t,i){super(),this.type=e,this.yc=t,this.Ic=i}_apply(e){return new Ts(e.firestore,e.converter,s3(e._query,this.yc,this.Ic))}}class Cj extends Rw{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=Ij(e,this.type,this.Tc,this.Ec);return new Ts(e.firestore,e.converter,(r=t,new sd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Tj extends Rw{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=Ij(e,this.type,this.Tc,this.Ec);return new Ts(e.firestore,e.converter,(r=t,new sd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Ij(n,e,t,i){if(t[0]=(0,L.m9)(t[0]),t[0]instanceof kw)return function(r,s,l,c,f){if(!c)throw new Le(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const y=[];for(const w of sy(r))if(w.field.isKeyField())y.push(Qp(s,c.key));else{const C=c.data.field(w.field);if(vO(C))throw new Le(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const S=w.field.canonicalString();throw new Le(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}y.push(C)}return new Sh(y,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=pg(n.firestore);return function(s,l,c,f,y,w){const C=s.explicitOrderBy;if(y.length>C.length)throw new Le(_e.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let k=0;k<y.length;k++){const R=y[k];if(C[k].field.isKeyField()){if("string"!=typeof R)throw new Le(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof R}`);if(!IO(s)&&-1!==R.indexOf("/"))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${R}' contains a slash.`);const j=s.path.child(fn.fromString(R));if(!Qe.isDocumentKey(j))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const Q=new Qe(j);S.push(Qp(l,Q))}else{const j=mj(c,f,R);S.push(j)}}return new Sh(S,w)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Dj(n,e,t){if("string"==typeof(t=(0,L.m9)(t))){if(""===t)throw new Le(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IO(e)&&-1!==t.indexOf("/"))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(fn.fromString(t));if(!Qe.isDocumentKey(i))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qp(n,new Qe(i))}if(t instanceof ti)return Qp(n,t._key);throw new Le(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${KS(t)}.`)}function Sj(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Aj(n,e,t){if(!t.isEqual(e))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const DY={maxAttempts:5};class mF{convertValue(e,t="none"){switch(Yp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){const i={};return Zp(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new QS(Ii(e.latitude),Ii(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=VB(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Xb(e));default:return null}}convertTimestamp(e){const t=Th(e);return new ji(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=fn.fromString(e);Ut(V3(i));const r=new rd(i.get(1),i.get(3)),s=new Qe(i.popFirst(5));return r.isEqual(t)||Ji(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function iA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class SY extends mF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}class xj{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pg(e)}set(e,t,i){this._verifyNotCommitted();const r=Fh(e,this._firestore),s=iA(r.converter,t,i),l=XS(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Xi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Fh(e,this._firestore);let l;return l="string"==typeof(t=(0,L.m9)(t))||t instanceof ad?fF(this._dataReader,"WriteBatch.update",s._key,t,i,r):hF(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Xi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fh(e,this._firestore);return this._mutations=this._mutations.concat(new cw(t._key,Xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fh(n,e){if((n=(0,L.m9)(n)).firestore!==e)throw new Le(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class _g extends mF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}function Mj(n,e,t){n=dn(n,ti);const i=dn(n.firestore,ci),r=iA(n.converter,e,t);return Cy(i,[XS(pg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Xi.none())])}function kj(n,e,t,...i){n=dn(n,ti);const r=dn(n.firestore,ci),s=pg(r);let l;return l="string"==typeof(e=(0,L.m9)(e))||e instanceof ad?fF(s,"updateDoc",n._key,e,t,i):hF(s,"updateDoc",n._key,e),Cy(r,[l.toMutation(n._key,Xi.exists(!0))])}function Pj(n,...e){var t,i,r;n=(0,L.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||cF(e[l])||(s=e[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges};if(cF(e[l])){const C=e[l];e[l]=null===(t=C.next)||void 0===t?void 0:t.bind(C),e[l+1]=null===(i=C.error)||void 0===i?void 0:i.bind(C),e[l+2]=null===(r=C.complete)||void 0===r?void 0:r.bind(C)}let f,y,w;if(n instanceof ti)y=dn(n.firestore,ci),w=ry(n._key.path),f={next:C=>{e[l]&&e[l](_F(y,n,C))},error:e[l+1],complete:e[l+2]};else{const C=dn(n,Ts);y=dn(C.firestore,ci),w=C._query;const S=new _g(y);f={next:k=>{e[l]&&e[l](new Oh(y,S,C,k))},error:e[l+1],complete:e[l+2]},wj(n._query)}return function(C,S,k,R){const j=new WS(R),Q=new AN(S,j,k);return C.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return CN(yield Ey(C),Q)})),()=>{j.Aa(),C.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return IN(yield Ey(C),Q)}))}}(tr(y),w,c,f)}function Cy(n,e){return function(t,i){const r=new Mr;return t.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function vK(n,e,t){return RN.apply(this,arguments)}(yield aF(t),i,r)})),r.promise}(tr(n),e)}function _F(n,e,t){const i=t.docs.get(e._key),r=new _g(n);return new ld(n,r,e._key,i,new mg(t.hasPendingWrites,t.fromCache),e.converter)}class LY extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pg(e)}get(e){const t=Fh(e,this._firestore),i=new SY(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ft();const s=r[0];if(s.isFoundDocument())return new kw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new kw(this._firestore,i,t._key,null,t.converter);throw ft()})}set(e,t,i){const r=Fh(e,this._firestore),s=iA(r.converter,t,i),l=XS(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const s=Fh(e,this._firestore);let l;return l="string"==typeof(t=(0,L.m9)(t))||t instanceof ad?fF(this._dataReader,"Transaction.update",s._key,t,i,r):hF(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Fh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fh(e,this._firestore),i=new _g(this._firestore);return super.get(e).then(r=>new ld(this._firestore,i,t._key,r._document,new mg(!1,!1),t.converter))}}function yF(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Oj(){if("undefined"==typeof Uint8Array)throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function Nj(){if(!function n9(){return"undefined"!=typeof atob}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){J_=qs.SDK_VERSION,(0,qs._registerComponent)(new Hl.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new ci(r,new YW(t.getProvider("auth-internal")),new XW(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,qs.registerVersion)(PB,"3.4.9",n),(0,qs.registerVersion)(PB,"3.4.9","esm2017")}();class Ow{constructor(e){this._delegate=e}static fromBase64String(e){return Nj(),new Ow(Yu.fromBase64String(e))}static fromUint8Array(e){return Oj(),new Ow(Yu.fromUint8Array(e))}toBase64(){return Nj(),this._delegate.toBase64()}toUint8Array(){return Oj(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vF(n){return function qY(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class WY{enableIndexedDbPersistence(e,t){return function XK(n,e){hj(n=dn(n,ci));const t=tr(n),i=n._freezeSettings(),r=new eF;return dj(t,r,new W6(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function eY(n){hj(n=dn(n,ci));const e=tr(n),t=n._freezeSettings(),i=new eF;return dj(e,i,new NK(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tY(n){if(n._initialized&&!n._terminated)throw new Le(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,$.Z)(function*(){try{yield(t=(0,$.Z)(function*(i){if(!ql.vt())return Promise.resolve();const r=i+"main";yield ql.delete(r)}),function(i){return t.apply(this,arguments)})(qO(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Fj{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof rd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Qb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function ZK(n,e,t,i={}){var r;const s=(n=dn(n,xw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Qb("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let l,c;if("string"==typeof i.mockUserToken)l=i.mockUserToken,c=Qr.MOCK_USER;else{l=(0,L.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Le(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Qr(f)}n._authCredentials=new KW(new RB(l,c))}}(this._delegate,e,t,i)}enableNetwork(){return function iY(n){return function BK(n){return n.asyncQueue.enqueue((0,$.Z)(function*(){const e=yield Q6(n),t=yield J6(n);return e.setNetworkEnabled(!0),function(i){const r=tt(i);return r.wu.delete(0),Sw(r)}(t)}))}(tr(n=dn(n,ci)))}(this._delegate)}disableNetwork(){return function rY(n){return function jK(n){return n.asyncQueue.enqueue((0,$.Z)(function*(){const e=yield Q6(n),t=yield J6(n);return e.setNetworkEnabled(!1),(i=(0,$.Z)(function*(r){const s=tt(r);s.wu.add(0),yield gy(s),s.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(tr(n=dn(n,ci)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,nj("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nY(n){return function(e){const t=new Mr;return e.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return function CK(n,e){return UN.apply(this,arguments)}(yield aF(e),t)})),t.promise}(tr(n=dn(n,ci)))}(this._delegate)}onSnapshotsInSync(e){return function FY(n,e){return function GK(n,e){const t=new WS(e);return n.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return i=yield Ey(n),r=t,tt(i).bu.add(r),void r.next();var i,r})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return i=yield Ey(n),r=t,void tt(i).bu.delete(r);var i,r}))}}(tr(n=dn(n,ci)),cF(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ty(this,aj(this._delegate,e))}catch(t){throw Js(t,"collection()","Firestore.collection()")}}doc(e){try{return new rl(this,YS(this._delegate,e))}catch(t){throw Js(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xs(this,function KK(n,e){if(n=dn(n,xw),uF("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ts(n,null,(t=e,new sd(fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Js(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function UY(n,e,t){n=dn(n,ci);const i=Object.assign(Object.assign({},DY),t);return function(r){if(r.maxAttempts<1)throw new Le(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function $K(n,e,t){const i=new Mr;return n.asyncQueue.enqueueAndForget((0,$.Z)(function*(){const r=yield(s=n,ZS(s).then(l=>l.datastore));var s;new UK(n.asyncQueue,r,t,e,i).run()})),i.promise}(tr(n),r=>e(new LY(n,r)),i)}(this._delegate,t=>e(new Lj(this,t)))}batch(){return tr(this._delegate),new Uj(new xj(this._delegate,e=>Cy(this._delegate,e)))}loadBundle(e){return function sY(n,e){const t=tr(n=dn(n,ci)),i=new QK;return function qK(n,e,t,i){const r=function(s,l){let c;return c="string"==typeof s?(new TextEncoder).encode(s):s,f=function(f,y){if(f instanceof Uint8Array)return Z6(f,y);if(f instanceof ArrayBuffer)return Z6(new Uint8Array(f),y);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new FK(f,l);var f}(t,Dw(e));n.asyncQueue.enqueueAndForget((0,$.Z)(function*(){!function OK(n,e,t){const i=tt(n);var r;(r=(0,$.Z)(function*(s,l,c){try{const f=yield l.getMetadata();if(yield function(S,k){const R=tt(S),j=kr(k.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",Q=>R._s.getBundleMetadata(Q,k.id)).then(Q=>!!Q&&Q.createTime.compareTo(j)>=0)}(s.localStore,f))return yield l.close(),c._completeWith({taskState:"Success",documentsLoaded:(S=f).totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}),Promise.resolve(new Set);c._updateProgress(L6(f));const y=new fK(f,s.localStore,l.M);let w=yield l.ma();for(;w;){const S=yield y.Fu(w);S&&c._updateProgress(S),w=yield l.ma()}const C=yield y.complete();return yield od(s,C.Lu,void 0),yield function(S,k){const R=tt(S);return R.persistence.runTransaction("Save bundle","readwrite",j=>R._s.saveBundleMetadata(j,k))}(s.localStore,f),c._completeWith(C.progress),Promise.resolve(C.Bu)}catch(f){return Qb("SyncEngine",`Loading bundle failed with ${f}`),c._failWith(f),Promise.resolve(new Set)}var S}),function(s,l,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield aF(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function oY(n,e){return function WK(n,e){return n.asyncQueue.enqueue((0,$.Z)(function*(){return function(t,i){const r=tt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r._s.getNamedQuery(s,i))}(yield oF(n),e)}))}(tr(n=dn(n,ci)),e).then(t=>t?new Ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Xs(this,t):null)}}class rA extends mF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ow(new Yu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return rl.forKey(t,this.firestore,null)}}class Lj{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rA(e)}get(e){const t=vg(e);return this._delegate.get(t).then(i=>new Nw(this._firestore,new ld(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=vg(e);return i?(yF("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=vg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=vg(e);return this._delegate.delete(t),this}}class Uj{constructor(e){this._delegate=e}set(e,t,i){const r=vg(e);return i?(yF("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=vg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=vg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Pw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Fw(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=yg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new yg(e,new rA(e),t),r.set(t,s)),s}}yg.INSTANCES=new WeakMap;class rl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rA(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new rl(t,new ti(t._delegate,i,new Qe(e)))}static forKey(e,t,i){return new rl(t,new ti(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ty(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ty(this.firestore,aj(this._delegate,e))}catch(t){throw Js(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,L.m9)(e))instanceof ti&&lj(this._delegate,e)}set(e,t){t=yF("DocumentReference.set",t);try{return t?Mj(this._delegate,e,t):Mj(this._delegate,e)}catch(i){throw Js(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?kj(this._delegate,e):kj(this._delegate,e,t,...i)}catch(r){throw Js(r,"updateDoc()","DocumentReference.update()")}}delete(){return function OY(n){return Cy(dn(n.firestore,ci),[new cw(n._key,Xi.none())])}(this._delegate)}onSnapshot(...e){const t=Vj(e),i=Bj(e,r=>new Nw(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Pj(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function xY(n){n=dn(n,ti);const e=dn(n.firestore,ci),t=tr(e),i=new _g(e);return function HK(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return(i=(0,$.Z)(function*(r,s,l){try{const c=yield function(f,y){const w=tt(f);return w.persistence.runTransaction("read document","readonly",C=>w.fi.Ls(C,y))}(r,s);c.isFoundDocument()?l.resolve(c):c.isNoDocument()?l.resolve(null):l.reject(new Le(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const f=yy(c,`Failed to get document '${s} from cache`);l.reject(f)}}),function(r,s,l){return i.apply(this,arguments)})(yield oF(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ld(e,i,n._key,r,new mg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function MY(n){n=dn(n,ti);const e=dn(n.firestore,ci);return X6(tr(e),n._key,{source:"server"}).then(t=>_F(e,n,t))}(this._delegate):function AY(n){n=dn(n,ti);const e=dn(n.firestore,ci);return X6(tr(e),n._key).then(t=>_F(e,n,t))}(this._delegate),t.then(i=>new Nw(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new rl(this.firestore,this._delegate.withConverter(e?yg.getInstance(this.firestore,e):null))}}function Js(n,e,t){return n.message=n.message.replace(e,t),n}function Vj(n){for(const e of n)if("object"==typeof e&&!vF(e))return e;return{}}function Bj(n,e){var t,i;let r;return r=vF(n[0])?n[0]:vF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Nw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new rl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return bj(this._delegate,e._delegate)}}class Fw extends Nw{data(e){const t=this._delegate.data(e);return function WW(n,e){n||ft()}(void 0!==t),t}}class Xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rA(e)}where(e,t,i){try{return new Xs(this.firestore,Nh(this._delegate,function _Y(n,e,t){const i=e,r=nA("where",n);return new mY(r,i,t)}(e,t,i)))}catch(r){throw Js(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Xs(this.firestore,Nh(this._delegate,function vY(n,e="asc"){const t=e,i=nA("orderBy",n);return new yY(i,t)}(e,t)))}catch(i){throw Js(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Xs(this.firestore,Nh(this._delegate,function bY(n){return sj("limit",n),new Ej("limit",n,"F")}(e)))}catch(t){throw Js(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Xs(this.firestore,Nh(this._delegate,function wY(n){return sj("limitToLast",n),new Ej("limitToLast",n,"L")}(e)))}catch(t){throw Js(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Xs(this.firestore,Nh(this._delegate,function EY(...n){return new Cj("startAt",n,!0)}(...e)))}catch(t){throw Js(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Xs(this.firestore,Nh(this._delegate,function CY(...n){return new Cj("startAfter",n,!1)}(...e)))}catch(t){throw Js(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Xs(this.firestore,Nh(this._delegate,function TY(...n){return new Tj("endBefore",n,!1)}(...e)))}catch(t){throw Js(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Xs(this.firestore,Nh(this._delegate,function IY(...n){return new Tj("endAt",n,!0)}(...e)))}catch(t){throw Js(t,"endAt()","Query.endAt()")}}isEqual(e){return uj(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function PY(n){n=dn(n,Ts);const e=dn(n.firestore,ci),t=tr(e),i=new _g(e);return function zK(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,$.Z)(function*(){return(i=(0,$.Z)(function*(r,s,l){try{const c=yield jS(r,s,!0),f=new B6(s,c._i),y=f.Wu(c.documents),w=f.applyChanges(y,!1);l.resolve(w.snapshot)}catch(c){const f=yy(c,`Failed to execute query '${s} against cache`);l.reject(f)}}),function(r,s,l){return i.apply(this,arguments)})(yield oF(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Oh(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function RY(n){n=dn(n,Ts);const e=dn(n.firestore,ci),t=tr(e),i=new _g(e);return ej(t,n._query,{source:"server"}).then(r=>new Oh(e,i,n,r))}(this._delegate):function kY(n){n=dn(n,Ts);const e=dn(n.firestore,ci),t=tr(e),i=new _g(e);return wj(n._query),ej(t,n._query).then(r=>new Oh(e,i,n,r))}(this._delegate),t.then(i=>new bF(this.firestore,new Oh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Vj(e),i=Bj(e,r=>new bF(this.firestore,new Oh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Pj(this._delegate,t,i)}withConverter(e){return new Xs(this.firestore,this._delegate.withConverter(e?yg.getInstance(this.firestore,e):null))}}class KY{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Fw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bF{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Fw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new KY(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Fw(this._firestore,i))})}isEqual(e){return bj(this._delegate,e._delegate)}}class Ty extends Xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new rl(this.firestore,e):null}doc(e){try{return new rl(this.firestore,void 0===e?YS(this._delegate):YS(this._delegate,e))}catch(t){throw Js(t,"doc()","CollectionReference.doc()")}}add(e){return function NY(n,e){const t=dn(n.firestore,ci),i=YS(n),r=iA(n.converter,e);return Cy(t,[XS(pg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Xi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new rl(this.firestore,t))}isEqual(e){return lj(this._delegate,e._delegate)}withConverter(e){return new Ty(this.firestore,this._delegate.withConverter(e?yg.getInstance(this.firestore,e):null))}}function vg(n){return dn(n,ti)}class wF{constructor(...e){this._delegate=new ad(...e)}static documentId(){return new wF(pr.keyField().canonicalString())}isEqual(e){return(e=(0,L.m9)(e))instanceof ad&&this._delegate._internalPath.isEqual(e._internalPath)}}class bg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function BY(){return new dF("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bg(e)}static delete(){const e=function VY(){return new Mw("deleteField")}();return e._methodName="FieldValue.delete",new bg(e)}static arrayUnion(...e){const t=function jY(...n){return new cY("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new bg(t)}static arrayRemove(...e){const t=function HY(...n){return new dY("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new bg(t)}static increment(e){const t=function zY(n){return new hY("increment",n)}(e);return t._methodName="FieldValue.increment",new bg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const YY={Firestore:Fj,GeoPoint:QS,Timestamp:ji,Blob:Ow,Transaction:Lj,WriteBatch:Uj,DocumentReference:rl,DocumentSnapshot:Nw,Query:Xs,QueryDocumentSnapshot:Fw,QuerySnapshot:bF,CollectionReference:Ty,FieldPath:wF,FieldValue:bg,setLogLevel:function ZY(n){!function qW(n){Ch.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function jj(n,e){return function XY(n,e=CR.z){return new Vn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function EF(n,e){return jj(n,e).pipe((0,dt.U)(t=>({payload:t,type:"query"})))}function sA(n,e){return EF(n,e).pipe(r_(void 0),TR(),(0,dt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,c)=>{const f=r.find(w=>w.doc.ref.isEqual(l.ref)),y=null==t?void 0:t.payload.docs.find(w=>w.ref.isEqual(l.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(l.metadata)||!f&&y&&JSON.stringify(y.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:l}})}),s}))}function Hj(n,e,t){return sA(n,t).pipe(jc((i,r)=>function tQ(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function nQ(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return CF(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return CF(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return CF(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),Tf(),(0,dt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function CF(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function zj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function JY(n){(function QY(n,e){n.INTERNAL.registerComponent(new Hl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},YY)))})(n,(e,t)=>new Fj(e,t,new WY)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(IR.Z);class Gj{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=sA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,dt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(r_(void 0),TR(),Xn(([i,r])=>r.length>0||!i),(0,dt.U)(([i,r])=>r),bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(jc((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=zj(e);return Hj(this.query,t,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return EF(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),bn.iC)}get(e){return(0,Qt.D)(this.query.get(e)).pipe(bn.iC)}add(e){return this.ref.add(e)}doc(e){return new $j(this.ref.doc(e),this.afs)}}class $j{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=Zj(i,t);return new Gj(r,s,this.afs)}snapshotChanges(){return function eQ(n,e){return jj(n,e).pipe(r_(void 0),TR(),(0,dt.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Qt.D)(this.ref.get(e)).pipe(bn.iC)}}class iQ{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?sA(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Xn(t=>t.length>0),bn.iC):sA(this.query,this.afs.schedulers.outsideAngular).pipe(bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(jc((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=zj(e);return Hj(this.query,t,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return EF(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),bn.iC)}get(e){return(0,Qt.D)(this.query.get(e)).pipe(bn.iC)}}const qj=new d.OlP("angularfire2.enableFirestorePersistence"),Wj=new d.OlP("angularfire2.firestore.persistenceSettings"),rQ=new d.OlP("angularfire2.firestore.settings"),sQ=new d.OlP("angularfire2.firestore.use-emulator");function Zj(n,e=(t=>t)){return{query:e(n),ref:n}}let Kj=(()=>{class n{constructor(t,i,r,s,l,c,f,y,w,C,S,k,R,j,Q,pe,Me){this.schedulers=f;const Ue=(0,fr.on)(t,c,i),Ne=w;C&&yR(Ue,c,S,R,j,Q,k,pe),[this.firestore,this.persistenceEnabled$]=(0,fr.cc)(`${Ue.name}.firestore`,"AngularFirestore",Ue.name,()=>{const at=c.runOutsideAngular(()=>Ue.firestore());if(s&&at.settings(s),Ne&&at.useEmulator(...Ne),r&&!$o(l)){const lt=()=>{try{return(0,Qt.D)(at.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Ft){return"undefined"!=typeof console&&console.warn(Ft),pt(!1)}};return[at,c.runOutsideAngular(lt)]}return[at,pt(!1)]},[s,Ne,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=Zj(r,i),c=this.schedulers.ngZone.run(()=>s);return new Gj(c,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new iQ(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new $j(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fr.Dh),d.LFG(fr.xv,8),d.LFG(qj,8),d.LFG(rQ,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(bn.HU),d.LFG(Wj,8),d.LFG(sQ,8),d.LFG(Pb,8),d.LFG(hR,8),d.LFG(fR,8),d.LFG(pR,8),d.LFG(gR,8),d.LFG(mR,8),d.LFG(_R,8),d.LFG(kb,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oQ=(()=>{class n{constructor(){$D.Z.registerVersion("angularfire",bn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:qj,useValue:!0},{provide:Wj,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Kj]}),n})(),aQ=(()=>{class n{constructor(t,i){this.authService=t,this.afs=i,this.chats=[],this.userLog={},this.authService.getAuth().subscribe(r=>{r&&(this.userLog.name=r.displayName,this.userLog.uid=r.uid,this.userLog.email=r.email)})}loadMessages(){return this.itemsCollection=this.afs.collection("chats",t=>t.orderBy("date","desc").limit(10)),this.itemsCollection.valueChanges().subscribe(t=>{this.chats=[];for(let i of t)this.chats.unshift(i);setTimeout(()=>{this.elements=document.getElementById("app-message"),this.elements.scrollTop=this.elements.scrollHeight},20)})}addMessage(t){var i;let r={name:this.userLog.email,message:t,date:(new Date).toLocaleString(),uid:this.userLog.uid,email:this.userLog.email};return console.log(r),null===(i=this.itemsCollection)||void 0===i?void 0:i.add(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(WD),d.LFG(Kj))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let Qj=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),wg=(()=>{class n extends Qj{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Wl=new d.OlP("NgValueAccessor"),uQ={provide:Wl,useExisting:(0,d.Gpc)(()=>Lw),multi:!0},dQ=new d.OlP("CompositionEventMode");let Lw=(()=>{class n extends Qj{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cQ(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(dQ,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&d.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[d._Bn([uQ]),d.qOj]}),n})();const Is=new d.OlP("NgValidators"),Uh=new d.OlP("NgAsyncValidators");function l5(n){return null!=n}function u5(n){const e=(0,d.QGY)(n)?(0,Qt.D)(n):n;return(0,d.CqO)(e),e}function c5(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function d5(n,e){return e.map(t=>t(n))}function h5(n){return n.map(e=>function fQ(n){return!n.validate}(e)?e:t=>e.validate(t))}function TF(n){return null!=n?function f5(n){if(!n)return null;const e=n.filter(l5);return 0==e.length?null:function(t){return c5(d5(t,e))}}(h5(n)):null}function p5(n){if(!n)return null;const e=n.filter(l5);return 0==e.length?null:function(t){return function Yj(...n){const e=(0,pi.jO)(n),{args:t,keys:i}=n_(n),r=new Vn.y(s=>{const{length:l}=t;if(!l)return void s.complete();const c=new Array(l);let f=l,y=l;for(let w=0;w<l;w++){let C=!1;(0,la.Xf)(t[w]).subscribe((0,jt.x)(s,S=>{C||(C=!0,y--),c[w]=S},()=>f--,void 0,()=>{(!f||!C)&&(y||s.next(i?w0(i,c):c),s.complete())}))}});return e?r.pipe(b0(e)):r}(d5(t,e).map(u5)).pipe((0,dt.U)(c5))}}function IF(n){return null!=n?p5(h5(n)):null}function g5(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function DF(n){return n?Array.isArray(n)?n:[n]:[]}function aA(n,e){return Array.isArray(n)?n.includes(e):n===e}function y5(n,e){const t=DF(e);return DF(n).forEach(r=>{aA(t,r)||t.push(r)}),t}function v5(n,e){return DF(e).filter(t=>!aA(n,t))}class b5{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TF(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Vh extends b5{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eo extends b5{get formDirective(){return null}get path(){return null}}class w5{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let SF=(()=>{class n extends w5{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Vh,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[d.qOj]}),n})(),E5=(()=>{class n extends w5{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(eo,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[d.qOj]}),n})();function Uw(n,e){MF(n,e),e.valueAccessor.writeValue(n.value),function wQ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&T5(n,e)})}(n,e),function CQ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function EQ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&T5(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bQ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function dA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function MF(n,e){const t=function m5(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(g5(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function _5(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(g5(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();dA(e._rawValidators,r),dA(e._rawAsyncValidators,r)}function T5(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function RF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Vw="VALID",fA="INVALID",Iy="PENDING",Bw="DISABLED";function NF(n){return(pA(n)?n.validators:n)||null}function A5(n){return Array.isArray(n)?TF(n):n||null}function FF(n,e){return(pA(e)?e.asyncValidators:n)||null}function x5(n){return Array.isArray(n)?IF(n):n||null}function pA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const LF=n=>n instanceof VF;function k5(n){return(n=>n instanceof O5)(n)?n.value:n.getRawValue()}function P5(n,e){const t=LF(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new d.vHH(1e3,"");if(!i[e])throw new d.vHH(1001,"")}function R5(n,e){LF(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new d.vHH(1002,"")})}class UF{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=A5(this._rawValidators),this._composedAsyncValidatorFn=x5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vw}get invalid(){return this.status===fA}get pending(){return this.status==Iy}get disabled(){return this.status===Bw}get enabled(){return this.status!==Bw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=A5(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=x5(e)}addValidators(e){this.setValidators(y5(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(y5(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(v5(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(v5(e,this._rawAsyncValidators))}hasValidator(e){return aA(this._rawValidators,e)}hasAsyncValidator(e){return aA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Iy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bw,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vw,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vw||this.status===Iy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bw:Vw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Iy,this._hasOwnPendingAsyncValidator=!0;const t=u5(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function SQ(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=LF(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof xQ)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Bw:this.errors?fA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Iy)?Iy:this._anyControlsHaveStatus(fA)?fA:Vw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class O5 extends UF{constructor(e=null,t,i){super(NF(t),FF(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pA(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class VF extends UF{constructor(e,t,i){super(NF(t),FF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){R5(this,e),Object.keys(e).forEach(i=>{P5(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=k5(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class xQ extends UF{constructor(e,t,i){super(NF(t),FF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){R5(this,e),e.forEach((i,r)=>{P5(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>k5(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const MQ={provide:eo,useExisting:(0,d.Gpc)(()=>gA)},jw=(()=>Promise.resolve(null))();let gA=(()=>{class n extends eo{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new VF({},TF(t),IF(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){jw.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Uw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){jw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){jw.then(()=>{const i=this._findContainer(t.path),r=new VF({});(function I5(n,e){MF(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){jw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){jw.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function S5(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Is,10),d.Y36(Uh,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([MQ]),d.qOj]}),n})();const PQ={provide:Vh,useExisting:(0,d.Gpc)(()=>mA)},L5=(()=>Promise.resolve(null))();let mA=(()=>{class n extends Vh{constructor(t,i,r,s,l){super(),this._changeDetectorRef=l,this.control=new O5,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function PF(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Lw?t=s:function DQ(n){return Object.getPrototypeOf(n.constructor)===wg}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function kF(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Uw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){L5.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;L5.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function uA(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(eo,9),d.Y36(Is,10),d.Y36(Uh,10),d.Y36(Wl,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([PQ]),d.qOj,d.TTD]}),n})(),U5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),B5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),iJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[B5]]}),n})(),r4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[iJ]}),n})();const rJ=function(n,e){return{"text-right":n,"text-left":e}},sJ=function(n,e){return{"bg-primary":n,"bg-secondary":e}};function oJ(n,e){if(1&n&&(d.TgZ(0,"div",5)(1,"span",6),d._uU(2),d.qZA(),d.TgZ(3,"p"),d._uU(4),d.qZA(),d.TgZ(5,"span",7),d._uU(6),d.qZA()()),2&n){const t=e.$implicit,i=d.oxw();d.Q6J("ngClass",d.WLB(5,rJ,i.chatService.userLog.uid==t.uid,i.chatService.userLog.uid!=t.uid)),d.xp6(1),d.Q6J("ngClass",d.WLB(8,sJ,i.chatService.userLog.uid==t.uid,i.chatService.userLog.uid!=t.uid)),d.xp6(1),d.Oqu(i.splitUserFromEmail(t.email)),d.xp6(2),d.Oqu(t.message),d.xp6(2),d.Oqu(t.date)}}let s4=(()=>{class n{constructor(t){this.chatService=t,this.message="",this.splitUserFromEmail=i=>{const r=i.split("@")[0];return r.charAt(0).toUpperCase()+r.slice(1)}}ngOnInit(){this.chatService.loadMessages()}sendMessage(){var t;this.message.length>0&&(null===(t=this.chatService.addMessage(this.message))||void 0===t||t.then(()=>{console.log("Message sent")}).catch(()=>{console.log("Error sending message")}).finally(()=>{this.message=""}))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(aQ))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-chat"]],decls:8,vars:2,consts:[[1,"chat-window"],[2,"height","350px"],["id","app-message",1,"app-message"],[3,"ngClass",4,"ngFor","ngForOf"],["type","text","name","message","id","app-message-input","placeholder","Escribe tu mensaje...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[3,"ngClass"],[1,"badge",3,"ngClass"],[1,"date"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"h1"),d._uU(2,"Sala de conversaci\xf3n"),d.qZA(),d._UZ(3,"hr"),d.TgZ(4,"div",1)(5,"div",2),d.YNc(6,oJ,7,11,"div",3),d.qZA(),d.TgZ(7,"input",4),d.NdJ("ngModelChange",function(s){return i.message=s})("keyup.enter",function(){return i.sendMessage()}),d.qZA()()()),2&t&&(d.xp6(6),d.Q6J("ngForOf",i.chatService.chats),d.xp6(1),d.Q6J("ngModel",i.message))},directives:[Un,xs,Lw,SF,mA],styles:[".main-container[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:150px}.puntero[_ngcontent-%COMP%]{cursor:pointer}.chat-window[_ngcontent-%COMP%]{background-color:#fff;padding:10px;width:300px;height:100%;overflow:hidden;border:1px solid #4080ff;border-radius:20px}.app-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:scroll;height:100%;padding:1px}.text-right[_ngcontent-%COMP%]{text-align:right;background-color:#a4c0ff;width:70%;align-self:flex-end;margin:5px 0;border-radius:10px;padding:5px 10px 5px 0}.text-left[_ngcontent-%COMP%]{text-align:left;background-color:#add8e6;width:70%;border-radius:10px;margin:10px 0;padding:5px}.animated[_ngcontent-%COMP%]{animation-duration:1s;animation-fill-mode:both}.fast[_ngcontent-%COMP%]{animation-duration:.3s;animation-fill-mode:both}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{animation-name:fadeIn}.date[_ngcontent-%COMP%]{font-size:xx-small;font-style:italic;margin:0%;padding:0%}p[_ngcontent-%COMP%]{margin:0%;padding:0%}"]}),n})(),o4=(()=>{class n{constructor(t){this.platformId=t,this.particlesLoaded=new d.vpe,this.destroy$=new D.x}ngAfterViewInit(){$o(this.platformId)||(0,Qt.D)(this.particlesInit?this.particlesInit($u):Promise.resolve()).pipe((0,Bn.z)(()=>this.url?this.id?$u.loadJSON(this.id,this.url):$u.loadJSON(this.url):this.options?this.id?$u.load(this.id,this.options):$u.load(this.options):(console.error("You must specify options or url to load tsParticles"),Bc.E)),If(this.destroy$)).subscribe(i=>{this.particlesLoaded.emit(i)})}ngOnDestroy(){this.destroy$.next()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Lbi))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-particles"]],inputs:{options:"options",url:"url",id:"id",particlesInit:"particlesInit"},outputs:{particlesLoaded:"particlesLoaded"},decls:1,vars:1,consts:[[3,"id"]],template:function(t,i){1&t&&d._UZ(0,"div",0),2&t&&d.Q6J("id",i.id)},encapsulation:2}),n})(),aJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),lJ=(()=>{class n{constructor(t){this.router=t,this.id="tsparticles",this.particlesOptions={background:{color:{value:"#000"}},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:100,duration:.4}}},particles:{color:{value:"#ffffff"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.5,width:1},collisions:{enable:!0},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:1,straight:!1},number:{density:{enable:!0,area:800},value:180},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:5}}},detectRetina:!0}}particlesLoaded(t){}particlesInit(t){return(0,$.Z)(function*(){yield BU(t)})()}ngOnInit(){}pickGame(t){this.router.navigateByUrl("home/"+t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Yi))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:16,vars:3,consts:[[2,"position","relative","z-index","1"],[1,"game-image-container"],[3,"click"],["src","../../../assets/ahorcado.png",1,"card-button"],["src","../../../assets/cartas.png",1,"card-button"],["src","../../../assets/preguntados.png",1,"card-button"],["src","../../../assets/snake.png",1,"card-button"],[1,"home-content"],[1,"game"],[3,"id","options","particlesInit","particlesLoaded"]],template:function(t,i){1&t&&(d._UZ(0,"app-header"),d.TgZ(1,"div",0)(2,"div",1)(3,"button",2),d.NdJ("click",function(){return i.pickGame("ahorcado")}),d._UZ(4,"img",3),d.qZA(),d.TgZ(5,"button",2),d.NdJ("click",function(){return i.pickGame("mayormenor")}),d._UZ(6,"img",4),d.qZA(),d.TgZ(7,"button",2),d.NdJ("click",function(){return i.pickGame("preguntados")}),d._UZ(8,"img",5),d.qZA(),d.TgZ(9,"button",2),d.NdJ("click",function(){return i.pickGame("vibora")}),d._UZ(10,"img",6),d.qZA()(),d.TgZ(11,"div",7)(12,"div",8),d._UZ(13,"router-outlet"),d.qZA(),d._UZ(14,"app-chat"),d.qZA()(),d.TgZ(15,"ng-particles",9),d.NdJ("particlesLoaded",function(s){return i.particlesLoaded(s)}),d.qZA()),2&t&&(d.xp6(15),d.Q6J("id",i.id)("options",i.particlesOptions)("particlesInit",i.particlesInit))},directives:[mV,wp,s4,o4],styles:["#myVideo[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;min-width:100%;min-height:100%}.home-content[_ngcontent-%COMP%]{padding:0 30px;display:flex;height:500px;flex-direction:row;justify-content:flex-end}.game-image-container[_ngcontent-%COMP%]{padding:70px 0 30px;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.game[_ngcontent-%COMP%]{display:flex;flex:1;background-color:#fff;height:100%;border-radius:20px;margin-right:50px;border:1px solid #4080FF;align-items:center;justify-content:center}button[_ngcontent-%COMP%]{border-radius:20px}.card-button[_ngcontent-%COMP%]{border-radius:20px;height:150px;width:150px;box-shadow:#00000040 0 14px 28px,#00000038 0 10px 10px}.content[_ngcontent-%COMP%]{height:300px;background-color:#fff;box-shadow:#32325d40 0 50px 100px -20px,#0000004d 0 30px 60px -30px,#0a254059 0 -2px 6px inset;border-radius:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:30px;z-index:100}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}"]}),n})(),uJ=(()=>{class n{constructor(){this.id="tsparticles",this.particlesOptions={background:{color:{value:"#000"}},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:100,duration:.4}}},particles:{color:{value:"#ffffff"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.5,width:1},collisions:{enable:!0},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:2,straight:!1},number:{density:{enable:!0,area:800},value:180},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:5}}},detectRetina:!0}}particlesLoaded(t){console.log(t)}particlesInit(t){return(0,$.Z)(function*(){yield BU(t)})()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-about"]],decls:15,vars:3,consts:[[3,"id","options","particlesInit","particlesLoaded"],[1,"about-container"],[1,"col-7","col-sm-5","col-md-4","col-lg-3","content"],["src","../../../assets/player.png",1,"img-player"]],template:function(t,i){1&t&&(d._UZ(0,"app-header"),d.TgZ(1,"ng-particles",0),d.NdJ("particlesLoaded",function(s){return i.particlesLoaded(s)}),d.qZA(),d.TgZ(2,"div",1)(3,"div",2)(4,"h1"),d._uU(5,"\xa1Hola! Bienvenido, Admin"),d.qZA(),d._UZ(6,"img",3),d.TgZ(7,"h3"),d._uU(8,"Mayor puntaje obtenido: 0"),d.qZA(),d.TgZ(9,"p"),d._uU(10,"Snake game: Mueve con las flechas y recoge las pelotitas que andan sueltas."),d.qZA(),d.TgZ(11,"p"),d._uU(12,"Ten cuidado de no chocarte a ti mismo o las paredes"),d.qZA(),d.TgZ(13,"h3"),d._uU(14,"Desarrollado por Alan Pucci, 4\xbaB"),d.qZA()()()),2&t&&(d.xp6(1),d.Q6J("id",i.id)("options",i.particlesOptions)("particlesInit",i.particlesInit))},directives:[mV,o4],styles:["[_nghost-%COMP%]{height:100%;width:100%}.about-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;position:relative;z-index:1}.img-player[_ngcontent-%COMP%]{height:200px;width:200px}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#fff;border-radius:30px;padding:30px;color:#fff;backdrop-filter:blur(6px) saturate(100%);-webkit-backdrop-filter:blur(6px) saturate(100%);background-color:#fff3;border:1px solid rgba(255,255,255,.3);box-shadow:#32325d40 0 50px 100px -20px,#0000004d 0 30px 60px -30px,#0a254059 0 -2px 6px inset}"]}),n})();const cJ=[{path:"",component:(()=>{class n{constructor(t,i){this.spinner=t,this.login=i,this.signUpFlag=!1,this.email="",this.password="",this.passwordRepeat=""}ngOnInit(){}handleSignUp(){this.resetFields(),this.signUpFlag=!0}handleSignIn(){this.resetFields(),this.signUpFlag=!1}resetFields(){this.email="",this.password="",this.passwordRepeat=""}signIn(){this.login.signIn(this.email,this.password)}signUp(){this.login.signUp(this.email,this.password,this.passwordRepeat)}fastSignIn(t){this.email=t+"@gmail.com",this.password="123456"}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(wR),d.Y36(WD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:44,vars:6,consts:[["autoplay","","muted","","loop","","id","myVideo"],["src","../../../assets/login.mp4","type","video/mp4"],[1,"body"],["id","container",3,"className"],[1,"form-container","sign-up-container"],["action","#"],["type","email","placeholder","Email","name","email",3,"ngModel","ngModelChange"],["type","password","placeholder","Password","name","password",3,"ngModel","ngModelChange"],["type","password","placeholder","Repetir password","name","passwordRepeat",3,"ngModel","ngModelChange"],[1,"filled",3,"click"],[1,"form-container","sign-in-container"],[1,"rounded-button-container"],[1,"rounded-button",3,"click"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-left"],["id","signIn",1,"ghost",3,"click"],[1,"overlay-panel","overlay-right"],["id","signUp",1,"ghost",3,"click"]],template:function(t,i){1&t&&(d.TgZ(0,"video",0),d._UZ(1,"source",1),d.qZA(),d.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"h1"),d._uU(7,"Crear cuenta"),d.qZA(),d.TgZ(8,"input",6),d.NdJ("ngModelChange",function(s){return i.email=s}),d.qZA(),d.TgZ(9,"input",7),d.NdJ("ngModelChange",function(s){return i.password=s}),d.qZA(),d.TgZ(10,"input",8),d.NdJ("ngModelChange",function(s){return i.passwordRepeat=s}),d.qZA(),d.TgZ(11,"button",9),d.NdJ("click",function(){return i.signUp()}),d._uU(12,"Registrar"),d.qZA()()(),d.TgZ(13,"div",10)(14,"form",5)(15,"h1"),d._uU(16,"Iniciar sesi\xf3n"),d.qZA(),d.TgZ(17,"div",11)(18,"button",12),d.NdJ("click",function(){return i.fastSignIn("admin")}),d._uU(19,"Admin"),d.qZA(),d.TgZ(20,"button",12),d.NdJ("click",function(){return i.fastSignIn("usuario")}),d._uU(21,"Usuario"),d.qZA(),d.TgZ(22,"button",12),d.NdJ("click",function(){return i.fastSignIn("tecnico")}),d._uU(23,"Tecnico"),d.qZA()(),d.TgZ(24,"input",6),d.NdJ("ngModelChange",function(s){return i.email=s}),d.qZA(),d.TgZ(25,"input",7),d.NdJ("ngModelChange",function(s){return i.password=s}),d.qZA(),d.TgZ(26,"button",9),d.NdJ("click",function(){return i.signIn()}),d._uU(27,"Ingresar"),d.qZA()()(),d.TgZ(28,"div",13)(29,"div",14)(30,"div",15)(31,"h1"),d._uU(32,"\xbfYa ten\xe9s una cuenta?"),d.qZA(),d.TgZ(33,"p"),d._uU(34,"Ingres\xe1 tus credenciales para iniciar sesi\xf3n"),d.qZA(),d.TgZ(35,"button",16),d.NdJ("click",function(){return i.handleSignIn()}),d._uU(36,"Iniciar sesi\xf3n"),d.qZA()(),d.TgZ(37,"div",17)(38,"h1"),d._uU(39,"\xbfTodav\xeda no estas registrado?"),d.qZA(),d.TgZ(40,"p"),d._uU(41,"Crea tu cuenta en muy pocos pasos"),d.qZA(),d.TgZ(42,"button",18),d.NdJ("click",function(){return i.handleSignUp()}),d._uU(43,"Crear cuenta"),d.qZA()()()()()()),2&t&&(d.xp6(3),d.Q6J("className",i.signUpFlag?"container right-panel-active":"container"),d.xp6(5),d.Q6J("ngModel",i.email),d.xp6(1),d.Q6J("ngModel",i.password),d.xp6(1),d.Q6J("ngModel",i.passwordRepeat),d.xp6(14),d.Q6J("ngModel",i.email),d.xp6(1),d.Q6J("ngModel",i.password))},directives:[U5,E5,gA,Lw,SF,mA],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,800";*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{background:#f6f5f7;display:flex;justify-content:center;align-items:center;flex-direction:column;font-family:Montserrat,sans-serif;height:100vh;margin:-20px 0 50px}.body[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}h1[_ngcontent-%COMP%]{font-weight:700;margin:0}h2[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{font-size:14px;font-weight:100;line-height:20px;letter-spacing:.5px;margin:20px 0 30px}span[_ngcontent-%COMP%]{font-size:12px}a[_ngcontent-%COMP%]{color:#333;font-size:14px;text-decoration:none;margin:15px 0}.rounded-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}.rounded-button[_ngcontent-%COMP%]{padding:10px;background-color:transparent;color:#ff4b2b}button[_ngcontent-%COMP%]{border-radius:20px;background-color:#ff4b2b;border:1px solid #FF4B2B;color:#fff;font-size:12px;font-weight:700;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in}.filled[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #FF4B2B;background-color:#ff4b2b;color:#fff;font-size:12px;font-weight:700;padding:12px 45px;letter-spacing:1px;text-transform:uppercase;transition:transform 80ms ease-in}button[_ngcontent-%COMP%]:active{transform:scale(.95)}button[_ngcontent-%COMP%]:focus{outline:none}button.ghost[_ngcontent-%COMP%]{background-color:transparent;padding:12px 45px;border:1px solid #FFF}form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:space-evenly;flex-direction:column;padding:50px;height:100%;text-align:center}input[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:12px 15px;margin:8px 0;width:100%}.container[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 14px 28px #00000040,0 10px 10px #00000038;position:relative;overflow:hidden;width:768px;max-width:100%;min-height:480px}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in-container[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container.right-panel-active[_ngcontent-%COMP%]   .sign-in-container[_ngcontent-%COMP%]{transform:translate(100%)}.sign-up-container[_ngcontent-%COMP%]{left:0;width:50%;opacity:0;z-index:1}.container.right-panel-active[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:show .6s}@keyframes show{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:transform .6s ease-in-out;z-index:100}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-container[_ngcontent-%COMP%]{transform:translate(-100%)}.overlay[_ngcontent-%COMP%]{background:#FF416C;background:linear-gradient(to right,#FF4B2B,#FF416C);background-repeat:no-repeat;background-size:cover;background-position:0 0;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:transform .6s ease-in-out}.container.right-panel-active[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{transform:translate(50%)}.overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;top:0;height:100%;width:50%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-left[_ngcontent-%COMP%]{transform:translate(-20%)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-left[_ngcontent-%COMP%]{transform:translate(0)}.overlay-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-right[_ngcontent-%COMP%]{transform:translate(20%)}.social-container[_ngcontent-%COMP%]{margin:20px 0}.social-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #DDDDDD;border-radius:50%;display:inline-flex;justify-content:center;align-items:center;margin:0 5px;height:40px;width:40px}footer[_ngcontent-%COMP%]{background-color:#222;color:#fff;font-size:14px;bottom:0;position:fixed;left:0;right:0;text-align:center;z-index:999}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3c97bf;text-decoration:none}#myVideo[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;min-width:100%;min-height:100%}']}),n})()}];let dJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ap.forChild(cJ)],Ap]}),n})(),a4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ma,dJ,r4,hV]]}),n})();function hJ(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d._UZ(1,"img",3),d.TgZ(2,"h1"),d._uU(3,"Juego de mayor o menor"),d.qZA(),d.TgZ(4,"button",4),d.NdJ("click",function(){return d.CHM(t),d.oxw().start()}),d._uU(5,"Comenzar"),d.qZA()()}}function fJ(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",5)(1,"div",6)(2,"h1"),d._uU(3,"Carta actual"),d.qZA(),d._UZ(4,"div",6),d.qZA(),d.TgZ(5,"div",7)(6,"h3"),d._uU(7,"\xbfMayor o menor?"),d.qZA(),d.TgZ(8,"button",4),d.NdJ("click",function(){return d.CHM(t),d.oxw().apuestaMayor()}),d._uU(9,"Mayor"),d.qZA(),d.TgZ(10,"button",4),d.NdJ("click",function(){return d.CHM(t),d.oxw().apuestaMenor()}),d._uU(11,"Menor"),d.qZA(),d._UZ(12,"br"),d.TgZ(13,"h3"),d._uU(14),d.qZA()()()}if(2&n){const t=d.oxw();d.xp6(4),d.vpz("background: url(../../../../assets/cartas.jpeg); width: 225px; height: 315px; background-position: right ",t.right,"px bottom ",t.bottom,"px;"),d.xp6(10),d.hij("Total puntaje: ",10*t.aciertos,"")}}let pJ=(()=>{class n{constructor(){this.itemImageUrl="../../../assets/cartas.jpg",this.cartas=new Array,this.right=0,this.bottom=0,this.aciertos=0,this.numeroAnterior=0,this.beginGame=!1,this.getSpriteStyle=function(t){var i=Math.trunc(t/13);return console.log("background-position: "+t%13*225+" "+315*i+"px;"),"background-position: "+t%13*225+" "+315*i+"px;"}}ngOnInit(){var t=Math.trunc(52*Math.random());this.numeroAnterior=t%13,this.right=t%13*225,this.bottom=315*Math.trunc(t/13)}start(){this.beginGame=!0}apuestaMayor(){var t=Math.trunc(52*Math.random());this.numeroAnterior<=t%13?this.aciertos++:this.aciertos=0,this.numeroAnterior=t%13,this.right=t%13*225,this.bottom=315*Math.trunc(t/13)}apuestaMenor(){var t=Math.trunc(52*Math.random());this.numeroAnterior>=t%13?this.aciertos++:this.aciertos=0,this.right=t%13*225,this.numeroAnterior=t%13,this.bottom=315*Math.trunc(t/13)}cartaRandom(){document.getElementsByClassName("carta");var i=Math.trunc(52*Math.random());this.right=i%13*225,this.bottom=315*Math.trunc(i/13),this.numeroAnterior=i%13}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-higherlower"]],decls:3,vars:2,consts:[["class","higherlower-start",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"higherlower-start"],["src","../../../../assets/cartas.png","width","200px",1,"preguntados-image"],["mat-raised-button","","color","primary",3,"click"],[1,"higher-lower"],[1,"carta"],[1,"interfaz"]],template:function(t,i){if(1&t&&(d.YNc(0,hJ,6,0,"div",0),d.YNc(1,fJ,15,5,"ng-template",null,1,d.W1O)),2&t){const r=d.MAs(2);d.Q6J("ngIf",!i.beginGame)("ngIfElse",r)}},directives:[xn,rp],styles:["[_nghost-%COMP%]{height:100%;width:100%}.higherlower-start[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-around;align-items:center}h3[_ngcontent-%COMP%]{color:#000}element.syle[_ngcontent-%COMP%]{background-position-x:225px;background-position-y:315px}button[_ngcontent-%COMP%]{height:40px;width:200px;margin:20px}.interfaz[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;color:#fff}.carta[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.higher-lower[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}"]}),n})();const _A=["United Arab Emirates","Andorra","Afghanistan","Antigua And Barbuda","Antigua And Barbuda","Anguilla","Albania","Armenia","Angola","Antarctica","Argentina","American Samoa","Austria","Australia","Aruba","\xe5land Islands","Azerbaijan","Bosnia And Herzegovina","Barbados","Bangladesh","Belgium","Burkina Faso","Bulgaria","Bahrain","Burundi","Benin","Saint Barth\xe9lemy","Bermuda","Brunei Darussalam","Bolivia","Bonaire","Brazil","The Bahamas","Bhutan","Bouvet Island","Botswana","Belarus","Belize","The Cocos Islands","Democratic Republic Of Congo","The Central African Republic","Congo","Switzerland","C\xf4te D'ivoire","The Cook Islands","Chile","Cameroon","China","Colombia","Costa Rica","Cuba","Cabo Verde","Cura\xe7ao","Christmas Island","Cyprus","Czechia","Germany","Djibouti","Denmark","Dominica","Dominican Republic","Algeria","Ecuador","Estonia","Egypt","Western Sahara","Eritrea","Spain","Ethiopia","European Union","Finland","Fiji","The Falkland Islands","The Federated States Of Micronesia","The Faroe Islands","France","Gabon","England","Northern Ireland","Scotland","Wales","The United Kingdom Of Great Britain And Northern Ireland","Grenada","Georgia","French Guiana","Guernsey","Ghana","Gibraltar","Greenland","Gambia","Guinea","Guadeloupe","Equatorial Guinea","Greece","South Georgia And The South Sandwich Islands","Guatemala","Guam","Guinea-bissau","Guyana","Hong Kong","Heard Island And Mcdonald Islands","Honduras","Croatia","Haiti","Hungary","Indonesia","Ireland","Israel","Isle Of Man","India","The British Indian Ocean Territory","Iraq","Iran","Iceland","Italy","Jersey","Jamaica","Jordan","Japan","Kenya","Kyrgyzstan","Cambodia","Kiribati","The Comoros","Saint Kitts And Nevis","The Democratic People's Republic Of Korea","The Republic Of Korea","Kuwait","The Cayman Islands","Kazakhstan","The Lao People's Democratic Republic","Lebanon","Saint Lucia","Liechtenstein","Sri Lanka","Liberia","Lesotho","Lithuania","Luxembourg","Latvia","Libya","Morocco","Monaco","The Republic Of Moldova","Montenegro","Saint Martin","Madagascar","The Marshall Islands","Republic Of North Macedonia","Mali","Myanmar","Mongolia","Macao","The Northern Mariana Islands","Martinique","Mauritania","Montserrat","Malta","Mauritius","Maldives","Malawi","Mexico","Malaysia","Mozambique","Namibia","New Caledonia","Niger","Norfolk Island","Nigeria","Nicaragua","Netherlands","Norway","Nepal","Nauru","Niue","New Zealand","Oman","Panama","Peru","French Polynesia","Papua New Guinea","Philippines","Pakistan","Poland","Saint Pierre And Miquelon","Pitcairn","Puerto Rico","Palestine","Portugal","Palau","Paraguay","Qatar","R\xe9union","Romania","Serbia","Russian Federation","Rwanda","Saudi Arabia","Solomon Islands","Seychelles","Sudan","Sweden","Singapore","Saint Helena","Slovenia","Svalbard And Jan Mayen","Slovakia","Sierra Leone","San Marino","Senegal","Somalia","Suriname","South Sudan","Sao Tome And Principe","El Salvador","Sint Maarten","Syrian Arab Republic","Eswatini","The Turks And Caicos Islands","Chad","The French Southern Territories","Togo","Thailand","Tajikistan","Tokelau","Timor-leste","Turkmenistan","Tunisia","Tonga","Turkey","Trinidad And Tobago","Tuvalu","Taiwan","United Republic Of Tanzania","Ukraine","Uganda","The United States Minor Outlying Islands","The United States Of America","Uruguay","Uzbekistan","The Holy See","Saint Vincent And The Grenadines","Venezuela","British Virgin Islands","Us Virgin Islands","Viet Nam","Vanuatu","Wallis And Futuna","Samoa","Kosovo","Yemen","Mayotte","South Africa","Zambia","Zimbabwe"];function gJ(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d._UZ(1,"img",3)(2,"img",4),d.TgZ(3,"button",5),d.NdJ("click",function(){return d.CHM(t),d.oxw().start()}),d._uU(4,"Comenzar"),d.qZA()()}}function mJ(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2)(1,"h3",6),d._uU(2),d.qZA(),d._UZ(3,"img",7),d.TgZ(4,"h1"),d._uU(5,"\xbfDe qu\xe9 pa\xeds es la bandera?"),d.qZA(),d.TgZ(6,"div")(7,"div")(8,"button",5),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return r.answer(r.flags[0])}),d._uU(9),d.qZA(),d.TgZ(10,"button",5),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return r.answer(r.flags[1])}),d._uU(11),d.qZA()(),d.TgZ(12,"div")(13,"button",5),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return r.answer(r.flags[2])}),d._uU(14),d.qZA(),d.TgZ(15,"button",5),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return r.answer(r.flags[3])}),d._uU(16),d.qZA()()(),d.TgZ(17,"h3"),d._uU(18),d.qZA()()}if(2&n){const t=d.oxw();d.xp6(2),d.hij("Intentos restantes: ",t.lives,""),d.xp6(1),d.Q6J("src",t.flagImage,d.LSH),d.xp6(6),d.Oqu(t.flags[0]),d.xp6(2),d.Oqu(t.flags[1]),d.xp6(3),d.Oqu(t.flags[2]),d.xp6(2),d.Oqu(t.flags[3]),d.xp6(2),d.hij("Puntaje: ",t.score,"")}}let _J=(()=>{class n{constructor(t){this.http=t,this.beginGame=!1,this.flags=[],this.correctFlag="",this.score=0,this.lives=3}ngOnInit(){this.getFlag()}start(){this.score=0,this.lives=3,this.beginGame=!0}shuffle(){let i,t=this.flags.length;for(;0!=t;)i=Math.floor(Math.random()*t),t--,[this.flags[t],this.flags[i]]=[this.flags[i],this.flags[t]]}getFlag(){this.flags=[];const t=_A[Math.floor(Math.random()*_A.length)];let i;for(this.flags.push(t),this.correctFlag=t;this.flags.length<4;){do{i=_A[Math.floor(Math.random()*_A.length)]}while(t===i);this.flags.push(i)}this.shuffle(),this.http.get("http://countryflagsapi.com/png/"+t,{responseType:"blob"}).subscribe(r=>{this.createImageFromBlob(r)})}answer(t){t===this.correctFlag?(alert("correcto"),this.getFlag(),this.score+=10):(alert("incorrecto"),this.lives--,0===this.lives&&(this.beginGame=!1))}createImageFromBlob(t){let i=new FileReader;i.addEventListener("load",()=>{this.flagImage=i.result},!1),t&&i.readAsDataURL(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(vo))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-preguntados"]],decls:3,vars:2,consts:[["class","preguntados",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"preguntados"],["src","../../../../assets/preguntados.png",1,"preguntados-image"],["src","../../../../assets/preguntados-title.png",1,"preguntados-title"],["mat-raised-button","","color","primary",3,"click"],[2,"align-self","flex-end"],[3,"src"]],template:function(t,i){if(1&t&&(d.YNc(0,gJ,5,0,"div",0),d.YNc(1,mJ,19,7,"ng-template",null,1,d.W1O)),2&t){const r=d.MAs(2);d.Q6J("ngIf",!i.beginGame)("ngIfElse",r)}},directives:[xn,rp],styles:["[_nghost-%COMP%]{width:100%;height:100%}.preguntados-image[_ngcontent-%COMP%]{height:200px;width:200px}.preguntados[_ngcontent-%COMP%]{width:100%;height:100%;padding:20px;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}button[_ngcontent-%COMP%]{margin:10px;width:300px}"]}),n})();class bJ{constructor(e){this.EXPANSION_RATE=1,this.score=0,this.snake=e,this.food=this.getRandomFoodPosition()}update(){this.snake.onSnake(this.food)&&(this.snake.expandSnake(this.EXPANSION_RATE),this.food=this.getRandomFoodPosition(),this.addScore=1)}draw(e){const t=document.createElement("div");t.style.gridRowStart=this.food.y,t.style.gridColumnStart=this.food.x,t.classList.add("food"),e.appendChild(t)}getRandomFoodPosition(){let e;for(;null==e||this.snake.onSnake(e);)e={x:Math.floor(21*Math.random())+1,y:Math.floor(21*Math.random())+1};return e}set addScore(e){this.score+=e}get currentScore(){return this.score}}class wJ{constructor(){this.inputDirection={x:0,y:0},this.lastInputDirection={x:0,y:0}}getInputs(){window.addEventListener("keydown",e=>{switch(this.setDirection(e.key),e.code){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Space":e.preventDefault()}})}setDirection(e){switch(e){case"ArrowUp":if(0!==this.lastInputDirection.y)break;this.inputDirection={x:0,y:-1};break;case"ArrowDown":if(0!==this.lastInputDirection.y)break;this.inputDirection={x:0,y:1};break;case"ArrowLeft":if(0!==this.lastInputDirection.x)break;this.inputDirection={x:-1,y:0};break;case"ArrowRight":if(0!==this.lastInputDirection.x)break;this.inputDirection={x:1,y:0}}}getInputDirection(){return this.lastInputDirection=this.inputDirection,this.inputDirection}}class EJ{constructor(){this.snakeBody=[{x:11,y:11}],this.newSegments=0,this.input=new wJ}listenToInputs(){this.input.getInputs()}update(){this.addSegments();const e=this.input.getInputDirection();for(let t=this.snakeBody.length-2;t>=0;t--)this.snakeBody[t+1]=Object.assign({},this.snakeBody[t]);this.snakeBody[0].x+=e.x,this.snakeBody[0].y+=e.y}draw(e){this.snakeBody.forEach(t=>{const i=document.createElement("div");i.style.gridRowStart=t.y.toString(),i.style.gridColumnStart=t.x.toString(),i.classList.add("snake"),e.appendChild(i)})}expandSnake(e){this.newSegments+=e}getSnakeHead(){return this.snakeBody[0]}snakeIntersection(){return this.onSnake(this.snakeBody[0],{ignoreHead:!0})}onSnake(e,{ignoreHead:t=!1}={}){return this.snakeBody.some((i,r)=>(!t||0!==r)&&this.equalPositions(i,e))}equalPositions(e,t){return e.x===t.x&&e.y===t.y}addSegments(){for(let e=0;e<this.newSegments;e++)this.snakeBody.push(Object.assign({},this.snakeBody[this.snakeBody.length-1]));this.newSegments=0}}function CJ(n,e){1&n&&(d.TgZ(0,"div",12)(1,"h1"),d._uU(2,"Game Over"),d.qZA()())}const TJ=[{path:"",pathMatch:"full",redirectTo:"/login"},{path:"login",component:a4},{path:"about",component:uJ},{path:"chat",component:s4},{path:"home",component:lJ,canActivate:[(()=>{class n{constructor(t,i){this.auth=t,this.router=i}canActivate(t,i){var r;return!!(null===(r=this.auth.user)||void 0===r?void 0:r.user)||this.router.navigateByUrl("")}canDeactivate(t,i,r,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(WD),d.LFG(Yi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()],children:[{path:"",pathMatch:"full",redirectTo:"/home/ahorcado"},{path:"ahorcado",component:v0},{path:"mayormenor",component:pJ},{path:"preguntados",component:_J},{path:"vibora",component:(()=>{class n{constructor(){this.lastRenderTime=0,this.gameOver=!1,this.SNAKE_SPEED=1,this.snake=new EJ,this.food=new bJ(this.snake)}ngOnInit(){this.snake.listenToInputs()}ngAfterViewInit(){this.gameBoard=document.querySelector(".game-board"),window.requestAnimationFrame(this.start.bind(this))}start(t){if(this.gameOver)return console.log("Game Over");window.requestAnimationFrame(this.start.bind(this)),!((t-this.lastRenderTime)/1e3<1/this.snakeSpeed)&&(this.lastRenderTime=t,this.update(),this.draw())}get snakeSpeed(){const t=this.food.currentScore;return t<10?4:t>10&&t<15?5:t>15&&t<20?6:7}dpadMovement(t){this.snake.input.setDirection(t)}update(){this.snake.update(),this.food.update(),this.checkDeath()}draw(){this.gameBoard.innerHTML="",this.snake.draw(this.gameBoard),this.food.draw(this.gameBoard)}checkDeath(){this.gameOver=function vJ(n){return n.x<1||n.x>21||n.y<1||n.y>21}(this.snake.getSnakeHead())||this.snake.snakeIntersection(),this.gameOver&&this.gameBoard.classList.add("blur")}restart(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-snake"]],decls:17,vars:2,consts:[[1,"container"],[1,"score-card"],[1,"score-board"],["mat-raised-button","","color","primary",3,"click"],[1,"game-board"],["class","game-over",4,"ngIf"],[1,"mobile-controls"],[1,"o-pad"],[1,"up",3,"click"],[1,"right",3,"click"],[1,"down",3,"click"],[1,"left",3,"click"],[1,"game-over"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),d._uU(4,"Puntaje"),d.qZA(),d.TgZ(5,"h3"),d._uU(6),d.qZA()(),d.TgZ(7,"button",3),d.NdJ("click",function(){return i.restart()}),d._uU(8," Reiniciar "),d.qZA()(),d._UZ(9,"div",4),d.YNc(10,CJ,3,0,"div",5),d.TgZ(11,"div",6)(12,"nav",7)(13,"a",8),d.NdJ("click",function(){return i.dpadMovement("ArrowUp")}),d.qZA(),d.TgZ(14,"a",9),d.NdJ("click",function(){return i.dpadMovement("ArrowRight")}),d.qZA(),d.TgZ(15,"a",10),d.NdJ("click",function(){return i.dpadMovement("ArrowDown")}),d.qZA(),d.TgZ(16,"a",11),d.NdJ("click",function(){return i.dpadMovement("ArrowLeft")}),d.qZA()()()()),2&t&&(d.xp6(6),d.Oqu(null==i.food?null:i.food.currentScore),d.xp6(4),d.Q6J("ngIf",i.gameOver))},directives:[rp,xn],styles:['[_nghost-%COMP%]{width:100%;height:100%}.container[_ngcontent-%COMP%]{margin:0;height:100%;width:100%;padding:20px;display:flex;justify-content:space-evenly}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]{display:none;flex:1}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;border-radius:50%;overflow:hidden}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]:after{content:"";position:absolute;z-index:2;width:20%;height:20%;top:50%;left:50%;background:#ddd;border-radius:50%;transform:translate(-50%,-50%);display:none;transition:all .25s;cursor:pointer}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]:hover:after{width:30%;height:30%}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;position:absolute;-webkit-tap-highlight-color:rgba(255,255,255,0);width:50%;height:50%;text-align:center;transform:rotate(45deg);border:1px solid rgba(0,0,0,.2)}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";position:absolute;width:60%;height:60%;top:50%;left:50%;background:rgba(255,255,255,.1);border-radius:50%;transform:translate(-50%,-50%);transition:all .25s;cursor:pointer;display:none}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0;border-radius:5px;border-style:solid;transform:translate(-50%,-50%) rotate(-45deg);transition:all .25s}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.up[_ngcontent-%COMP%]{bottom:50%;left:50%;transform:translate(-50%,-20%) rotate(45deg);border-top-left-radius:50%;z-index:1}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.up[_ngcontent-%COMP%]:hover{background:linear-gradient(315deg,rgba(255,255,255,0) 15%,rgba(255,255,255,.4) 100%)}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.up[_ngcontent-%COMP%]:before{left:57%;top:57%}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.up[_ngcontent-%COMP%]:after{left:53%;top:53%;border-width:0 var(--tri-lrg-a) var(--tri-lrg-b) var(--tri-lrg-a);border-color:transparent transparent var(--arrowcolor) transparent}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.up[_ngcontent-%COMP%]:active:after{border-bottom-color:#333}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.down[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,20%) rotate(45deg);border-bottom-right-radius:50%;z-index:1}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.down[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgba(255,255,255,0) 15%,rgba(255,255,255,.4) 100%)}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.down[_ngcontent-%COMP%]:before{left:43%;top:43%}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.down[_ngcontent-%COMP%]:after{left:47%;top:47%;border-width:var(--tri-lrg-b) var(--tri-lrg-a) 0px var(--tri-lrg-a);border-color:var(--arrowcolor) transparent transparent transparent}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.down[_ngcontent-%COMP%]:active:after{border-top-color:#333}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.left[_ngcontent-%COMP%]{top:50%;right:50%;transform:translate(-20%,-50%) rotate(45deg);border-bottom-left-radius:50%;border:none}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.left[_ngcontent-%COMP%]:hover{background:linear-gradient(225deg,rgba(255,255,255,0) 15%,rgba(255,255,255,.4) 100%)}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.left[_ngcontent-%COMP%]:before{left:57%;top:43%}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.left[_ngcontent-%COMP%]:after{left:53%;top:47%;border-width:var(--tri-lrg-a) var(--tri-lrg-b) var(--tri-lrg-a) 0;border-color:transparent var(--arrowcolor) transparent transparent}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.left[_ngcontent-%COMP%]:active:after{border-right-color:#333}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.right[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(20%,-50%) rotate(45deg);border-top-right-radius:50%;border:none}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.right[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,rgba(255,255,255,0) 15%,rgba(255,255,255,.4) 100%)}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.right[_ngcontent-%COMP%]:before{left:43%;top:57%}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.right[_ngcontent-%COMP%]:after{left:47%;top:53%;border-width:var(--tri-lrg-a) 0 var(--tri-lrg-a) var(--tri-lrg-b);border-color:transparent transparent transparent var(--arrowcolor)}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a.right[_ngcontent-%COMP%]:active:after{border-left-color:#333}.container[_ngcontent-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .o-pad[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{left:50%;top:50%}.container[_ngcontent-%COMP%]   .score-card[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:space-between;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]   .score-card[_ngcontent-%COMP%]   .score-board[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]   .score-card[_ngcontent-%COMP%]   .restart-button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:20px;height:40px;font-weight:700;display:flex;justify-content:center;align-items:center;background-color:var(--board-color);cursor:pointer;z-index:99}.container[_ngcontent-%COMP%]   .game-board[_ngcontent-%COMP%]{background-color:var(--board-color);width:600px;height:100%;display:grid;align-self:center;grid-template-rows:repeat(21,1fr);grid-template-columns:repeat(21,1fr)}.container[_ngcontent-%COMP%]   .game-board.blur[_ngcontent-%COMP%]{filter:blur(4px)}.game-over[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:center;align-items:center;height:100%;width:100%;color:var(--snake-color);z-index:1;-webkit-text-stroke-width:1px;-webkit-text-stroke-color:black}.game-over[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em}@media only screen and (max-width: 1025px){.container[_ngcontent-%COMP%]{flex-direction:column}.container[_ngcontent-%COMP%]   .score-card[_ngcontent-%COMP%]{flex-direction:row!important}.mobile-controls[_ngcontent-%COMP%]{margin-top:10px;display:flex!important;justify-content:center;align-items:center;width:100%}}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_ngcontent-%COMP%]:root{--background-color: #282846;--board-color: #d8ebe4;--snake-color: #fed049;--food-color: #007580;--dpad-radius: 17%;--dpad-radius-in: 20%;--dpad-fg: #ddd;--dpad-fg-hover: #eee;--dpad-bg: #fff;--arrowcolor: #aaa;--tri-sml-a: 13px;--tri-sml-b: 19px;--tri-lrg-a: 13px;--tri-lrg-b: 19px;--dpad-arrow-shift: 5px;--dpad-arrow-move: 35%}body[_ngcontent-%COMP%]{height:100%;width:100%;margin:0;background-color:var(--background-color);font-family:Anton,sans-serif}.snake[_ngcontent-%COMP%]{background-color:var(--snake-color);border:.25vmin solid black;transition:all .3ms ease-in}.food[_ngcontent-%COMP%]{border-radius:50%;background-color:var(--food-color);border:.25vmin solid black;transition:all .3ms ease-in}']}),n})()}]},{path:"**",component:II}];let IJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ap.forRoot(TJ)],Ap]}),n})(),DJ=(()=>{class n{constructor(){this.title="tp-labiv"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[["type","ball-scale-multiple","size","medium",3,"fullScreen"]],template:function(t,i){1&t&&d._UZ(0,"ngx-spinner",0)(1,"router-outlet"),2&t&&d.Q6J("fullScreen",!1)},directives:[pq,wp],styles:[""]}),n})(),SJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[mi],mi]}),n})(),RJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[mi],mi]}),n})();const h4="firebasestorage.googleapis.com",f4="storageBucket";class Di extends L.ZR{constructor(e,t){super(WF(e),`Firebase Storage: ${t} (${WF(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Di.prototype)}_codeEquals(e){return WF(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function WF(n){return"storage/"+n}function ZF(){return new Di("unknown","An unknown error occurred, please check the error payload for server response.")}function p4(){return new Di("canceled","User canceled the upload/download.")}function g4(){return new Di("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Dy(n){return new Di("invalid-argument",n)}function m4(){return new Di("app-deleted","The Firebase app was deleted.")}function _4(n){return new Di("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zw(n,e){return new Di("invalid-format","String does not match format '"+n+"': "+e)}function Gw(n){throw new Di("internal-error","Internal error: "+n)}class Ds{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ds.makeFromUrl(e,t)}catch(r){return new Ds(e,"")}if(""===i.path)return i;throw function GJ(n){return new Di("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(Ne){Ne.path_=decodeURIComponent(Ne.path)}const C=t.replace(/[.]/g,"\\."),Ue=[{regex:c,indices:{bucket:1,path:3},postModify:function s(Ne){"/"===Ne.path.charAt(Ne.path.length-1)&&(Ne.path_=Ne.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${C}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===h4?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let Ne=0;Ne<Ue.length;Ne++){const at=Ue[Ne],lt=at.regex.exec(e);if(lt){let An=lt[at.indices.path];An||(An=""),i=new Ds(lt[at.indices.bucket],An),at.postModify(i);break}}if(null==i)throw function zJ(n){return new Di("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class ZJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function wA(n){return"string"==typeof n||n instanceof String}function y4(n){return KF()&&n instanceof Blob}function KF(){return"undefined"!=typeof Blob}function YF(n,e,t,i){if(i<e)throw Dy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Dy(`Invalid value for '${n}'. Expected ${t} or less.`)}function ud(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function v4(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Bh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Bh||(Bh={})),Bh))();class eX{constructor(e,t,i,r,s,l,c,f,y,w,C){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=y,this.progressCallback_=w,this.connectionFactory_=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,l=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());!function QJ(n){return void 0!==n}(f)?s():s(f)}catch(f){l(f)}else if(null!==c){const f=ZF();f.serverResponse=c.getErrorText(),l(this.errorCallback_?this.errorCallback_(c,f):f)}else l(r.canceled?this.appDelete_?m4():p4():function HJ(){return new Di("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new EA(!1,null,!0)):this.backoffId_=function KJ(n,e,t){let i=1,r=null,s=null,l=!1,c=0;function f(){return 2===c}let y=!1;function w(...Q){y||(y=!0,e.apply(null,Q))}function C(Q){r=setTimeout(()=>{r=null,n(k,f())},Q)}function S(){s&&clearTimeout(s)}function k(Q,...pe){if(y)return void S();if(Q)return S(),void w.call(null,Q,...pe);if(f()||l)return S(),void w.call(null,Q,...pe);let Ue;i<64&&(i*=2),1===c?(c=2,Ue=0):Ue=1e3*(i+Math.random()),C(Ue)}let R=!1;function j(Q){R||(R=!0,S(),!y&&(null!==r?(Q||(c=2),clearTimeout(r),C(0)):Q||(c=1)))}return C(0),s=setTimeout(()=>{l=!0,j(!0)},t),j}((i,r)=>{if(r)return void i(!1,new EA(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const c=s.getErrorCode()===Bh.NO_ERROR,f=s.getStatus();if(!c||this.isRetryStatusCode_(f)){const w=s.getErrorCode()===Bh.ABORT;return void i(!1,new EA(!1,null,w))}const y=-1!==this.successCodes_.indexOf(f);i(!0,new EA(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function YJ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class EA{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function aX(...n){const e=function oX(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(KF())return new Blob(n);throw new Di("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ca={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class QF{constructor(e,t){this.data=e,this.contentType=t||null}}function JF(n,e){switch(n){case Ca.RAW:return new QF(b4(e));case Ca.BASE64:case Ca.BASE64URL:return new QF(w4(n,e));case Ca.DATA_URL:return new QF(function dX(n){const e=new E4(n);return e.base64?w4(Ca.BASE64,e.rest):function cX(n){let e;try{e=decodeURIComponent(n)}catch(t){throw zw(Ca.DATA_URL,"Malformed data URL.")}return b4(e)}(e.rest)}(e),function hX(n){return new E4(n).contentType}(e))}throw ZF()}function b4(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function w4(n,e){switch(n){case Ca.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw zw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ca.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw zw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function uX(n){return atob(n)}(e)}catch(r){throw zw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class E4{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw zw(Ca.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function fX(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Qu{constructor(e,t){let i=0,r="";y4(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(y4(this.data_)){const r=function lX(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Qu(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Qu(i,!0)}}static getBlob(...e){if(KF()){const t=e.map(i=>i instanceof Qu?i.data_:i);return new Qu(aX.apply(null,t))}{const t=e.map(l=>wA(l)?JF(Ca.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)r[s++]=l[c]}),new Qu(r,!0)}}uploadData(){return this.data_}}function XF(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function XJ(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function C4(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function mX(n,e){return e}class to{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||mX}}let CA=null;function $w(){if(CA)return CA;const n=[];n.push(new to("bucket")),n.push(new to("generation")),n.push(new to("metageneration")),n.push(new to("name","fullPath",!0));const t=new to("name");t.xform=function e(s,l){return function _X(n){return!wA(n)||n.length<2?n:C4(n)}(l)},n.push(t);const r=new to("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new to("timeCreated")),n.push(new to("updated")),n.push(new to("md5Hash",null,!0)),n.push(new to("cacheControl",null,!0)),n.push(new to("contentDisposition",null,!0)),n.push(new to("contentEncoding",null,!0)),n.push(new to("contentLanguage",null,!0)),n.push(new to("contentType",null,!0)),n.push(new to("metadata","customMetadata",!0)),CA=n,CA}function T4(n,e,t){const i=XF(e);return null===i?null:function vX(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const l=t[s];i[l.local]=l.xform(i,e[l.server])}return function yX(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Ds(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function eL(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const I4="prefixes";class Ju{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xu(n){if(!n)throw ZF()}function TA(n,e){return function t(i,r){const s=T4(n,r,e);return Xu(null!==s),s}}function Sy(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function BJ(){return new Di("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function VJ(){return new Di("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function UJ(n){return new Di("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function jJ(n){return new Di("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function qw(n){const e=Sy(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function LJ(n){return new Di("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function S4(n,e,t){const r=ud(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,c=new Ju(r,"GET",TA(n,t),l);return c.errorHandler=qw(e),c}function IX(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const c=ud(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,w=new Ju(c,"GET",function CX(n,e){return function t(i,r){const s=function EX(n,e,t){const i=XF(t);return null===i?null:function wX(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[I4])for(const r of t[I4]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new Ds(e,s));i.prefixes.push(l)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new Ds(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Xu(null!==s),s}}(n,e.bucket),y);return w.urlParams=s,w.errorHandler=Sy(e),w}function x4(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function xX(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class IA{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function tL(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Xu(!1)}return Xu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const RX={STATE_CHANGED:"state_changed"},no={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nL(n){switch(n){case"running":case"pausing":case"canceling":return no.RUNNING;case"paused":return no.PAUSED;case"success":return no.SUCCESS;case"canceled":return no.CANCELED;default:return no.ERROR}}class OX{constructor(e,t,i){if(function JJ(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Ay(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class FX extends class NX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Gw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Gw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Zl(){return new FX}class R4{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=$w(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function MX(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l=x4(e,i,r),c={name:l.fullPath},f=ud(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},C=eL(l,t),R=new Ju(f,"POST",function k(j){let Q;tL(j);try{Q=j.getResponseHeader("X-Goog-Upload-URL")}catch(pe){Xu(!1)}return Xu(wA(Q)),Q},n.maxUploadRetryTime);return R.urlParams=c,R.headers=w,R.body=C,R.errorHandler=Sy(e),R}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Zl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function kX(n,e,t,i){const f=new Ju(t,"POST",function s(y){const w=tL(y,["active","final"]);let C=null;try{C=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch(k){Xu(!1)}C||Xu(!1);const S=Number(C);return Xu(!isNaN(S)),new IA(S,i.size(),"final"===w)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=Sy(e),f}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Zl,t,i);this._request=s,s.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new IA(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function PX(n,e,t,i,r,s,l,c){const f=new IA(0,0);if(l?(f.current=l.current,f.total=l.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function qJ(){return new Di("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=f.total-f.current;let w=y;r>0&&(w=Math.min(w,r));const C=f.current,R={"X-Goog-Upload-Command":w===y?"upload, finalize":"upload","X-Goog-Upload-Offset":`${f.current}`},j=i.slice(C,C+w);if(null===j)throw g4();const Ue=new Ju(t,"POST",function Q(Ne,at){const lt=tL(Ne,["active","final"]),Ft=f.current+w,An=i.size();let Fn;return Fn="final"===lt?TA(e,s)(Ne,at):null,new IA(Ft,An,"final"===lt,Fn)},e.maxUploadRetryTime);return Ue.headers=R,Ue.body=j.uploadData(),Ue.progressCallback=c||null,Ue.errorHandler=Sy(n),Ue}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const c=this._ref.storage._makeRequest(l,Zl,r,s);this._request=c,c.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=S4(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Zl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function M4(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},f=function c(){let Ue="";for(let Ne=0;Ne<2;Ne++)Ue+=Math.random().toString().slice(2);return Ue}();l["Content-Type"]="multipart/related; boundary="+f;const y=x4(e,i,r),w=eL(y,t),k=Qu.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+f+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===k)throw g4();const R={name:y.fullPath},j=ud(s,n.host,n._protocol),pe=n.maxUploadRetryTime,Me=new Ju(j,"POST",TA(n,t),pe);return Me.urlParams=R,Me.headers=l,Me.body=k.uploadData(),Me.errorHandler=Sy(e),Me}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Zl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=p4(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=nL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new OX(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(nL(this._state)){case no.SUCCESS:Ay(this._resolve.bind(null,this.snapshot))();break;case no.CANCELED:case no.ERROR:Ay(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(nL(this._state)){case no.RUNNING:case no.PAUSED:e.next&&Ay(e.next.bind(e,this.snapshot))();break;case no.SUCCESS:e.complete&&Ay(e.complete.bind(e))();break;default:e.error&&Ay(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Tg{constructor(e,t){this._service=e,this._location=t instanceof Ds?t:Ds.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Tg(e,t)}get root(){const e=new Ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return C4(this._location.path)}get storage(){return this._service}get parent(){const e=function pX(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ds(this._location.bucket,e);return new Tg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw _4(e)}}function N4(n,e,t){return iL.apply(this,arguments)}function iL(){return iL=(0,$.Z)(function*(n,e,t){const r=yield F4(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield N4(n,e,r.nextPageToken))}),iL.apply(this,arguments)}function F4(n,e){null!=e&&"number"==typeof e.maxResults&&YF("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=IX(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Zl)}function ZX(n){n._throwIfRoot("getDownloadURL");const e=function DX(n,e,t){const r=ud(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,c=new Ju(r,"GET",function TX(n,e){return function t(i,r){const s=T4(n,r,e);return Xu(null!==s),function bX(n,e,t,i){const r=XF(e);if(null===r||!wA(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(y=>{const C=n.fullPath;return ud("/b/"+l(n.bucket)+"/o/"+l(C),t,i)+v4({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,t),l);return c.errorHandler=qw(e),c}(n.storage,n._location,$w());return n.storage.makeRequestWithTokens(e,Zl).then(t=>{if(null===t)throw function WJ(){return new Di("no-download-url","The given file does not have any download URLs.")}();return t})}function L4(n,e){const t=function gX(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Ds(n._location.bucket,t);return new Tg(n.storage,i)}function U4(n,e){if(n instanceof rL){const t=n;if(null==t._bucket)throw function $J(){return new Di("no-default-bucket","No default bucket found. Did you set the '"+f4+"' property when initializing the app?")}();const i=new Tg(t,t._bucket);return null!=e?U4(i,e):i}return void 0!==e?L4(n,e):n}function JX(n,e){if(e&&function YX(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof rL)return function QX(n,e){return new Tg(n,e)}(n,e);throw Dy("To use ref(service, url), the first argument must be a Storage instance.")}return U4(n,e)}function V4(n,e){const t=null==e?void 0:e[f4];return null==t?null:Ds.makeFromBucketSpec(t,n)}class rL{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=h4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ds.makeFromBucketSpec(r,this._host):V4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ds.makeFromBucketSpec(this._url,e):V4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,$.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,$.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tg(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new ZJ(m4());{const s=function sX(n,e,t,i,r,s){const l=v4(n.urlParams),c=n.url+l,f=Object.assign({},n.headers);return function iX(n,e){e&&(n["X-Firebase-GMPID"]=e)}(f,e),function tX(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(f,t),function nX(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(f,s),function rX(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(f,i),new eX(c,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,$.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const B4="@firebase/storage";function z4(n,e){return JX(n=(0,L.m9)(n),e)}function uee(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new rL(t,i,r,e,qs.SDK_VERSION)}!function cee(){(0,qs._registerComponent)(new Hl.wA("storage",uee,"PUBLIC").setMultipleInstances(!0)),(0,qs.registerVersion)(B4,"0.9.6",""),(0,qs.registerVersion)(B4,"0.9.6","esm2017")}();class DA{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class G4{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new DA(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new DA(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?l=>t(new DA(l,this,this._ref)):{next:t.next?l=>t.next(new DA(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class $4{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new cd(e,this._service))}get items(){return this._delegate.items.map(e=>new cd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class cd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function aee(n,e){return L4(n,e)}(this._delegate,e);return new cd(t,this.storage)}get root(){return new cd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new cd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new G4(function eee(n,e,t){return function zX(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new R4(n,new Qu(e),t)}(n=(0,L.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ca.RAW,i){this._throwIfRoot("putString");const r=JF(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new G4(new R4(this._delegate,new Qu(r.data,!0),s),this)}listAll(){return function ree(n){return function $X(n){const e={prefixes:[],items:[]};return N4(n,e).then(()=>e)}(n=(0,L.m9)(n))}(this._delegate).then(e=>new $4(e,this.storage))}list(e){return function iee(n,e){return F4(n=(0,L.m9)(n),e)}(this._delegate,e||void 0).then(t=>new $4(t,this.storage))}getMetadata(){return function tee(n){return function qX(n){n._throwIfRoot("getMetadata");const e=S4(n.storage,n._location,$w());return n.storage.makeRequestWithTokens(e,Zl)}(n=(0,L.m9)(n))}(this._delegate)}updateMetadata(e){return function nee(n,e){return function WX(n,e){n._throwIfRoot("updateMetadata");const t=function SX(n,e,t,i){const s=ud(e.fullServerUrl(),n.host,n._protocol),c=eL(t,i),y=n.maxOperationRetryTime,w=new Ju(s,"PATCH",TA(n,i),y);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=c,w.errorHandler=qw(e),w}(n.storage,n._location,e,$w());return n.storage.makeRequestWithTokens(t,Zl)}(n=(0,L.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function see(n){return ZX(n=(0,L.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function oee(n){return function KX(n){n._throwIfRoot("deleteObject");const e=function AX(n,e){const i=ud(e.fullServerUrl(),n.host,n._protocol),c=new Ju(i,"DELETE",function l(f,y){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=qw(e),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Zl)}(n=(0,L.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw _4(e)}}class q4{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(W4(e))throw Dy("ref() expected a child path but got a URL, use refFromURL instead.");return new cd(z4(this._delegate,e),this)}refFromURL(e){if(!W4(e))throw Dy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ds.makeFromUrl(e,this._delegate.host)}catch(t){throw Dy("refFromUrl() expected a valid full URL but got an invalid one.")}return new cd(z4(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function lee(n,e,t,i={}){!function XX(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,L.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function W4(n){return/^[A-Za-z]+:\/\//.test(n)}function pee(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new q4(t,i)}function Z4(n){const e=function mee(n){return new Vn.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe(function OJ(n,e=CR.z){return(0,Tn.e)((t,i)=>{let r=null,s=null,l=null;const c=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function f(){const y=l+n,w=e.now();if(w<y)return r=this.schedule(void 0,y-w),void i.add(r);c()}t.subscribe((0,jt.x)(i,y=>{s=y,l=e.now(),r||(r=e.schedule(f,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,dt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function SA(n){return{getDownloadURL:()=>pt(void 0).pipe(bn.fc,Vi(()=>n.getDownloadURL()),bn.iC),getMetadata:()=>pt(void 0).pipe(bn.fc,Vi(()=>n.getMetadata()),bn.iC),delete:()=>(0,Qt.D)(n.delete()),child:e=>SA(n.child(e)),updateMetadata:e=>(0,Qt.D)(n.updateMetadata(e)),put:(e,t)=>Z4(n.put(e,t)),putString:(e,t,i)=>Z4(n.putString(e,t,i)),list:e=>(0,Qt.D)(n.list(e)),listAll:()=>(0,Qt.D)(n.listAll())}}!function gee(n){const e={TaskState:no,TaskEvent:RX,StringFormat:Ca,Storage:q4,Reference:cd};n.INTERNAL.registerComponent(new Hl.wA("storage-compat",pee,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(IR.Z);const _ee=new d.OlP("angularfire2.storageBucket"),yee=new d.OlP("angularfire2.storage.maxUploadRetryTime"),vee=new d.OlP("angularfire2.storage.maxOperationRetryTime"),bee=new d.OlP("angularfire2.storage.use-emulator");let wee=(()=>{class n{constructor(t,i,r,s,l,c,f,y,w,C){const S=(0,fr.on)(t,l,i);this.storage=(0,fr.cc)(`${S.name}.storage.${r}`,"AngularFireStorage",S.name,()=>{const k=l.runOutsideAngular(()=>S.storage(r||void 0)),R=w;return R&&k.useEmulator(...R),f&&k.setMaxUploadRetryTime(f),y&&k.setMaxOperationRetryTime(y),k},[f,y])}ref(t){return SA(this.storage.ref(t))}refFromURL(t){return SA(this.storage.refFromURL(t))}upload(t,i,r){return SA(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fr.Dh),d.LFG(fr.xv,8),d.LFG(_ee,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(bn.HU),d.LFG(yee,8),d.LFG(vee,8),d.LFG(bee,8),d.LFG(kb,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Eee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Cee=(()=>{class n{constructor(){$D.Z.registerVersion("angularfire",bn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[wee],imports:[Eee]}),n})();const K4="@firebase/database";let sL="";function Q4(n){sL=n}class Dee{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,L.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,L.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class See{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,L.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const J4=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Dee(e)}}catch(e){}return new See},Ig=J4("localStorage"),oL=J4("sessionStorage"),xy=new zl.Yd("@firebase/database"),X4=function(){let n=1;return function(){return n++}}(),eH=function(n){const e=(0,L.dS)(n),t=new L.gQ;t.update(e);const i=t.digest();return L.US.encodeByteArray(i)},Ww=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Ww.apply(null,i):e+="object"==typeof i?(0,L.Pz)(i):i,e+=" "}return e};let Dg=null,tH=!0;const nH=function(n,e){(0,L.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(xy.logLevel=zl.in.VERBOSE,Dg=xy.log.bind(xy),e&&oL.set("logging_enabled",!0)):"function"==typeof n?Dg=n:(Dg=null,oL.remove("logging_enabled"))},Or=function(...n){if(!0===tH&&(tH=!1,null===Dg&&!0===oL.get("logging_enabled")&&nH(!0)),Dg){const e=Ww.apply(null,n);Dg(e)}},Zw=function(n){return function(...e){Or(n,...e)}},aL=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ww(...n);xy.error(e)},ec=function(...n){const e=`FIREBASE FATAL ERROR: ${Ww(...n)}`;throw xy.error(e),new Error(e)},Ss=function(...n){const e="FIREBASE WARNING: "+Ww(...n);xy.warn(e)},AA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},dd="[MIN_NAME]",tc="[MAX_NAME]",Sg=function(n,e){if(n===e)return 0;if(n===dd||e===tc)return-1;if(e===dd||n===tc)return 1;{const t=xA(n),i=xA(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Mee=function(n,e){return n===e?0:n<e?-1:1},Kw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Pz)(e))},lL=function(n){if("object"!=typeof n||null===n)return(0,L.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,L.Pz)(e[i]),t+=":",t+=lL(n[e[i]]);return t+="}",t},iH=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Nr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const rH=function(n){(0,L.hu)(!AA(n),"Invalid JSON number");const i=1023;let r,s,l,c,f;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=c+i,l=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const y=[];for(f=52;f;f-=1)y.push(l%2?1:0),l=Math.floor(l/2);for(f=11;f;f-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const w=y.join("");let C="";for(f=0;f<64;f+=8){let S=parseInt(w.substr(f,8),2).toString(16);1===S.length&&(S="0"+S),C+=S}return C.toLowerCase()},Oee=new RegExp("^-?(0*)\\d{1,10}$"),sH=-2147483648,uL=2147483647,xA=function(n){if(Oee.test(n)){const e=Number(n);if(e>=sH&&e<=uL)return e}return null},My=function(n){try{n()}catch(e){setTimeout(()=>{throw Ss("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Yw=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class Fee{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ss(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Lee{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Or("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ss(e)}}let Qw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const cH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fH="websocket",pH="long_polling";class dL{constructor(e,t,i,r,s=!1,l="",c=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ig.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ig.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function gH(n,e,t){let i;if((0,L.hu)("string"==typeof e,"typeof type must == string"),(0,L.hu)("object"==typeof t,"typeof params must == object"),e===fH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==pH)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Uee(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Nr(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class Vee{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,L.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,L.p$)(this.counters_)}}const hL={},fL={};function pL(n){const e=n.toString();return hL[e]||(hL[e]=new Vee),hL[e]}class jee{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&My(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class jh{constructor(e,t,i,r,s,l,c){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zw(e),this.stats_=pL(t),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),gH(t,pH,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new jee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gL((...s)=>{const[l,c,f,y,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=c,this.password=f;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&cH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jh.forceAllow_=!0}static forceDisallow(){jh.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!jh.forceAllow_&&(jh.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,L.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,L.h$)(t),r=iH(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,L.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class gL{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=X4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=gL.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Or("frame writing exception"),c.stack&&Or(c.stack),Or(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Or("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,L.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Or("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let kA=null;"undefined"!=typeof MozWebSocket?kA=MozWebSocket:"undefined"!=typeof WebSocket&&(kA=WebSocket);let ky=(()=>{class n{constructor(t,i,r,s,l,c,f){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zw(this.connId),this.stats_=pL(i),this.connURL=n.connectionURL_(i,c,f,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const c={v:"5"};return!(0,L.Yr)()&&"undefined"!=typeof location&&location.hostname&&cH.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),l&&(c.p=l),gH(t,fH,c)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ig.set("previous_websocket_failure",!0);try{let r;if((0,L.Yr)()){const l={headers:{"User-Agent":`Firebase/5/${sL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,f=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;f&&(l.proxy={origin:f})}this.mySock=new kA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==kA&&!n.forceDisallow_}static previouslyFailed(){return Ig.isInMemoryStorage||!0===Ig.get("previous_websocket_failure")}markConnectionHealthy(){Ig.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,L.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,L.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=iH(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),EH=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[jh,ky]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=ky&&ky.isAvailable();let r=i&&!ky.previouslyFailed();if(t.webSocketOnly&&(i||Ss("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ky];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class xH{constructor(e,t,i,r,s,l,c,f,y,w){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=f,this.onKill_=y,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zw("c:"+this.id+":"),this.transportManager_=new EH(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Yw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Kw("t",e),i=Kw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Kw("t",e),i=Kw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Kw("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?aL("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):aL("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Ss("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Yw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ig.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class MH{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class kH{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,L.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,L.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class PA extends kH{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new PA}getInitialEvent(e){return(0,L.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Sn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function wn(){return new Sn("")}function Jt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Hh(n){return n.pieces_.length-n.pieceNum_}function jn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Sn(n.pieces_,e)}function _L(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Jw(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function OH(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Sn(e,0)}function di(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Sn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Sn(t,0)}function Xt(n){return n.pieceNum_>=n.pieces_.length}function io(n,e){const t=Jt(n),i=Jt(e);if(null===t)return e;if(t===i)return io(jn(n),jn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ute(n,e){const t=Jw(n,0),i=Jw(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Sg(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function yL(n,e){if(Hh(n)!==Hh(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function sl(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Hh(n)>Hh(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class cte{constructor(e,t){this.errorPrefix_=t,this.parts_=Jw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,L.ug)(this.parts_[i]);NH(this)}}function NH(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ag(n))}function Ag(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class vL extends kH{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new vL}getInitialEvent(e){return(0,L.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Xw=1e3;let OA,xg=(()=>{class n extends MH{constructor(t,i,r,s,l,c,f,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=f,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=Zw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&PA.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,L.Pz)(l)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new L.BH,r={p:t._path.toString(),q:t._queryObject},s={action:"g",request:r,onComplete:c=>{const f=c.d;"ok"===c.s?(this.onDataUpdate_(r.p,f,!1,null),i.resolve(f)):i.reject(f)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const c=this.outstandingGets_[l];void 0===c||s!==c||(delete this.outstandingGets_[l],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(l),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+l),this.listens.has(c)||this.listens.set(c,new Map),(0,L.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(c).has(l),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(c).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,f=>{const y=f.d,w=f.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",f),"ok"!==w&&this.removeListen_(r,s),t.onComplete&&t.onComplete(w,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,L.r3)(t,"w")){const r=(0,L.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Ss(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,L.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,L.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,c=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,L.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const c={p:i,d:r};void 0!==l&&(c.h=l),this.outstandingPuts_.push({action:t,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,L.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):aL("Unrecognized action received from server: "+(0,L.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Xw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,$.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,c=t.lastSessionId;let f=!1,y=null;const w=function(){y?y.close():(f=!0,s())};t.realtime_={close:w,sendRequest:function(k){(0,L.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(k)}};const S=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[k,R]=yield Promise.all([t.authTokenProvider_.getToken(S),t.appCheckTokenProvider_.getToken(S)]);f?Or("getToken() completed but was canceled"):(Or("getToken() completed. Creating connection."),t.authToken_=k&&k.accessToken,t.appCheckToken_=R&&R.token,y=new xH(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,j=>{Ss(j+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},c))}catch(k){t.log_("Failed to get token: "+k),f||(t.repoInfo_.nodeAdmin&&Ss(k),w())}}})()}interrupt(t){Or("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Or("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Xw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>lL(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Sn(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Or("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Or("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,L.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+sL.replace(/\./g,"-")]=1,(0,L.uI)()?t["framework.cordova"]=1:(0,L.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=PA.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class sn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new sn(e,t)}}class RA{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new sn(dd,e),r=new sn(dd,t);return 0!==this.compare(i,r)}minPost(){return sn.MIN}}class UH extends RA{static get __EMPTY_NODE(){return OA}static set __EMPTY_NODE(e){OA=e}compare(e,t){return Sg(e.name,t.name)}isDefinedOn(e){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return sn.MIN}maxPost(){return new sn(tc,OA)}makePost(e,t){return(0,L.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new sn(e,OA)}toString(){return".key"}}const nc=new UH;class NA{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let wL,Kl=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Lo.EMPTY_NODE,this.right=null!=l?l:Lo.EMPTY_NODE}copy(t,i,r,s,l){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=l?l:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lo.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Lo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Lo{constructor(e,t=Lo.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Lo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Kl.BLACK,null,null))}remove(e){return new Lo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kl.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new NA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new NA(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new NA(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new NA(this.root_,null,this.comparator_,!0,e)}}function vte(n,e){return Sg(n.name,e.name)}function bL(n,e){return Sg(n,e)}Lo.EMPTY_NODE=new class yte{copy(e,t,i,r,s){return this}insert(e,t,i){return new Kl(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const VH=function(n){return"number"==typeof n?"number:"+rH(n):"string:"+n},BH=function(n){if(n.isLeafNode()){const e=n.val();(0,L.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,L.r3)(e,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===wL||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===wL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jH,HH,zH,Py=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),BH(this.priorityNode_)}static set __childrenNodeConstructor(t){jH=t}static get __childrenNodeConstructor(){return jH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Xt(t)?this:".priority"===Jt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Jt(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,L.hu)(".priority"!==r||1===Hh(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(jn(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+VH(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?rH(this.value_):this.value_,this.lazyHash_=eH(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,L.hu)(s>=0,"Unknown leaf type: "+i),(0,L.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Kn=new class Cte extends RA{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Sg(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return sn.MIN}maxPost(){return new sn(tc,new Py("[PRIORITY-POST]",zH))}makePost(e,t){const i=HH(e);return new sn(t,new Py("[PRIORITY-POST]",i))}toString(){return".priority"}},Tte=Math.log(2);class Ite{constructor(e){this.count=parseInt(Math.log(e+1)/Tte,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const FA=function(n,e,t,i){n.sort(e);const r=function(f,y){const w=y-f;let C,S;if(0===w)return null;if(1===w)return C=n[f],S=t?t(C):C,new Kl(S,C.node,Kl.BLACK,null,null);{const k=parseInt(w/2,10)+f,R=r(f,k),j=r(k+1,y);return C=n[k],S=t?t(C):C,new Kl(S,C.node,Kl.BLACK,R,j)}},c=function(f){let y=null,w=null,C=n.length;const S=function(R,j){const Q=C-R,pe=C;C-=R;const Me=r(Q+1,pe),Ue=n[Q],Ne=t?t(Ue):Ue;k(new Kl(Ne,Ue.node,j,null,Me))},k=function(R){y?(y.left=R,y=R):(w=R,y=R)};for(let R=0;R<f.count;++R){const j=f.nextBitIsOne(),Q=Math.pow(2,f.count-(R+1));j?S(Q,Kl.BLACK):(S(Q,Kl.BLACK),S(Q,Kl.RED))}return w}(new Ite(n.length));return new Lo(i||e,c)};let EL;const Ry={};class hd{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,L.hu)(Ry&&Kn,"ChildrenNode.ts has not been loaded"),EL=EL||new hd({".priority":Ry},{".priority":Kn}),EL}get(e){const t=(0,L.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Lo?t:null}hasIndex(e){return(0,L.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,L.hu)(e!==nc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(sn.Wrap);let c,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();c=r?FA(i,e.getCompare()):Ry;const f=e.toString(),y=Object.assign({},this.indexSet_);y[f]=e;const w=Object.assign({},this.indexes_);return w[f]=c,new hd(w,y)}addToIndexes(e,t){const i=(0,L.UI)(this.indexes_,(r,s)=>{const l=(0,L.DV)(this.indexSet_,s);if((0,L.hu)(l,"Missing index implementation for "+s),r===Ry){if(l.isDefinedOn(e.node)){const c=[],f=t.getIterator(sn.Wrap);let y=f.getNext();for(;y;)y.name!==e.name&&c.push(y),y=f.getNext();return c.push(e),FA(c,l.getCompare())}return Ry}{const c=t.get(e.name);let f=r;return c&&(f=f.remove(new sn(e.name,c))),f.insert(e,e.node)}});return new hd(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,L.UI)(this.indexes_,r=>{if(r===Ry)return r;{const s=t.get(e.name);return s?r.remove(new sn(e.name,s)):r}});return new hd(i,this.indexSet_)}}let eE,Ht=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&BH(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eE||(eE=new n(new Lo(bL),null,hd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eE}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?eE:i}}getChild(t){const i=Jt(t);return null===i?this:this.getImmediateChild(i).getChild(jn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,L.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new sn(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?eE:this.priorityNode_;return new n(s,c,l)}}updateChild(t,i){const r=Jt(t);if(null===r)return i;{(0,L.hu)(".priority"!==Jt(t)||1===Hh(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(jn(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(Kn,(c,f)=>{i[c]=f.val(t),r++,l&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):l=!1}),!t&&l&&s<2*r){const c=[];for(const f in i)c[f]=i[f];return c}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+VH(this.getPriority().val())+":"),this.forEachChild(Kn,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":eH(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new sn(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new sn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new sn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,sn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,sn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===tE?-1:0}withIndex(t){if(t===nc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===nc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Kn),s=i.getIterator(Kn);let l=r.getNext(),c=s.getNext();for(;l&&c;){if(l.name!==c.name||!l.node.equals(c.node))return!1;l=r.getNext(),c=s.getNext()}return null===l&&null===c}return!1}return!1}}resolveIndex_(t){return t===nc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const tE=new class Dte extends Ht{constructor(){super(new Lo(bL),Ht.EMPTY_NODE,hd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ht.EMPTY_NODE}isEmpty(){return!1}};function yi(n,e=null){if(null===n)return Ht.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,L.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Py(n,yi(e));if(n instanceof Array){let t=Ht.EMPTY_NODE;return Nr(n,(i,r)=>{if((0,L.r3)(n,i)&&"."!==i.substring(0,1)){const s=yi(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(yi(e))}{const t=[];let i=!1;if(Nr(n,(l,c)=>{if("."!==l.substring(0,1)){const f=yi(c);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),t.push(new sn(l,f)))}}),0===t.length)return Ht.EMPTY_NODE;const s=FA(t,vte,l=>l.name,bL);if(i){const l=FA(t,Kn.getCompare());return new Ht(s,yi(e),new hd({".priority":l},{".priority":Kn}))}return new Ht(s,yi(e),hd.Default)}}Object.defineProperties(sn,{MIN:{value:new sn(dd,Ht.EMPTY_NODE)},MAX:{value:new sn(tc,tE)}}),UH.__EMPTY_NODE=Ht.EMPTY_NODE,Py.__childrenNodeConstructor=Ht,function bte(n){wL=n}(tE),function Ete(n){zH=n}(tE),function wte(n){HH=n}(yi);class CL extends RA{constructor(e){super(),this.indexPath_=e,(0,L.hu)(!Xt(e)&&".priority"!==Jt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Sg(e.name,t.name):s}makePost(e,t){const i=yi(e),r=Ht.EMPTY_NODE.updateChild(this.indexPath_,i);return new sn(t,r)}maxPost(){const e=Ht.EMPTY_NODE.updateChild(this.indexPath_,tE);return new sn(tc,e)}toString(){return Jw(this.indexPath_,0).join("/")}}const TL=new class Ate extends RA{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Sg(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return sn.MIN}maxPost(){return sn.MAX}makePost(e,t){const i=yi(e);return new sn(t,i)}toString(){return".value"}},Oy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",xte=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Oy.charAt(t%64),t=Math.floor(t/64);(0,L.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=Oy.charAt(e[r]);return(0,L.hu)(20===l.length,"nextPushId: Length should be 20."),l}}(),qH=function(n){if(n===""+uL)return"-";const e=xA(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let l=0;l<t.length;l++)t[l]=n.charAt(l);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return tc;const s=Oy.charAt(Oy.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},WH=function(n){if(n===""+sH)return dd;const e=xA(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+uL:(delete t[t.length-1],t.join("")):(t[t.length-1]=Oy.charAt(Oy.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function ZH(n){return{type:"value",snapshotNode:n}}function Ny(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function nE(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function iE(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class DL{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){(0,L.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(nE(t,c)):(0,L.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(Ny(t,i)):l.trackChildChange(iE(t,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Kn,(r,s)=>{t.hasChild(r)||i.trackChildChange(nE(r,s))}),t.isLeafNode()||t.forEachChild(Kn,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(iE(r,s,l))}else i.trackChildChange(Ny(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ht.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class rE{constructor(e){this.indexedFilter_=new DL(e.getIndex()),this.index_=e.getIndex(),this.startPost_=rE.getStartPost_(e),this.endPost_=rE.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,l){return this.matches(new sn(t,i))||(i=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Ht.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Ht.EMPTY_NODE);const s=this;return t.forEachChild(Kn,(l,c)=>{s.matches(new sn(l,c))||(r=r.updateImmediateChild(l,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class kte{constructor(e){this.rangedFilter_=new rE(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new sn(t,i))||(i=Ht.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Ht.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const c=s.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(c.name,c.node),l++}}else{let s,l,c,f;if(r=t.withIndex(this.index_),r=r.updatePriority(Ht.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();const C=this.index_.getCompare();c=(S,k)=>C(k,S)}else f=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();let y=0,w=!1;for(;f.hasNext();){const C=f.getNext();!w&&c(s,C)<=0&&(w=!0),w&&y<this.limit_&&c(C,l)<=0?y++:r=r.updateImmediateChild(C.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const C=this.index_.getCompare();l=(S,k)=>C(k,S)}else l=this.index_.getCompare();const c=e;(0,L.hu)(c.numChildren()===this.limit_,"");const f=new sn(t,i),y=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),w=this.rangedFilter_.matches(f);if(c.hasChild(t)){const C=c.getImmediateChild(t);let S=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=S&&(S.name===t||c.hasChild(S.name));)S=r.getChildAfterChild(this.index_,S,this.reverse_);const k=null==S?1:l(S,f);if(w&&!i.isEmpty()&&k>=0)return null!=s&&s.trackChildChange(iE(t,i,C)),c.updateImmediateChild(t,i);{null!=s&&s.trackChildChange(nE(t,C));const j=c.updateImmediateChild(t,Ht.EMPTY_NODE);return null!=S&&this.rangedFilter_.matches(S)?(null!=s&&s.trackChildChange(Ny(S.name,S.node)),j.updateImmediateChild(S.name,S.node)):j}}return i.isEmpty()?e:w&&l(y,f)>=0?(null!=s&&(s.trackChildChange(nE(y.name,y.node)),s.trackChildChange(Ny(t,i))),c.updateImmediateChild(t,i).updateImmediateChild(y.name,Ht.EMPTY_NODE)):e}}class LA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kn}copy(){const e=new LA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SL(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function AL(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function UA(n,e){const t=n.copy();return t.index_=e,t}function KH(n){const e={};if(n.isDefault())return e;let t;return n.index_===Kn?t="$priority":n.index_===TL?t="$value":n.index_===nc?t="$key":((0,L.hu)(n.index_ instanceof CL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,L.Pz)(t),n.startSet_&&(e.startAt=(0,L.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,L.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,L.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,L.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function YH(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Kn&&(e.i=n.index_.toString()),e}class VA extends MH{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Zw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,L.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=VA.getListenId_(e,i),c={};this.listens_[l]=c;const f=KH(e._queryParams);this.restRequest_(s+".json",f,(y,w)=>{let C=w;if(404===y&&(C=null,y=null),null===y&&this.onDataUpdate_(s,C,!1,i),(0,L.DV)(this.listens_,l)===c){let S;S=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(S,null)}})}unlisten(e,t){const i=VA.getListenId_(e,t);delete this.listens_[i]}get(e){const t=KH(e._queryParams),i=e._path.toString(),r=new L.BH;return this.restRequest_(i+".json",t,(s,l)=>{let c=l;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,L.xO)(t);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let f=null;if(c.status>=200&&c.status<300){try{f=(0,L.cI)(c.responseText)}catch(y){Ss("Failed to parse JSON response for "+l+": "+c.responseText)}i(null,f)}else 401!==c.status&&404!==c.status&&Ss("Got unsuccessful REST response for "+l+" Status: "+c.status),i(c.status);i=null}},c.open("GET",l,!0),c.send()})}}class Lte{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function BA(){return{value:null,children:new Map}}function Fy(n,e,t){if(Xt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Jt(e);n.children.has(i)||n.children.set(i,BA()),Fy(n.children.get(i),e=jn(e),t)}}function xL(n,e){if(Xt(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Kn,(i,r)=>{Fy(n,new Sn(i),r)}),xL(n,e)}}if(n.children.size>0){const t=Jt(e);return e=jn(e),n.children.has(t)&&xL(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function ML(n,e,t){null!==n.value?t(e,n.value):function Ute(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{ML(r,new Sn(e.toString()+"/"+i),t)})}class Vte{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Nr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Hte{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Vte(e);const i=1e4+2e4*Math.random();Yw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Nr(e,(r,s)=>{s>0&&(0,L.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Yw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ol=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ol||(ol={})),ol))();function RL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class jA{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=ol.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Xt(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Sn(e));return new jA(wn(),t,this.revert)}}return(0,L.hu)(Jt(this.path)===e,"operationForChild called for unrelated child."),new jA(jn(this.path),this.affectedTree,this.revert)}}class sE{constructor(e,t){this.source=e,this.path=t,this.type=ol.LISTEN_COMPLETE}operationForChild(e){return Xt(this.path)?new sE(this.source,wn()):new sE(this.source,jn(this.path))}}class Mg{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=ol.OVERWRITE}operationForChild(e){return Xt(this.path)?new Mg(this.source,wn(),this.snap.getImmediateChild(e)):new Mg(this.source,jn(this.path),this.snap)}}class Ly{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=ol.MERGE}operationForChild(e){if(Xt(this.path)){const t=this.children.subtree(new Sn(e));return t.isEmpty()?null:t.value?new Mg(this.source,wn(),t.value):new Ly(this.source,wn(),t)}return(0,L.hu)(Jt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ly(this.source,jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class zh{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Xt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Jt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class zte{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function oE(n,e,t,i,r,s){const l=i.filter(c=>c.type===t);l.sort((c,f)=>function qte(n,e,t){if(null==e.childName||null==t.childName)throw(0,L.g5)("Should only compare child_ events.");const i=new sn(e.childName,e.snapshotNode),r=new sn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,c,f)),l.forEach(c=>{const f=function $te(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,c,s);r.forEach(y=>{y.respondsTo(c.type)&&e.push(y.createEvent(f,n.query_))})})}function HA(n,e){return{eventCache:n,serverCache:e}}function aE(n,e,t,i){return HA(new zh(e,t,i),n.serverCache)}function JH(n,e,t,i){return HA(n.eventCache,new zh(e,t,i))}function zA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function kg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let OL;class Yn{constructor(e,t=(()=>(OL||(OL=new Lo(Mee)),OL))()){this.value=e,this.children=t}static fromObject(e){let t=new Yn(null);return Nr(e,(i,r)=>{t=t.set(new Sn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:wn(),value:this.value};if(Xt(e))return null;{const i=Jt(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(jn(e),t);return null!=s?{path:di(new Sn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Xt(e))return this;{const t=Jt(e),i=this.children.get(t);return null!==i?i.subtree(jn(e)):new Yn(null)}}set(e,t){if(Xt(e))return new Yn(t,this.children);{const i=Jt(e),s=(this.children.get(i)||new Yn(null)).set(jn(e),t),l=this.children.insert(i,s);return new Yn(this.value,l)}}remove(e){if(Xt(e))return this.children.isEmpty()?new Yn(null):new Yn(null,this.children);{const t=Jt(e),i=this.children.get(t);if(i){const r=i.remove(jn(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Yn(null):new Yn(this.value,s)}return this}}get(e){if(Xt(e))return this.value;{const t=Jt(e),i=this.children.get(t);return i?i.get(jn(e)):null}}setTree(e,t){if(Xt(e))return t;{const i=Jt(e),s=(this.children.get(i)||new Yn(null)).setTree(jn(e),t);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Yn(this.value,l)}}fold(e){return this.fold_(wn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(di(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,wn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Xt(e))return null;{const s=Jt(e),l=this.children.get(s);return l?l.findOnPath_(jn(e),di(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,wn(),t)}foreachOnPath_(e,t,i){if(Xt(e))return this;{this.value&&i(t,this.value);const r=Jt(e),s=this.children.get(r);return s?s.foreachOnPath_(jn(e),di(t,r),i):new Yn(null)}}foreach(e){this.foreach_(wn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(di(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Yl{constructor(e){this.writeTree_=e}static empty(){return new Yl(new Yn(null))}}function lE(n,e,t){if(Xt(e))return new Yl(new Yn(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=io(r,e);return s=s.updateChild(l,t),new Yl(n.writeTree_.set(r,s))}{const r=new Yn(t),s=n.writeTree_.setTree(e,r);return new Yl(s)}}}function NL(n,e,t){let i=n;return Nr(t,(r,s)=>{i=lE(i,di(e,r),s)}),i}function XH(n,e){if(Xt(e))return Yl.empty();{const t=n.writeTree_.setTree(e,new Yn(null));return new Yl(t)}}function FL(n,e){return null!=Pg(n,e)}function Pg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(io(t.path,e)):null}function ez(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Kn,(i,r)=>{e.push(new sn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new sn(i,r.value))}),e}function Gh(n,e){if(Xt(e))return n;{const t=Pg(n,e);return new Yl(null!=t?new Yn(t):n.writeTree_.subtree(e))}}function LL(n){return n.writeTree_.isEmpty()}function Uy(n,e){return tz(wn(),n.writeTree_,e)}function tz(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,L.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=tz(di(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(di(n,".priority"),i)),t}}function GA(n,e){return oz(e,n)}function Jte(n,e){if(n.snap)return sl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&sl(di(n.path,t),e))return!0;return!1}function ene(n){return n.visible}function nz(n,e,t){let i=Yl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let c;if(s.snap)sl(t,l)?(c=io(t,l),i=lE(i,c,s.snap)):sl(l,t)&&(c=io(l,t),i=lE(i,wn(),s.snap.getChild(c)));else{if(!s.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(sl(t,l))c=io(t,l),i=NL(i,c,s.children);else if(sl(l,t))if(c=io(l,t),Xt(c))i=NL(i,wn(),s.children);else{const f=(0,L.DV)(s.children,Jt(c));if(f){const y=f.getChild(jn(c));i=lE(i,wn(),y)}}}}}return i}function iz(n,e,t,i,r){if(i||r){const s=Gh(n.visibleWrites,e);return!r&&LL(s)?t:r||null!=t||FL(s,wn())?Uy(nz(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(sl(y.path,e)||sl(e,y.path))},e),t||Ht.EMPTY_NODE):null}{const s=Pg(n.visibleWrites,e);if(null!=s)return s;{const l=Gh(n.visibleWrites,e);return LL(l)?t:null!=t||FL(l,wn())?Uy(l,t||Ht.EMPTY_NODE):null}}}function $A(n,e,t,i){return iz(n.writeTree,n.treePath,e,t,i)}function UL(n,e){return function tne(n,e,t){let i=Ht.EMPTY_NODE;const r=Pg(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Kn,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=Gh(n.visibleWrites,e);return t.forEachChild(Kn,(l,c)=>{const f=Uy(Gh(s,new Sn(l)),c);i=i.updateImmediateChild(l,f)}),ez(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return ez(Gh(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function rz(n,e,t,i){return function nne(n,e,t,i,r){(0,L.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=di(e,t);if(FL(n.visibleWrites,s))return null;{const l=Gh(n.visibleWrites,s);return LL(l)?r.getChild(t):Uy(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function qA(n,e){return function rne(n,e){return Pg(n.visibleWrites,e)}(n.writeTree,di(n.treePath,e))}function VL(n,e,t){return function ine(n,e,t,i){const r=di(e,t),s=Pg(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Uy(Gh(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function sz(n,e){return oz(di(n.treePath,e),n.writeTree)}function oz(n,e){return{treePath:n,writeTree:e}}class lne{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,L.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,iE(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,nE(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Ny(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,L.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,iE(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const az=new class une{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class BL{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new zh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return VL(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:kg(this.viewCache_),s=function ane(n,e,t,i,r,s){return function sne(n,e,t,i,r,s,l){let c;const f=Gh(n.visibleWrites,e),y=Pg(f,wn());if(null!=y)c=y;else{if(null==t)return[];c=Uy(f,t)}if(c=c.withIndex(l),c.isEmpty()||c.isLeafNode())return[];{const w=[],C=l.getCompare(),S=s?c.getReverseIteratorFrom(i,l):c.getIteratorFrom(i,l);let k=S.getNext();for(;k&&w.length<r;)0!==C(k,i)&&w.push(k),k=S.getNext();return w}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function lz(n,e,t,i,r,s){const l=e.eventCache;if(null!=qA(i,t))return e;{let c,f;if(Xt(t))if((0,L.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=kg(e),C=UL(i,y instanceof Ht?y:Ht.EMPTY_NODE);c=n.filter.updateFullNode(e.eventCache.getNode(),C,s)}else{const y=$A(i,kg(e));c=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const y=Jt(t);if(".priority"===y){(0,L.hu)(1===Hh(t),"Can't have a priority with additional path components");const w=l.getNode();f=e.serverCache.getNode();const C=rz(i,t,w,f);c=null!=C?n.filter.updatePriority(w,C):l.getNode()}else{const w=jn(t);let C;if(l.isCompleteForChild(y)){f=e.serverCache.getNode();const S=rz(i,t,l.getNode(),f);C=null!=S?l.getNode().getImmediateChild(y).updateChild(w,S):l.getNode().getImmediateChild(y)}else C=VL(i,y,e.serverCache);c=null!=C?n.filter.updateChild(l.getNode(),y,C,w,r,s):l.getNode()}}return aE(e,c,l.isFullyInitialized()||Xt(t),n.filter.filtersNodes())}}function WA(n,e,t,i,r,s,l,c){const f=e.serverCache;let y;const w=l?n.filter:n.filter.getIndexedFilter();if(Xt(t))y=w.updateFullNode(f.getNode(),i,null);else if(w.filtersNodes()&&!f.isFiltered()){const k=f.getNode().updateChild(t,i);y=w.updateFullNode(f.getNode(),k,null)}else{const k=Jt(t);if(!f.isCompleteForPath(t)&&Hh(t)>1)return e;const R=jn(t),Q=f.getNode().getImmediateChild(k).updateChild(R,i);y=".priority"===k?w.updatePriority(f.getNode(),Q):w.updateChild(f.getNode(),k,Q,R,az,null)}const C=JH(e,y,f.isFullyInitialized()||Xt(t),w.filtersNodes());return lz(n,C,t,r,new BL(r,C,s),c)}function jL(n,e,t,i,r,s,l){const c=e.eventCache;let f,y;const w=new BL(r,e,s);if(Xt(t))y=n.filter.updateFullNode(e.eventCache.getNode(),i,l),f=aE(e,y,!0,n.filter.filtersNodes());else{const C=Jt(t);if(".priority"===C)y=n.filter.updatePriority(e.eventCache.getNode(),i),f=aE(e,y,c.isFullyInitialized(),c.isFiltered());else{const S=jn(t),k=c.getNode().getImmediateChild(C);let R;if(Xt(S))R=i;else{const j=w.getCompleteChild(C);R=null!=j?".priority"===_L(S)&&j.getChild(OH(S)).isEmpty()?j:j.updateChild(S,i):Ht.EMPTY_NODE}f=k.equals(R)?e:aE(e,n.filter.updateChild(c.getNode(),C,R,S,w,l),c.isFullyInitialized(),n.filter.filtersNodes())}}return f}function uz(n,e){return n.eventCache.isCompleteForChild(e)}function cz(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function HL(n,e,t,i,r,s,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,f=e;y=Xt(t)?i:new Yn(null).setTree(t,i);const w=e.serverCache.getNode();return y.children.inorderTraversal((C,S)=>{if(w.hasChild(C)){const R=cz(0,e.serverCache.getNode().getImmediateChild(C),S);f=WA(n,f,new Sn(C),R,r,s,l,c)}}),y.children.inorderTraversal((C,S)=>{const k=!e.serverCache.isCompleteForChild(C)&&void 0===S.value;if(!w.hasChild(C)&&!k){const j=cz(0,e.serverCache.getNode().getImmediateChild(C),S);f=WA(n,f,new Sn(C),j,r,s,l,c)}}),f}class yne{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new DL(i.getIndex()),s=function Pte(n){return n.loadsAllData()?new DL(n.getIndex()):n.hasLimit()?new kte(n):new rE(n)}(i);this.processor_=function cne(n){return{filter:n}}(s);const l=t.serverCache,c=t.eventCache,f=r.updateFullNode(Ht.EMPTY_NODE,l.getNode(),null),y=s.updateFullNode(Ht.EMPTY_NODE,c.getNode(),null),w=new zh(f,l.isFullyInitialized(),r.filtersNodes()),C=new zh(y,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=HA(C,w),this.eventGenerator_=new zte(this.query_)}get query(){return this.query_}}function wne(n,e){const t=kg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Xt(e)&&!t.getImmediateChild(Jt(e)).isEmpty())?t.getChild(e):null}function dz(n){return 0===n.eventRegistrations_.length}function hz(n,e,t){const i=[];if(t){(0,L.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function fz(n,e,t,i){e.type===ol.MERGE&&null!==e.source.queryId&&((0,L.hu)(kg(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(zA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function hne(n,e,t,i,r){const s=new lne;let l,c;if(t.type===ol.OVERWRITE){const y=t;y.source.fromUser?l=jL(n,e,y.path,y.snap,i,r,s):((0,L.hu)(y.source.fromServer,"Unknown source."),c=y.source.tagged||e.serverCache.isFiltered()&&!Xt(y.path),l=WA(n,e,y.path,y.snap,i,r,c,s))}else if(t.type===ol.MERGE){const y=t;y.source.fromUser?l=function pne(n,e,t,i,r,s,l){let c=e;return i.foreach((f,y)=>{const w=di(t,f);uz(e,Jt(w))&&(c=jL(n,c,w,y,r,s,l))}),i.foreach((f,y)=>{const w=di(t,f);uz(e,Jt(w))||(c=jL(n,c,w,y,r,s,l))}),c}(n,e,y.path,y.children,i,r,s):((0,L.hu)(y.source.fromServer,"Unknown source."),c=y.source.tagged||e.serverCache.isFiltered(),l=HL(n,e,y.path,y.children,i,r,c,s))}else if(t.type===ol.ACK_USER_WRITE){const y=t;l=y.revert?function _ne(n,e,t,i,r,s){let l;if(null!=qA(i,t))return e;{const c=new BL(i,e,r),f=e.eventCache.getNode();let y;if(Xt(t)||".priority"===Jt(t)){let w;if(e.serverCache.isFullyInitialized())w=$A(i,kg(e));else{const C=e.serverCache.getNode();(0,L.hu)(C instanceof Ht,"serverChildren would be complete if leaf node"),w=UL(i,C)}w=w,y=n.filter.updateFullNode(f,w,s)}else{const w=Jt(t);let C=VL(i,w,e.serverCache);null==C&&e.serverCache.isCompleteForChild(w)&&(C=f.getImmediateChild(w)),y=null!=C?n.filter.updateChild(f,w,C,jn(t),c,s):e.eventCache.getNode().hasChild(w)?n.filter.updateChild(f,w,Ht.EMPTY_NODE,jn(t),c,s):f,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=$A(i,kg(e)),l.isLeafNode()&&(y=n.filter.updateFullNode(y,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=qA(i,wn()),aE(e,y,l,n.filter.filtersNodes())}}(n,e,y.path,i,r,s):function gne(n,e,t,i,r,s,l){if(null!=qA(r,t))return e;const c=e.serverCache.isFiltered(),f=e.serverCache;if(null!=i.value){if(Xt(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return WA(n,e,t,f.getNode().getChild(t),r,s,c,l);if(Xt(t)){let y=new Yn(null);return f.getNode().forEachChild(nc,(w,C)=>{y=y.set(new Sn(w),C)}),HL(n,e,t,y,r,s,c,l)}return e}{let y=new Yn(null);return i.foreach((w,C)=>{const S=di(t,w);f.isCompleteForPath(S)&&(y=y.set(w,f.getNode().getChild(S)))}),HL(n,e,t,y,r,s,c,l)}}(n,e,y.path,y.affectedTree,i,r,s)}else{if(t.type!==ol.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+t.type);l=function mne(n,e,t,i,r){const s=e.serverCache;return lz(n,JH(e,s.getNode(),s.isFullyInitialized()||Xt(t),s.isFiltered()),t,i,az,r)}(n,e,t.path,i,s)}const f=s.getChanges();return function fne(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=zA(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(ZH(zA(e)))}}(e,l,f),{viewCache:l,changes:f}}(n.processor_,r,e,t,i);return function dne(n,e){(0,L.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,L.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,pz(n,s.changes,s.viewCache.eventCache.getNode(),null)}function pz(n,e,t,i){return function Gte(n,e,t,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function Mte(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),oE(n,r,"child_removed",e,i,t),oE(n,r,"child_added",e,i,t),oE(n,r,"child_moved",s,i,t),oE(n,r,"child_changed",e,i,t),oE(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let ZA,YA;class gz{constructor(){this.views=new Map}}function zL(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,L.hu)(null!=s,"SyncTree gave us an op for an invalid query."),fz(s,e,t,i)}{let s=[];for(const l of n.views.values())s=s.concat(fz(l,e,t,i));return s}}function mz(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let c=$A(t,r?i:null),f=!1;c?f=!0:i instanceof Ht?(c=UL(t,i),f=!1):(c=Ht.EMPTY_NODE,f=!1);const y=HA(new zh(c,f,!1),new zh(i,r,!1));return new yne(e,y)}return l}function _z(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function $h(n,e){let t=null;for(const i of n.views.values())t=t||wne(i,e);return t}function yz(n,e){return e._queryParams.loadsAllData()?KA(n):n.views.get(e._queryIdentifier)}function vz(n,e){return null!=yz(n,e)}function qh(n){return null!=KA(n)}function KA(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let kne=1;class bz{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Yn(null),this.pendingWriteTree_=function one(){return{visibleWrites:Yl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function GL(n,e,t,i,r){return function Zte(n,e,t,i,r){(0,L.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=lE(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Vy(n,new Mg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Wh(n,e,t=!1){const i=function Yte(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function Qte(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);(0,L.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=t&&Jte(c,i.path)?r=!1:sl(i.path,c.path)&&(s=!0)),l--}return!!r&&(s?(function Xte(n){n.visibleWrites=nz(n.allWrites,ene,wn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=XH(n.visibleWrites,i.path):Nr(i.children,f=>{n.visibleWrites=XH(n.visibleWrites,di(i.path,f))}),!0))}(n.pendingWriteTree_,e)){let s=new Yn(null);return null!=i.snap?s=s.set(wn(),!0):Nr(i.children,l=>{s=s.set(new Sn(l),!0)}),Vy(n,new jA(i.path,s,t))}return[]}function uE(n,e,t){return Vy(n,new Mg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function $L(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let l=[];if(s&&("default"===e._queryIdentifier||vz(s,e))){const c=function Ane(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const c=qh(n);if("default"===r)for(const[f,y]of n.views.entries())l=l.concat(hz(y,t,i)),dz(y)&&(n.views.delete(f),y.query._queryParams.loadsAllData()||s.push(y.query));else{const f=n.views.get(r);f&&(l=l.concat(hz(f,t,i)),dz(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return c&&!qh(n)&&s.push(new(function Ine(){return(0,L.hu)(ZA,"Reference.ts has not been loaded"),ZA}())(e._repo,e._path)),{removed:s,events:l}}(s,e,t,i);(function Dne(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const f=c.removed;l=c.events;const y=-1!==f.findIndex(C=>C._queryParams.loadsAllData()),w=n.syncPointTree_.findOnPath(r,(C,S)=>qh(S));if(y&&!w){const C=n.syncPointTree_.subtree(r);if(!C.isEmpty()){const S=function Vne(n){return n.fold((e,t,i)=>{if(t&&qh(t))return[KA(t)];{let r=[];return t&&(r=_z(t)),Nr(i,(s,l)=>{r=r.concat(l)}),r}})}(C);for(let k=0;k<S.length;++k){const R=S[k],j=R.query,Q=Tz(n,R);n.listenProvider_.startListening(cE(j),JA(n,j),Q.hashFn,Q.onComplete)}}}!w&&f.length>0&&!i&&(y?n.listenProvider_.stopListening(cE(e),null):f.forEach(C=>{const S=n.queryToTagMap.get(XA(C));n.listenProvider_.stopListening(cE(C),S)})),function Bne(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=XA(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,f)}return l}function wz(n,e,t){const i=e._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(C,S)=>{const k=io(C,i);r=r||$h(S,k),s=s||qh(S)});let c,l=n.syncPointTree_.get(i);l?(s=s||qh(l),r=r||$h(l,wn())):(l=new gz,n.syncPointTree_=n.syncPointTree_.set(i,l)),null!=r?c=!0:(c=!1,r=Ht.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((S,k)=>{const R=$h(k,wn());R&&(r=r.updateImmediateChild(S,R))}));const f=vz(l,e);if(!f&&!e._queryParams.loadsAllData()){const C=XA(e);(0,L.hu)(!n.queryToTagMap.has(C),"View does not exist, but we have a tag");const S=function jne(){return kne++}();n.queryToTagMap.set(C,S),n.tagToQueryMap.set(S,C)}let w=function Sne(n,e,t,i,r,s){const l=mz(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function Ene(n,e){n.eventRegistrations_.push(e)}(l,t),function Cne(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Kn,(s,l)=>{i.push(Ny(s,l))}),t.isFullyInitialized()&&i.push(ZH(t.getNode())),pz(n,i,t.getNode(),e)}(l,t)}(l,e,t,GA(n.pendingWriteTree_,i),r,c);if(!f&&!s){const C=yz(l,e);w=w.concat(function Hne(n,e,t){const i=e._path,r=JA(n,e),s=Tz(n,t),l=n.listenProvider_.startListening(cE(e),r,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(i);if(r)(0,L.hu)(!qh(c.value),"If we're adding a query, it shouldn't be shadowed");else{const f=c.fold((y,w,C)=>{if(!Xt(y)&&w&&qh(w))return[KA(w).query];{let S=[];return w&&(S=S.concat(_z(w).map(k=>k.query))),Nr(C,(k,R)=>{S=S.concat(R)}),S}});for(let y=0;y<f.length;++y){const w=f[y];n.listenProvider_.stopListening(cE(w),JA(n,w))}}return l}(n,e,C))}return w}function QA(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,c)=>{const y=$h(c,io(l,e));if(y)return y});return iz(r,e,s,t,!0)}function Vy(n,e){return Ez(e,n.syncPointTree_,null,GA(n.pendingWriteTree_,wn()))}function Ez(n,e,t,i){if(Xt(n.path))return Cz(n,e,t,i);{const r=e.get(wn());null==t&&null!=r&&(t=$h(r,wn()));let s=[];const l=Jt(n.path),c=n.operationForChild(l),f=e.children.get(l);if(f&&c){const y=t?t.getImmediateChild(l):null,w=sz(i,l);s=s.concat(Ez(c,f,y,w))}return r&&(s=s.concat(zL(r,n,i,t))),s}}function Cz(n,e,t,i){const r=e.get(wn());null==t&&null!=r&&(t=$h(r,wn()));let s=[];return e.children.inorderTraversal((l,c)=>{const f=t?t.getImmediateChild(l):null,y=sz(i,l),w=n.operationForChild(l);w&&(s=s.concat(Cz(w,c,f,y)))}),r&&(s=s.concat(zL(r,n,i,t))),s}function Tz(n,e){const t=e.query,i=JA(n,t);return{hashFn:()=>(function vne(n){return n.viewCache_.serverCache.getNode()}(e)||Ht.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Nne(n,e,t){const i=qL(n,t);if(i){const r=WL(i),s=r.path,l=r.queryId,c=io(s,e);return ZL(n,s,new sE(RL(l),c))}return[]}(n,t._path,i):function One(n,e){return Vy(n,new sE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Ree(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return $L(n,t,null,s)}}}}function JA(n,e){const t=XA(e);return n.queryToTagMap.get(t)}function XA(n){return n._path.toString()+"$"+n._queryIdentifier}function qL(n,e){return n.tagToQueryMap.get(e)}function WL(n){const e=n.indexOf("$");return(0,L.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Sn(n.substr(0,e))}}function ZL(n,e,t){const i=n.syncPointTree_.get(e);return(0,L.hu)(i,"Missing sync point for query tag that we're tracking"),zL(i,t,GA(n.pendingWriteTree_,e),null)}function cE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Mne(){return(0,L.hu)(YA,"Reference.ts has not been loaded"),YA}())(n._repo,n._path):n}class KL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new KL(t)}node(){return this.node_}}class YL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=di(this.path_,e);return new YL(this.syncTree_,t)}node(){return QA(this.syncTree_,this.path_)}}const Iz=function(n,e,t){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Gne(n[".sv"],e,t):"object"==typeof n[".sv"]?$ne(n[".sv"],e):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Gne=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},$ne=function(n,e,t){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,L.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,L.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},Dz=function(n,e,t,i){return JL(e,new YL(t,n),i)},QL=function(n,e,t){return JL(n,new KL(e),t)};function JL(n,e,t){const i=n.getPriority().val(),r=Iz(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,c=Iz(l.getValue(),e,t);return c!==l.getValue()||r!==l.getPriority().val()?new Py(c,yi(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Py(r))),l.forEachChild(Kn,(c,f)=>{const y=JL(f,e.getImmediateChild(c),t);y!==f&&(s=s.updateImmediateChild(c,y))}),s}}class XL{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function ex(n,e){let t=e instanceof Sn?e:new Sn(e),i=n,r=Jt(t);for(;null!==r;){const s=(0,L.DV)(i.node.children,r)||{children:{},childCount:0};i=new XL(r,i,s),t=jn(t),r=Jt(t)}return i}function Rg(n){return n.node.value}function e2(n,e){n.node.value=e,t2(n)}function Sz(n){return n.node.childCount>0}function tx(n,e){Nr(n.node.children,(t,i)=>{e(new XL(t,n,i))})}function Az(n,e,t,i){t&&!i&&e(n),tx(n,r=>{Az(r,e,!0,i)}),t&&i&&e(n)}function dE(n){return new Sn(null===n.parent?n.name:dE(n.parent)+"/"+n.name)}function t2(n){null!==n.parent&&function Zne(n,e,t){const i=function qne(n){return void 0===Rg(n)&&!Sz(n)}(t),r=(0,L.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,t2(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,t2(n))}(n.parent,n.name,n)}const Kne=/[\[\].#$\/\u0000-\u001F\u007F]/,Yne=/[\[\].#$\u0000-\u001F\u007F]/,n2=10485760,nx=function(n){return"string"==typeof n&&0!==n.length&&!Kne.test(n)},xz=function(n){return"string"==typeof n&&0!==n.length&&!Yne.test(n)},hE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!AA(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},ic=function(n,e,t,i){i&&void 0===e||fE((0,L.gK)(n,"value"),e,t)},fE=function(n,e,t){const i=t instanceof Sn?new cte(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Ag(i));if("function"==typeof e)throw new Error(n+"contains a function "+Ag(i)+" with contents = "+e.toString());if(AA(e))throw new Error(n+"contains "+e.toString()+" "+Ag(i));if("string"==typeof e&&e.length>n2/3&&(0,L.ug)(e)>n2)throw new Error(n+"contains a string greater than "+n2+" utf8 bytes "+Ag(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Nr(e,(l,c)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!nx(l)))throw new Error(n+" contains an invalid key ("+l+") "+Ag(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function dte(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,L.ug)(e),NH(n)})(i,l),fE(n,c,i),function hte(n){const e=n.parts_.pop();n.byteLength_-=(0,L.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Ag(i)+" in addition to actual children.")}},Mz=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,L.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Nr(e,(l,c)=>{const f=new Sn(l);if(fE(r,c,di(t,f)),".priority"===_L(f)&&!hE(c))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=Jw(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!nx(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(ute);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&sl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},r2=function(n,e,t){if(!t||void 0!==e){if(AA(e))throw new Error((0,L.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!hE(e))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pE=function(n,e,t,i){if(!(i&&void 0===t||nx(t)))throw new Error((0,L.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gE=function(n,e,t,i){if(!(i&&void 0===t||xz(t)))throw new Error((0,L.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},al=function(n,e){if(".info"===Jt(e))throw new Error(n+" failed = Can't modify data under /.info/")},kz=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!nx(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xz(n)}(t))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class eie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ix(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!yL(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function s2(n,e,t){ix(n,t),Pz(n,i=>yL(i,e))}function ll(n,e,t){ix(n,t),Pz(n,i=>sl(i,e)||sl(e,i))}function Pz(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(tie(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function tie(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Dg&&Or("event: "+t.toString()),My(i)}}}const Rz="repo_interrupt";class iie{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=BA(),this.transactionQueueTree_=new XL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Oz(n){const t=n.infoData_.getNode(new Sn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function mE(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Oz(n)})}function Nz(n,e,t,i,r){n.dataUpdateCount++;const s=new Sn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const f=(0,L.UI)(t,y=>yi(y));l=function Lne(n,e,t,i){const r=qL(n,i);if(r){const s=WL(r),l=s.path,c=s.queryId,f=io(l,e),y=Yn.fromObject(t);return ZL(n,l,new Ly(RL(c),f,y))}return[]}(n.serverSyncTree_,s,f,r)}else{const f=yi(t);l=function Fne(n,e,t,i){const r=qL(n,i);if(null!=r){const s=WL(r),l=s.path,c=s.queryId,f=io(l,e);return ZL(n,l,new Mg(RL(c),f,t))}return[]}(n.serverSyncTree_,s,f,r)}else if(i){const f=(0,L.UI)(t,y=>yi(y));l=function Rne(n,e,t){const i=Yn.fromObject(t);return Vy(n,new Ly({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,f)}else{const f=yi(t);l=uE(n.serverSyncTree_,s,f)}let c=s;l.length>0&&(c=jy(n,s)),ll(n.eventQueue_,c,l)}function Fz(n,e){o2(n,"connected",e),!1===e&&function lie(n){By(n,"onDisconnectEvents");const e=mE(n),t=BA();ML(n.onDisconnect_,wn(),(r,s)=>{const l=Dz(r,s,n.serverSyncTree_,e);Fy(t,r,l)});let i=[];ML(t,wn(),(r,s)=>{i=i.concat(uE(n.serverSyncTree_,r,s));const l=c2(n,r);jy(n,l)}),n.onDisconnect_=BA(),ll(n.eventQueue_,wn(),i)}(n)}function o2(n,e,t){const i=new Sn("/.info/"+e),r=yi(t);n.infoData_.updateSnapshot(i,r);const s=uE(n.infoSyncTree_,i,r);ll(n.eventQueue_,i,s)}function rx(n){return n.nextWriteId_++}function a2(n,e,t,i,r){By(n,"set",{path:e.toString(),value:t,priority:i});const s=mE(n),l=yi(t,i),c=QA(n.serverSyncTree_,e),f=QL(l,c,s),y=rx(n),w=GL(n.serverSyncTree_,e,f,y,!0);ix(n.eventQueue_,w),n.server_.put(e.toString(),l.val(!0),(S,k)=>{const R="ok"===S;R||Ss("set at "+e+" failed: "+S);const j=Wh(n.serverSyncTree_,y,!R);ll(n.eventQueue_,e,j),Zh(0,r,S,k)});const C=c2(n,e);jy(n,C),ll(n.eventQueue_,C,[])}function uie(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&xL(n.onDisconnect_,e),Zh(0,t,i,r)})}function Lz(n,e,t,i){const r=yi(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,l)=>{"ok"===s&&Fy(n.onDisconnect_,e,r),Zh(0,i,s,l)})}function l2(n,e,t){let i;i=".info"===Jt(e._path)?$L(n.infoSyncTree_,e,t):$L(n.serverSyncTree_,e,t),s2(n.eventQueue_,e._path,i)}function Uz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Rz)}function By(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Or(t,...e)}function Zh(n,e,t,i){e&&My(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function u2(n,e,t){return QA(n.serverSyncTree_,e,t)||Ht.EMPTY_NODE}function sx(n,e=n.transactionQueueTree_){if(e||ox(n,e),Rg(e)){const t=Bz(n,e);(0,L.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function gie(n,e,t){const i=t.map(y=>y.currentWriteId),r=u2(n,e,i);let s=r;const l=r.hash();for(let y=0;y<t.length;y++){const w=t[y];(0,L.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const C=io(e,w.path);s=s.updateChild(C,w.currentOutputSnapshotRaw)}const c=s.val(!0),f=e;n.server_.put(f.toString(),c,y=>{By(n,"transaction put response",{path:f.toString(),status:y});let w=[];if("ok"===y){const C=[];for(let S=0;S<t.length;S++)t[S].status=2,w=w.concat(Wh(n.serverSyncTree_,t[S].currentWriteId)),t[S].onComplete&&C.push(()=>t[S].onComplete(null,!0,t[S].currentOutputSnapshotResolved)),t[S].unwatcher();ox(n,ex(n.transactionQueueTree_,e)),sx(n,n.transactionQueueTree_),ll(n.eventQueue_,e,w);for(let S=0;S<C.length;S++)My(C[S])}else{if("datastale"===y)for(let C=0;C<t.length;C++)t[C].status=3===t[C].status?4:0;else{Ss("transaction at "+f.toString()+" failed: "+y);for(let C=0;C<t.length;C++)t[C].status=4,t[C].abortReason=y}jy(n,e)}},l)}(n,dE(e),t)}else Sz(e)&&tx(e,t=>{sx(n,t)})}function jy(n,e){const t=Vz(n,e),i=dE(t);return function mie(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const f=e[c],y=io(t,f.path);let C,w=!1;if((0,L.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)w=!0,C=f.abortReason,r=r.concat(Wh(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)w=!0,C="maxretry",r=r.concat(Wh(n.serverSyncTree_,f.currentWriteId,!0));else{const S=u2(n,f.path,l);f.currentInputSnapshot=S;const k=e[c].update(S.val());if(void 0!==k){fE("transaction failed: Data returned ",k,f.path);let R=yi(k);"object"==typeof k&&null!=k&&(0,L.r3)(k,".priority")||(R=R.updatePriority(S.getPriority()));const Q=f.currentWriteId,pe=mE(n),Me=QL(R,S,pe);f.currentOutputSnapshotRaw=R,f.currentOutputSnapshotResolved=Me,f.currentWriteId=rx(n),l.splice(l.indexOf(Q),1),r=r.concat(GL(n.serverSyncTree_,f.path,Me,f.currentWriteId,f.applyLocally)),r=r.concat(Wh(n.serverSyncTree_,Q,!0))}else w=!0,C="nodata",r=r.concat(Wh(n.serverSyncTree_,f.currentWriteId,!0))}ll(n.eventQueue_,t,r),r=[],w&&(e[c].status=2,setTimeout(e[c].unwatcher,Math.floor(0)),e[c].onComplete&&i.push("nodata"===C?()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot):()=>e[c].onComplete(new Error(C),!1,null)))}ox(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)My(i[c]);sx(n,n.transactionQueueTree_)}(n,Bz(n,t),i),i}function Vz(n,e){let t,i=n.transactionQueueTree_;for(t=Jt(e);null!==t&&void 0===Rg(i);)i=ex(i,t),t=Jt(e=jn(e));return i}function Bz(n,e){const t=[];return jz(n,e,t),t.sort((i,r)=>i.order-r.order),t}function jz(n,e,t){const i=Rg(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);tx(e,r=>{jz(n,r,t)})}function ox(n,e){const t=Rg(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,e2(e,t.length>0?t:void 0)}tx(e,i=>{ox(n,i)})}function c2(n,e){const t=dE(Vz(n,e)),i=ex(n.transactionQueueTree_,e);return function Wne(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{d2(n,r)}),d2(n,i),Az(i,r=>{d2(n,r)}),t}function d2(n,e){const t=Rg(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,L.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,L.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(Wh(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?e2(e,void 0):t.length=s+1,ll(n.eventQueue_,dE(e),r);for(let l=0;l<i.length;l++)My(i[l])}}const h2=function(n,e){const t=vie(n),i=t.namespace;return"firebase.com"===t.domain&&ec(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&ec("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ss("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new dL(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Sn(t.pathString)}},vie=function(n){let e="",t="",i="",r="",s="",l=!0,c="https",f=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(c=n.substring(0,y-1),n=n.substring(y+2));let w=n.indexOf("/");-1===w&&(w=n.length);let C=n.indexOf("?");-1===C&&(C=n.length),e=n.substring(0,Math.min(w,C)),w<C&&(r=function _ie(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(w,C)));const S=function yie(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ss(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,C)));y=e.indexOf(":"),y>=0?(l="https"===c||"wss"===c,f=parseInt(e.substring(y+1),10)):y=e.length;const k=e.slice(0,y);if("localhost"===k.toLowerCase())t="localhost";else if(k.split(".").length<=2)t=k;else{const R=e.indexOf(".");i=e.substring(0,R).toLowerCase(),t=e.substring(R+1),s=i}"ns"in S&&(s=S.ns)}return{host:e,port:f,domain:t,subdomain:i,secure:l,scheme:c,pathString:r,namespace:s}};class Hz{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())}}class zz{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Gz{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class $z{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new L.BH;return uie(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){al("OnDisconnect.remove",this._path);const e=new L.BH;return Lz(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){al("OnDisconnect.set",this._path),ic("OnDisconnect.set",e,this._path,!1);const t=new L.BH;return Lz(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){al("OnDisconnect.setWithPriority",this._path),ic("OnDisconnect.setWithPriority",e,this._path,!1),r2("OnDisconnect.setWithPriority",t,!1);const i=new L.BH;return function cie(n,e,t,i,r){const s=yi(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,c)=>{"ok"===l&&Fy(n.onDisconnect_,e,s),Zh(0,r,l,c)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){al("OnDisconnect.update",this._path),Mz("OnDisconnect.update",e,this._path,!1);const t=new L.BH;return function die(n,e,t,i){if((0,L.xb)(t))return Or("onDisconnect().update() called with empty data.  Don't do anything."),void Zh(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Nr(t,(l,c)=>{const f=yi(c);Fy(n.onDisconnect_,di(e,l),f)}),Zh(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Uo{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Xt(this._path)?null:_L(this._path)}get ref(){return new ul(this._repo,this._path)}get _queryIdentifier(){const e=YH(this._queryParams),t=lL(e);return"{}"===t?"default":t}get _queryObject(){return YH(this._queryParams)}isEqual(e){if(!((e=(0,L.m9)(e))instanceof Uo))return!1;const t=this._repo===e._repo,i=yL(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function lte(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function ax(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Kh(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===nc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==dd)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==tc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Kn){if(null!=e&&!hE(e)||null!=t&&!hE(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof CL||n.getIndex()===TL,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lx(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ul extends Uo{constructor(e,t){super(e,t,new LA,!1)}get parent(){const e=OH(this._path);return null===e?null:new ul(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Og{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Sn(e),i=Ng(this.ref,e);return new Og(this._node.getChild(t),i,Kn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Og(r,Ng(this.ref,i),Kn)))}hasChild(e){const t=new Sn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qz(n,e){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==e?Ng(n._root,e):n._root}function Wz(n,e){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const t=h2(e,n._repo.repoInfo_.nodeAdmin);kz("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ec("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),qz(n,t.path.toString())}function Ng(n,e){return null===Jt((n=(0,L.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),gE("child","path",t,!1)):gE("child","path",e,!1),new ul(n._repo,di(n._path,e));var t}function f2(n,e){n=(0,L.m9)(n),al("set",n._path),ic("set",e,n._path,!1);const t=new L.BH;return a2(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Tie(n,e){Mz("update",e,n._path,!1);const t=new L.BH;return function aie(n,e,t,i){By(n,"update",{path:e.toString(),value:t});let r=!0;const s=mE(n),l={};if(Nr(t,(c,f)=>{r=!1,l[c]=Dz(di(e,c),yi(f),n.serverSyncTree_,s)}),r)Or("update() called with empty data.  Don't do anything."),Zh(0,i,"ok",void 0);else{const c=rx(n),f=function Pne(n,e,t,i){!function Kte(n,e,t,i){(0,L.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=NL(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Yn.fromObject(t);return Vy(n,new Ly({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,c);ix(n.eventQueue_,f),n.server_.merge(e.toString(),t,(y,w)=>{const C="ok"===y;C||Ss("update at "+e+" failed: "+y);const S=Wh(n.serverSyncTree_,c,!C),k=S.length>0?jy(n,e):e;ll(n.eventQueue_,k,S),Zh(0,i,y,w)}),Nr(t,y=>{const w=c2(n,di(e,y));jy(n,w)}),ll(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Iie(n){return function oie(n,e){const t=function Une(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(y,w)=>{const C=io(y,t);i=i||$h(w,C)});let r=n.syncPointTree_.get(t);r?i=i||$h(r,wn()):(r=new gz,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,l=s?new zh(i,!0,!1):null;return function bne(n){return zA(n.viewCache_)}(mz(r,e,GA(n.pendingWriteTree_,e._path),s?l.getNode():Ht.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=yi(i).withIndex(e._queryParams.getIndex()),s=uE(n.serverSyncTree_,e._path,r);return s2(n.eventQueue_,e._path,s),Promise.resolve(r)},i=>(By(n,"get for query "+(0,L.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,L.m9)(n))._repo,n).then(e=>new Og(e,new ul(n._repo,n._path),n._queryParams.getIndex()))}class ux{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new Hz("value",this,new Og(e.snapshotNode,new ul(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new zz(this,e,t):null}matches(e){return e instanceof ux&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cx{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new zz(this,e,t):null}createEvent(e,t){(0,L.hu)(null!=e.childName,"Child events should have a childName.");const i=Ng(new ul(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Hz(e.type,this,new Og(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof cx&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function _E(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const f=t,y=(w,C)=>{l2(n._repo,n,c),f(w,C)};y.userCallback=t.userCallback,y.context=t.context,t=y}const l=new Gz(t,s||void 0),c="value"===e?new ux(l):new cx(e,l);return function hie(n,e,t){let i;i=".info"===Jt(e._path)?wz(n.infoSyncTree_,e,t):wz(n.serverSyncTree_,e,t),s2(n.eventQueue_,e._path,i)}(n._repo,n,c),()=>l2(n._repo,n,c)}function p2(n,e,t,i){return _E(n,"value",e,t,i)}function Zz(n,e,t,i){return _E(n,"child_added",e,t,i)}function Kz(n,e,t,i){return _E(n,"child_changed",e,t,i)}function Yz(n,e,t,i){return _E(n,"child_moved",e,t,i)}function Qz(n,e,t,i){return _E(n,"child_removed",e,t,i)}function Jz(n,e,t){let i=null;const r=t?new Gz(t):null;"value"===e?i=new ux(r):e&&(i=new cx(e,r)),l2(n._repo,n,i)}class Ql{}class Xz extends Ql{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ic("endAt",this._value,e._path,!0);const t=AL(e._queryParams,this._value,this._key);if(lx(t),Kh(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Uo(e._repo,e._path,t,e._orderByCalled)}}class Sie extends Ql{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ic("endBefore",this._value,e._path,!1);const t=function Fte(n,e,t){let i,r;return n.index_===nc?("string"==typeof e&&(e=WH(e)),r=AL(n,e,t)):(i=null==t?dd:WH(t),r=AL(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(lx(t),Kh(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Uo(e._repo,e._path,t,e._orderByCalled)}}class e8 extends Ql{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ic("startAt",this._value,e._path,!0);const t=SL(e._queryParams,this._value,this._key);if(lx(t),Kh(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Uo(e._repo,e._path,t,e._orderByCalled)}}class Mie extends Ql{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ic("startAfter",this._value,e._path,!1);const t=function Nte(n,e,t){let i;if(n.index_===nc)"string"==typeof e&&(e=qH(e)),i=SL(n,e,t);else{let r;r=null==t?tc:qH(t),i=SL(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(lx(t),Kh(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Uo(e._repo,e._path,t,e._orderByCalled)}}class Pie extends Ql{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Uo(e._repo,e._path,function Rte(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class Oie extends Ql{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Uo(e._repo,e._path,function Ote(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class Fie extends Ql{constructor(e){super(),this._path=e}_apply(e){ax(e,"orderByChild");const t=new Sn(this._path);if(Xt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new CL(t),r=UA(e._queryParams,i);return Kh(r),new Uo(e._repo,e._path,r,!0)}}class Uie extends Ql{_apply(e){ax(e,"orderByKey");const t=UA(e._queryParams,nc);return Kh(t),new Uo(e._repo,e._path,t,!0)}}class Bie extends Ql{_apply(e){ax(e,"orderByPriority");const t=UA(e._queryParams,Kn);return Kh(t),new Uo(e._repo,e._path,t,!0)}}class Hie extends Ql{_apply(e){ax(e,"orderByValue");const t=UA(e._queryParams,TL);return Kh(t),new Uo(e._repo,e._path,t,!0)}}class Gie extends Ql{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ic("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Xz(this._value,this._key)._apply(new e8(this._value,this._key)._apply(e))}}function Jl(n,...e){let t=(0,L.m9)(n);for(const i of e)t=i._apply(t);return t}(function Tne(n){(0,L.hu)(!ZA,"__referenceConstructor has already been defined"),ZA=n})(ul),function xne(n){(0,L.hu)(!YA,"__referenceConstructor has already been defined"),YA=n}(ul);const g2={};function n8(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||ec("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Or("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,y,l=h2(s,r),c=l.repoInfo;"undefined"!=typeof process&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(f=!0,s=`http://${y}?ns=${c.namespace}`,l=h2(s,r),c=l.repoInfo):f=!l.repoInfo.secure;const w=r&&f?new Qw(Qw.OWNER):new Lee(n.name,n.options,e);kz("Invalid Firebase Database URL",l),Xt(l.path)||ec("Database URL must point to the root of a Firebase Database (not including a child path).");const C=function Kie(n,e,t,i){let r=g2[e.name];r||(r={},g2[e.name]=r);let s=r[n.toURLString()];return s&&ec("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new iie(n,false,t,i),r[n.toURLString()]=s,s}(c,n,w,new Fee(n.name,t));return new Qie(C,n)}class Qie{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function rie(n,e,t){if(n.stats_=pL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new VA(n.repoInfo_,(i,r,s,l)=>{Nz(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Fz(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new xg(n.repoInfo_,e,(i,r,s,l)=>{Nz(n,i,r,s,l)},i=>{Fz(n,i)},i=>{!function sie(n,e){Nr(e,(t,i)=>{o2(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Bee(n,e){const t=n.toString();return fL[t]||(fL[t]=e()),fL[t]}(n.repoInfo_,()=>new Hte(n.stats_,n.server_)),n.infoData_=new Lte,n.infoSyncTree_=new bz({startListening:(i,r,s,l)=>{let c=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(c=uE(n.infoSyncTree_,i._path,f),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),o2(n,"connected",!1),n.serverSyncTree_=new bz({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(c,f)=>{const y=l(c,f);ll(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ul(this._repo,wn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Zie(n,e){const t=g2[e];(!t||t[n.key]!==n)&&ec(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Uz(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ec("Cannot call "+e+" on a deleted database.")}}function i8(){EH.IS_TRANSPORT_INITIALIZED&&Ss("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Jie(){i8(),jh.forceDisallow()}function Xie(){i8(),ky.forceDisallow(),jh.forceAllow()}function ire(n,e){nH(n,e)}const sre={".sv":"timestamp"};class lre{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}xg.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},xg.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function rre(n){Q4(qs.SDK_VERSION),(0,qs._registerComponent)(new Hl.wA("database",(e,{instanceIdentifier:t})=>n8(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,qs.registerVersion)(K4,"0.13.0",n),(0,qs.registerVersion)(K4,"0.13.0","esm2017")}();const hre=new zl.Yd("@firebase/database-compat"),r8=function(n){hre.warn("FIREBASE WARNING: "+n)};class gre{constructor(e){this._delegate=e}cancel(e){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,r8("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class mre{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Yh{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),gE("DataSnapshot.child","path",e,!1),new Yh(this._database,this._delegate.child(e))}hasChild(e){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),gE("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Yh(this._database,t)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ta(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class es{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",t,!1);const l=es.getCancelAndContextArgs_("Query.on",i,r),c=(y,w)=>{t.call(l.context,new Yh(this.database,y),w)};c.userCallback=t,c.context=l.context;const f=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return p2(this._delegate,c,f),t;case"child_added":return Zz(this._delegate,c,f),t;case"child_removed":return Qz(this._delegate,c,f),t;case"child_changed":return Kz(this._delegate,c,f),t;case"child_moved":return Yz(this._delegate,c,f),t;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,L.Wj)("Query.off","callback",t,!0),(0,L.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,Jz(this._delegate,e,r)}else Jz(this._delegate,e)}get(){return Iie(this._delegate).then(e=>new Yh(this.database,e))}once(e,t,i,r){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",t,!0);const s=es.getCancelAndContextArgs_("Query.once",i,r),l=new L.BH,c=(y,w)=>{const C=new Yh(this.database,y);t&&t.call(s.context,C,w),l.resolve(C)};c.userCallback=t,c.context=s.context;const f=y=>{s.cancel&&s.cancel.call(s.context,y),l.reject(y)};switch(e){case"value":p2(this._delegate,c,f,{onlyOnce:!0});break;case"child_added":Zz(this._delegate,c,f,{onlyOnce:!0});break;case"child_removed":Qz(this._delegate,c,f,{onlyOnce:!0});break;case"child_changed":Kz(this._delegate,c,f,{onlyOnce:!0});break;case"child_moved":Yz(this._delegate,c,f,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new es(this.database,Jl(this._delegate,function Rie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Pie(n)}(e)))}limitToLast(e){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new es(this.database,Jl(this._delegate,function Nie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Oie(n)}(e)))}orderByChild(e){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new es(this.database,Jl(this._delegate,function Lie(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gE("orderByChild","path",n,!1),new Fie(n)}(e)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new es(this.database,Jl(this._delegate,function Vie(){return new Uie}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new es(this.database,Jl(this._delegate,function jie(){return new Bie}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new es(this.database,Jl(this._delegate,function zie(){return new Hie}()))}startAt(e=null,t){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new es(this.database,Jl(this._delegate,function xie(n=null,e){return pE("startAt","key",e,!0),new e8(n,e)}(e,t)))}startAfter(e=null,t){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new es(this.database,Jl(this._delegate,function kie(n,e){return pE("startAfter","key",e,!0),new Mie(n,e)}(e,t)))}endAt(e=null,t){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new es(this.database,Jl(this._delegate,function Die(n,e){return pE("endAt","key",e,!0),new Xz(n,e)}(e,t)))}endBefore(e=null,t){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new es(this.database,Jl(this._delegate,function Aie(n,e){return pE("endBefore","key",e,!0),new Sie(n,e)}(e,t)))}equalTo(e,t){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new es(this.database,Jl(this._delegate,function $ie(n,e){return pE("equalTo","key",e,!0),new Gie(n,e)}(e,t)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof es))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,L.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,L.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,L.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Ta(this.database,new ul(this._delegate._repo,this._delegate._path))}}class Ta extends es{constructor(e,t){super(e,new Uo(t._repo,t._path,new LA,!1)),this.database=e,this._delegate=t}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ta(this.database,Ng(this._delegate,e))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ta(this.database,e):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new Ta(this.database,this._delegate.root)}set(e,t){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",t,!0);const i=f2(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,r8("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}al("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",t,!0);const i=Tie(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Cie(n,e,t){if(al("setWithPriority",n._path),ic("setWithPriority",e,n._path,!1),r2("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new L.BH;return a2(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",e,!0);const t=function wie(n){return al("remove",n._path),f2(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,L.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function ure(n,e,t){var i;if(n=(0,L.m9)(n),al("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==t?void 0:t.applyLocally)||void 0===i||i,s=new L.BH,c=p2(n,()=>{});return function pie(n,e,t,i,r,s){By(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:X4(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=u2(n,e,void 0);l.currentInputSnapshot=c;const f=l.update(c.val());if(void 0===f)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{fE("transaction failed: Data returned ",f,l.path),l.status=0;const y=ex(n.transactionQueueTree_,e),w=Rg(y)||[];let C;w.push(l),e2(y,w),"object"==typeof f&&null!==f&&(0,L.r3)(f,".priority")?(C=(0,L.DV)(f,".priority"),(0,L.hu)(hE(C),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):C=(QA(n.serverSyncTree_,e)||Ht.EMPTY_NODE).getPriority().val();const S=mE(n),k=yi(f,C),R=QL(k,c,S);l.currentOutputSnapshotRaw=k,l.currentOutputSnapshotResolved=R,l.currentWriteId=rx(n);const j=GL(n.serverSyncTree_,e,R,l.currentWriteId,l.applyLocally);ll(n.eventQueue_,e,j),sx(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(f,y,w)=>{let C=null;f?s.reject(f):(C=new Og(w,new ul(n._repo,n._path),Kn),s.resolve(new lre(y,C)))},c,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new mre(s.committed,new Yh(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",t,!0);const i=function Eie(n,e){n=(0,L.m9)(n),al("setPriority",n._path),r2("setPriority",e,!1);const t=new L.BH;return a2(n._repo,di(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",t,!0);const i=function bie(n,e){n=(0,L.m9)(n),al("push",n._path),ic("push",e,n._path,!0);const t=Oz(n._repo),i=xte(t),r=Ng(n,i),s=Ng(n,i);let l;return l=null!=e?f2(s,e).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new Ta(this.database,l));t&&r.then(()=>t(null),l=>t(l));const s=new Ta(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return al("Reference.onDisconnect",this._delegate._path),new gre(new $z(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class yE{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Jie,forceLongPolling:Xie}}useEmulator(e,t,i={}){!function ere(n,e,t,i={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ec("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ec('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Qw(Qw.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,L.Sg)(i.mockUserToken,n.app.options.projectId);s=new Qw(l)}!function Wie(n,e,t,i){n.repoInfo_=new dL(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,L.Dv)("database.ref",0,1,arguments.length),e instanceof Ta){const t=Wz(this._delegate,e.toString());return new Ta(this,t)}{const t=qz(this._delegate,e);return new Ta(this,t)}}refFromURL(e){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const i=Wz(this._delegate,e);return new Ta(this,i)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function tre(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),Uz(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function nre(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function fie(n){n.persistentConnection_&&n.persistentConnection_.resume(Rz)}(n._repo)}(this._delegate)}}yE.ServerValue={TIMESTAMP:function ore(){return sre}(),increment:n=>function are(n){return{".sv":{increment:n}}}(n)};var yre=Object.freeze({__proto__:null,initStandalone:function _re({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Q4(t);const l=new Hl.zt("auth-internal",new Hl.H0("database-standalone"));return l.setComponent(new Hl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new yE(n8(n,l,void 0,e,s),n),namespace:r}}});const vre=yE.ServerValue;function s8(n){return null==n}function o8(n){return"function"==typeof n.set}function a8(n,e){return o8(e)?e:n.ref(e)}function l8(n,e){if(function wre(n){return"string"==typeof n}(n))return e.stringCase();if(o8(n))return e.firebaseCase();if(function Ere(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function vE(n,e,t="on",i=CR.z){return new Vn.y(r=>{let s=null;return s=n[t](e,(l,c)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:c})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,dt.U)(r=>{const{snapshot:s,prevKey:l}=r;let c=null;return s.exists()&&(c=s.key),{type:e,payload:s,prevKey:l,key:c}}),(0,WP.B)())}function u8(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Ire(n,e){const{payload:t,prevKey:i,key:r}=e,s=u8(n,r),l=function Tre(n,e){if(s8(e))return 0;{const t=u8(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let c=null;e.payload.forEach(f=>{const y={payload:f,type:"value",prevKey:c,key:f.key};return c=f.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const c=n[s-1];(c&&c.key||null)!==i&&(n=n.filter(f=>f.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(c=>c.payload.key!==t.key);case"child_changed":return n.map(c=>c.payload.key===r?e:c);case"child_moved":if(s>-1){const c=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,c),n}return n;default:return n}}function c8(n){return(s8(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function d8(n,e,t){return function Cre(n,e,t){return vE(n,"value","once",t).pipe(Vi(i=>{const r=[pt(i)];return e.forEach(s=>r.push(vE(n,s,"on",t))),(0,qP.T)(...r).pipe(jc(Ire,[]))}),Tf())}(n,e=c8(e),t)}function h8(n,e,t){const i=(e=c8(e)).map(r=>vE(n,r,"on",t));return(0,qP.T)(...i)}function f8(n,e){return function(i,r){return l8(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function xre(n){return function(t){return t?l8(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function p8(n,e){return function(){return vE(n,"value","on",e)}}!function bre(n){n.INTERNAL.registerComponent(new Hl.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new yE(r,i)},"PUBLIC").setServiceProps({Reference:Ta,Query:es,Database:yE,DataSnapshot:Yh,enableLogging:ire,INTERNAL:yre,ServerValue:vre}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(IR.Z);const Pre=new d.OlP("angularfire2.realtimeDatabaseURL"),Rre=new d.OlP("angularfire2.database.use-emulator");let Ore=(()=>{class n{constructor(t,i,r,s,l,c,f,y,w,C,S,k,R,j,Q){this.schedulers=c;const pe=f,Me=(0,fr.on)(t,l,i);y&&yR(Me,l,w,S,k,R,C,j),this.database=(0,fr.cc)(`${Me.name}.database.${r}`,"AngularFireDatabase",Me.name,()=>{const Ue=l.runOutsideAngular(()=>Me.database(r||void 0));return pe&&Ue.useEmulator(...pe),Ue},[pe])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>a8(this.database,t));let s=r;return i&&(s=i(r)),function Mre(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:f8(i,"update"),set:f8(i,"set"),push:r=>i.push(r),remove:xre(i),snapshotChanges:r=>d8(n,r,t).pipe(bn.iC),stateChanges:r=>h8(n,r,t).pipe(bn.iC),auditTrail:r=>function Dre(n,e,t){return function Are(n,e,t){return function Sre(n,e){return vE(n,"value","on",e).pipe((0,dt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function Tee(...n){const e=(0,pi.jO)(n);return(0,Tn.e)((t,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),c=!1;for(let f=0;f<r;f++)(0,la.Xf)(n[f]).subscribe((0,jt.x)(i,y=>{s[f]=y,!c&&!l[f]&&(l[f]=!0,(c=l.every(aa.y))&&(l=null))},_m.Z));t.subscribe((0,jt.x)(i,f=>{if(c){const y=[f,...s];i.next(e?e(...y):y)}}))})}(e),(0,dt.U)(([r,s])=>{const l=r.lastKeyToLoad,c=s.map(f=>f.key);return{actions:s,lastKeyToLoad:l,loadedKeys:c}}),function Iee(n){return(0,Tn.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,jt.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,dt.U)(r=>r.actions))}(n,h8(n,e).pipe(jc((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(bn.iC),valueChanges:(r,s)=>d8(n,r,t).pipe((0,dt.U)(c=>c.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),bn.iC)}}(s,this)}object(t){return function kre(n,e){return{query:n,snapshotChanges:()=>p8(n,e.schedulers.outsideAngular)().pipe(bn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>p8(n,e.schedulers.outsideAngular)().pipe(bn.iC,(0,dt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>a8(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fr.Dh),d.LFG(fr.xv,8),d.LFG(Pre,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(bn.HU),d.LFG(Rre,8),d.LFG(Pb,8),d.LFG(hR,8),d.LFG(fR,8),d.LFG(pR,8),d.LFG(gR,8),d.LFG(mR,8),d.LFG(_R,8),d.LFG(kb,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Nre=(()=>{class n{constructor(){$D.Z.registerVersion("angularfire",bn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Ore]}),n})();const g8_firebase={apiKey:"AIzaSyDCz0jsvu6rVnvx3JulwcVeq7oel9ewMOc",authDomain:"alanpucci-labiv-juegos.firebaseapp.com",projectId:"alanpucci-labiv-juegos",storageBucket:"alanpucci-labiv-juegos.appspot.com",messagingSenderId:"226287813136",appId:"1:226287813136:web:5536d0d598399a23f60095"};let qre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ma,mi],mi]}),n})(),Wre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[DJ]}),n.\u0275inj=d.cJS({providers:[],imports:[[aJ,Na,a4,IJ,Wm,SJ,RJ,f0,qre,Ld,r4,fr.hO.initializeApp(g8_firebase),sq,oQ,Cee,Nre,Lq.forRoot(),hV]]}),n})();(0,d.G48)(),hu().bootstrapModule(Wre).catch(n=>console.error(n))},5867:(nt,Te,U)=>{U.d(Te,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=U(9681);(0,d.registerVersion)("firebase","9.8.1","app")},127:(nt,Te,U)=>{U.d(Te,{Z:()=>d.Z});var d=U(3942);d.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(nt,Te,U)=>{U.r(Te);var d=U(5861),se=U(3942),V=U(2090),ge=U(9681),ue=U(655),we=U(1877),le=U(4859);const Ve=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new we.Yd("@firebase/auth");function et(v,...g){Ye.logLevel<=we.in.ERROR&&Ye.error(`Auth (${ge.SDK_VERSION}): ${v}`,...g)}function ke(v,...g){throw We(v,...g)}function Ie(v,...g){return We(v,...g)}function Se(v,g,_){const E=Object.assign(Object.assign({},$e()),{[g]:_});return new V.LL("auth","Firebase",E).create(g,{appName:v.name})}function qe(v,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&ke(v,"argument-error"),Se(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(v,...g){if("string"!=typeof v){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(_,...E)}return ye.create(v,...g)}function W(v,g,..._){if(!v)throw We(g,..._)}function De(v){const g="INTERNAL ASSERTION FAILED: "+v;throw et(g),new Error(g)}function ee(v,g){v||De(g)}const ce=new Map;function oe(v){ee(v instanceof Function,"Expected a class definition");let g=ce.get(v);return g?(ee(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,ce.set(v,g),g)}function je(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function yt(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class hn{constructor(g,_){this.shortDelay=g,this.longDelay=_,ee(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function zt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hn(v,g){ee(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class gn{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void De("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void De("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void De("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zi=new hn(3e4,6e4);function en(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Gt(v,g,_,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(v,g,_,E,P={}){return _r(v,P,(0,d.Z)(function*(){let F={},te={};E&&("GET"===g?te=E:F={body:JSON.stringify(E)});const ve=(0,V.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),Ge=yield v._getAdditionalHeaders();return Ge["Content-Type"]="application/json",v.languageCode&&(Ge["X-Firebase-Locale"]=v.languageCode),gn.fetch()(so(v,v.config.apiHost,_,ve),Object.assign({method:g,headers:Ge,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function _r(v,g,_){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,d.Z)(function*(v,g,_){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},on),g);try{const P=new nr(v),F=yield Promise.race([_(),P.promise]);P.clearNetworkTimeout();const te=yield F.json();if("needConfirmation"in te)throw rs(v,"account-exists-with-different-credential",te);if(F.ok&&!("errorMessage"in te))return te;{const ve=F.ok?te.errorMessage:te.error.message,[Ge,rt]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw rs(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===Ge)throw rs(v,"email-already-in-use",te);const bt=E[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw Se(v,bt,rt);ke(v,bt)}}catch(P){if(P instanceof V.ZR)throw P;ke(v,"network-request-failed")}})).apply(this,arguments)}function Gi(v,g,_,E){return is.apply(this,arguments)}function is(){return(is=(0,d.Z)(function*(v,g,_,E,P={}){const F=yield Gt(v,g,_,E,P);return"mfaPendingCredential"in F&&ke(v,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function so(v,g,_,E){const P=`${g}${_}?${E}`;return v.config.emulator?Hn(v.config,P):`${v.config.apiScheme}://${P}`}class nr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Ie(this.auth,"network-request-failed")),zi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rs(v,g,_){const E={appName:v.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const P=Ie(v,g,E);return P.customData._tokenResponse=_,P}function yr(){return(yr=(0,d.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ln(v,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function oo(v,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function hi(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Vo(){return(Vo=(0,d.Z)(function*(v,g=!1){const _=(0,V.m9)(v),E=yield _.getIdToken(g),P=ht(E);W(P&&P.exp&&P.auth_time&&P.iat,_.auth,"internal-error");const F="object"==typeof P.firebase?P.firebase:void 0,te=null==F?void 0:F.sign_in_provider;return{claims:P,token:E,authTime:hi(Yt(P.auth_time)),issuedAtTime:hi(Yt(P.iat)),expirationTime:hi(Yt(P.exp)),signInProvider:te||null,signInSecondFactor:(null==F?void 0:F.sign_in_second_factor)||null}})).apply(this,arguments)}function Yt(v){return 1e3*Number(v)}function ht(v){const[g,_,E]=v.split(".");if(void 0===g||void 0===_||void 0===E)return et("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,V.tV)(_);return P?JSON.parse(P):(et("Failed to decode base64 JWT payload"),null)}catch(P){return et("Caught error parsing JWT payload as JSON",P),null}}function xi(v,g){return br.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(v,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof V.ZR&&Wt(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Wt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Bo{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const P=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class Mi{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=hi(this.lastLoginAt),this.creationTime=hi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ki(v){return z.apply(this,arguments)}function z(){return(z=(0,d.Z)(function*(v){var g;const _=v.auth,E=yield v.getIdToken(),P=yield xi(v,oo(_,{idToken:E}));W(null==P?void 0:P.users.length,_,"internal-error");const F=P.users[0];v._notifyReloadListener(F);const te=(null===(g=F.providerUserInfo)||void 0===g?void 0:g.length)?Y(F.providerUserInfo):[],ve=xe(v.providerData,te),bt=!!v.isAnonymous&&!(v.email&&F.passwordHash||(null==ve?void 0:ve.length)),vt={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:ve,metadata:new Mi(F.createdAt,F.lastLoginAt),isAnonymous:bt};Object.assign(v,vt)})).apply(this,arguments)}function X(){return(X=(0,d.Z)(function*(v){const g=(0,V.m9)(v);yield ki(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function xe(v,g){return[...v.filter(E=>!g.some(P=>P.providerId===E.providerId)),...g]}function Y(v){return v.map(g=>{var{providerId:_}=g,E=(0,ue._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Fe(){return(Fe=(0,d.Z)(function*(v,g){const _=yield _r(v,{},(0,d.Z)(function*(){const E=(0,V.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:P,apiKey:F}=v.config,te=so(v,P,"/v1/token",`key=${F}`),ve=yield v._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",gn.fetch()(te,{method:"POST",headers:ve,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class it{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){W(g.idToken,"internal-error"),W(void 0!==g.idToken,"internal-error"),W(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function St(v){const g=ht(v);return W(g,"internal-error"),W(void 0!==g.exp,"internal-error"),W(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,d.Z)(function*(){return W(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,d.Z)(function*(){const{accessToken:P,refreshToken:F,expiresIn:te}=yield function re(v,g){return Fe.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(P,F,Number(te))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:P,expirationTime:F}=_,te=new it;return E&&(W("string"==typeof E,"internal-error",{appName:g}),te.refreshToken=E),P&&(W("string"==typeof P,"internal-error",{appName:g}),te.accessToken=P),F&&(W("number"==typeof F,"internal-error",{appName:g}),te.expirationTime=F),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new it,this.toJSON())}_performRefresh(){return De("not implemented")}}function Et(v,g){W("string"==typeof v||void 0===v,"internal-error",{appName:g})}class kt{constructor(g){var{uid:_,auth:E,stsTokenManager:P}=g,F=(0,ue._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Mi(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,d.Z)(function*(){const E=yield xi(_,_.stsTokenManager.getToken(_.auth,g));return W(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function vr(v){return Vo.apply(this,arguments)}(this,g)}reload(){return function J(v){return X.apply(this,arguments)}(this)}_assign(g){this!==g&&(W(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new kt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,d.Z)(function*(){let P=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),P=!0),_&&(yield ki(E)),yield E.auth._persistUserIfCurrent(E),P&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,d.Z)(function*(){const _=yield g.getIdToken();return yield xi(g,function Tt(v,g){return yr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,P,F,te,ve,Ge,rt,bt;const vt=null!==(E=_.displayName)&&void 0!==E?E:void 0,li=null!==(P=_.email)&&void 0!==P?P:void 0,Hr=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,Al=null!==(te=_.photoURL)&&void 0!==te?te:void 0,Em=null!==(ve=_.tenantId)&&void 0!==ve?ve:void 0,mv=null!==(Ge=_._redirectEventId)&&void 0!==Ge?Ge:void 0,Ou=null!==(rt=_.createdAt)&&void 0!==rt?rt:void 0,Df=null!==(bt=_.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:Sf,emailVerified:_v,isAnonymous:Af,providerData:Cm,stsTokenManager:yv}=_;W(Sf&&yv,g,"internal-error");const qE=it.fromJSON(this.name,yv);W("string"==typeof Sf,g,"internal-error"),Et(vt,g.name),Et(li,g.name),W("boolean"==typeof _v,g,"internal-error"),W("boolean"==typeof Af,g,"internal-error"),Et(Hr,g.name),Et(Al,g.name),Et(Em,g.name),Et(mv,g.name),Et(Ou,g.name),Et(Df,g.name);const Tm=new kt({uid:Sf,auth:g,email:li,emailVerified:_v,displayName:vt,isAnonymous:Af,photoURL:Al,phoneNumber:Hr,tenantId:Em,stsTokenManager:qE,createdAt:Ou,lastLoginAt:Df});return Cm&&Array.isArray(Cm)&&(Tm.providerData=Cm.map(WE=>Object.assign({},WE))),mv&&(Tm._redirectEventId=mv),Tm}static _fromIdTokenResponse(g,_,E=!1){return(0,d.Z)(function*(){const P=new it;P.updateFromServerResponse(_);const F=new kt({uid:_.localId,auth:g,stsTokenManager:P,isAnonymous:E});return yield ki(F),F})()}}const xt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,E){var P=this;return(0,d.Z)(function*(){P.storage[_]=E})()}_get(_){var E=this;return(0,d.Z)(function*(){const P=E.storage[_];return void 0===P?null:P})()}_remove(_){var E=this;return(0,d.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return v.type="NONE",v})();function ni(v,g,_){return`firebase:${v}:${g}:${_}`}class $i{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:P,name:F}=this.auth;this.fullUserKey=ni(this.userKey,P.apiKey,F),this.fullPersistenceKey=ni("persistence",P.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?kt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,d.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,d.Z)(function*(){if(!_.length)return new $i(oe(xt),g,E);const P=(yield Promise.all(_.map(function(){var rt=(0,d.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let F=P[0]||oe(xt);const te=ni(E,g.config.apiKey,g.name);let ve=null;for(const rt of _)try{const bt=yield rt._get(te);if(bt){const vt=kt._fromJSON(g,bt);rt!==F&&(ve=vt),F=rt;break}}catch(bt){}const Ge=P.filter(rt=>rt._shouldAllowMigration);return F._shouldAllowMigration&&Ge.length?(F=Ge[0],ve&&(yield F._set(te,ve.toJSON())),yield Promise.all(_.map(function(){var rt=(0,d.Z)(function*(bt){if(bt!==F)try{yield bt._remove(te)}catch(vt){}});return function(bt){return rt.apply(this,arguments)}}())),new $i(F,g,E)):new $i(F,g,E)})()}}function Xl(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ii(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(dl(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(As(g))return"Blackberry";if(ri(g))return"Webos";if(eu(g))return"Safari";if((g.includes("chrome/")||hl(g))&&!g.includes("edge/"))return"Chrome";if(qi(g))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function dl(v=(0,V.z$)()){return/firefox\//i.test(v)}function eu(v=(0,V.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function hl(v=(0,V.z$)()){return/crios\//i.test(v)}function ii(v=(0,V.z$)()){return/iemobile/i.test(v)}function qi(v=(0,V.z$)()){return/android/i.test(v)}function As(v=(0,V.z$)()){return/blackberry/i.test(v)}function ri(v=(0,V.z$)()){return/webos/i.test(v)}function rr(v=(0,V.z$)()){return/iphone|ipad|ipod/i.test(v)}function ao(v=(0,V.z$)()){return rr(v)||qi(v)||ri(v)||As(v)||/windows phone/i.test(v)||ii(v)}function Da(v,g=[]){let _;switch(v){case"Browser":_=Xl((0,V.z$)());break;case"Worker":_=`${Xl((0,V.z$)())}-${v}`;break;default:_=v}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ge.SDK_VERSION}/${E}`}class sr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const E=F=>new Promise((te,ve)=>{try{te(g(F))}catch(Ge){ve(Ge)}});E.onAbort=_,this.queue.push(E);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===g)return;const E=[];try{for(const P of _.queue)yield P(g),P.onAbort&&E.push(P.onAbort)}catch(P){E.reverse();for(const F of E)try{F()}catch(te){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:P.message})}})()}}class Je{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mn(this),this.idTokenSubscription=new mn(this),this.beforeStateQueue=new sr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=oe(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var P,F;if(!E._deleted&&(E.persistenceManager=yield $i.create(E,g),!E._deleted)){if(null===(P=E._popupRedirectResolver)||void 0===P?void 0:P._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(te){}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,d.Z)(function*(){var E;const P=yield _.assertedPersistence.getCurrentUser();let F=P,te=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ve=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,Ge=null==F?void 0:F._redirectEventId,rt=yield _.tryRedirectSignIn(g);(!ve||ve===Ge)&&(null==rt?void 0:rt.user)&&(F=rt.user,te=!0)}if(!F)return _.directlySetCurrentUser(null);if(!F._redirectEventId){if(te)try{yield _.beforeStateQueue.runMiddleware(F)}catch(ve){F=P,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ve))}return F?_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)}return W(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(g){var _=this;return(0,d.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(P){yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,d.Z)(function*(){try{yield ki(g)}catch(E){if("auth/network-request-failed"!==E.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Xe(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,d.Z)(function*(){const E=g?(0,V.m9)(g):null;return E&&W(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g,_=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return g&&W(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(oe(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new V.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,d.Z)(function*(){const P=yield E.getOrInitRedirectPersistenceManager(_);return null===g?P.removeCurrentUser():P.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&oe(g)||_._popupRedirectResolver;W(E,_,"argument-error"),_.redirectPersistenceManager=yield $i.create(_,[oe(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,d.Z)(function*(){var E,P;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(P=_.redirectUser)||void 0===P?void 0:P._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,d.Z)(function*(){if(g===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,P){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return W(te,this,"internal-error"),te.then(()=>F(this.currentUser)),"function"==typeof _?g.addObserver(_,E,P):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Da(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const P=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return P&&(E["X-Firebase-Client"]=P),E})()}}function mt(v){return(0,V.m9)(v)}class mn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ss(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function os(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Lr{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return De("not implemented")}_getIdTokenResponse(g){return De("not implemented")}_linkToIdToken(g,_){return De("not implemented")}_getReauthenticationResolver(g){return De("not implemented")}}function $n(v,g){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:resetPassword",en(v,g))})).apply(this,arguments)}function Sa(v,g){return xs.apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function tu(v,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,d.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",en(v,g))})).apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(v,g){return Gi(v,"POST","/v1/accounts:signInWithPassword",en(v,g))})).apply(this,arguments)}function uo(v,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:sendOobCode",en(v,g))})).apply(this,arguments)}function vn(v,g){return nu.apply(this,arguments)}function nu(){return(nu=(0,d.Z)(function*(v,g){return uo(v,g)})).apply(this,arguments)}function pl(v,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(v,g){return uo(v,g)})).apply(this,arguments)}function as(v,g){return iu.apply(this,arguments)}function iu(){return(iu=(0,d.Z)(function*(v,g){return uo(v,g)})).apply(this,arguments)}function pd(v,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(v,g){return uo(v,g)})).apply(this,arguments)}function ru(){return(ru=(0,d.Z)(function*(v,g){return Gi(v,"POST","/v1/accounts:signInWithEmailLink",en(v,g))})).apply(this,arguments)}function gd(){return(gd=(0,d.Z)(function*(v,g){return Gi(v,"POST","/v1/accounts:signInWithEmailLink",en(v,g))})).apply(this,arguments)}class Pi extends Lr{constructor(g,_,E,P=null){super("password",E),this._email=g,this._password=_,this._tenantId=P}static _fromEmailAndPassword(g,_){return new Pi(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new Pi(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,d.Z)(function*(){switch(_.signInMethod){case"password":return function Un(v,g){return Ho.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function us(v,g){return ru.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:ke(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return Sa(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ug(v,g){return gd.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:ke(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function co(v,g){return md.apply(this,arguments)}function md(){return(md=(0,d.Z)(function*(v,g){return Gi(v,"POST","/v1/accounts:signInWithIdp",en(v,g))})).apply(this,arguments)}class Ms extends Lr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ms(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):ke("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:P}=_,F=(0,ue._T)(_,["providerId","signInMethod"]);if(!E||!P)return null;const te=new Ms(E,P);return te.idToken=F.idToken||void 0,te.accessToken=F.accessToken||void 0,te.secret=F.secret,te.nonce=F.nonce,te.pendingToken=F.pendingToken||null,te}_getIdTokenResponse(g){return co(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,co(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,co(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,V.xO)(_)}return g}}function Bg(v,g){return _d.apply(this,arguments)}function _d(){return(_d=(0,d.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:sendVerificationCode",en(v,g))})).apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(v,g){return Gi(v,"POST","/v1/accounts:signInWithPhoneNumber",en(v,g))})).apply(this,arguments)}function yd(){return(yd=(0,d.Z)(function*(v,g){const _=yield Gi(v,"POST","/v1/accounts:signInWithPhoneNumber",en(v,g));if(_.temporaryProof)throw rs(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Hg={USER_NOT_FOUND:"user-not-found"};function vd(){return(vd=(0,d.Z)(function*(v,g){return Gi(v,"POST","/v1/accounts:signInWithPhoneNumber",en(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Hg)})).apply(this,arguments)}class Aa extends Lr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Aa({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Aa({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function sc(v,g){return ho.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function jg(v,g){return yd.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function zg(v,g){return vd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:P}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:P}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:P,temporaryProof:F}=g;return E||_||P||F?new Aa({verificationId:_,verificationCode:E,phoneNumber:P,temporaryProof:F}):null}}class su{constructor(g){var _,E,P,F,te,ve;const Ge=(0,V.zd)((0,V.pd)(g)),rt=null!==(_=Ge.apiKey)&&void 0!==_?_:null,bt=null!==(E=Ge.oobCode)&&void 0!==E?E:null,vt=function ef(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=Ge.mode)&&void 0!==P?P:null);W(rt&&bt&&vt,"argument-error"),this.apiKey=rt,this.operation=vt,this.code=bt,this.continueUrl=null!==(F=Ge.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(te=Ge.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(ve=Ge.tenantId)&&void 0!==ve?ve:null}static parseLink(g){const _=function gl(v){const g=(0,V.zd)((0,V.pd)(v)).link,_=g?(0,V.zd)((0,V.pd)(g)).deep_link_id:null,E=(0,V.zd)((0,V.pd)(v)).deep_link_id;return(E?(0,V.zd)((0,V.pd)(E)).link:null)||E||_||g||v}(g);try{return new su(_)}catch(E){return null}}}let wd=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,E){return Pi._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const P=su.parseLink(E);return W(P,"argument-error"),Pi._fromEmailAndCode(_,P.code,P.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ri{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class zo extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class cs extends zo{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return W("providerId"in _&&"signInMethod"in _,"argument-error"),Ms._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return W(g.idToken||g.accessToken,"argument-error"),Ms._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return cs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return cs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:P,pendingToken:F,nonce:te,providerId:ve}=g;if(!E&&!P&&!_&&!F||!ve)return null;try{return new cs(ve)._credential({idToken:_,accessToken:E,nonce:te,pendingToken:F})}catch(Ge){return null}}}let xa=(()=>{class v extends zo{constructor(){super("facebook.com")}static credential(_){return Ms._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ed=(()=>{class v extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return Ms._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:P}=_;if(!E&&!P)return null;try{return v.credential(E,P)}catch(F){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),tf=(()=>{class v extends zo{constructor(){super("github.com")}static credential(_){return Ms._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Go extends Lr{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return co(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,co(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,co(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:P,pendingToken:F}=_;return E&&P&&F&&E===P?new Go(E,F):null}static _create(g,_){return new Go(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wi extends Ri{constructor(g){W(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Wi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Wi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Go.fromJSON(g);return W(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return Go._create(E,_)}catch(P){return null}}}let Cd=(()=>{class v extends zo{constructor(){super("twitter.com")}static credential(_,E){return Ms._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:P}=_;if(!E||!P)return null;try{return v.credential(E,P)}catch(F){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Oi(v,g){return $o.apply(this,arguments)}function $o(){return($o=(0,d.Z)(function*(v,g){return Gi(v,"POST","/v1/accounts:signUp",en(v,g))})).apply(this,arguments)}class wr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,P=!1){return(0,d.Z)(function*(){const F=yield kt._fromIdTokenResponse(g,E,P),te=oc(E);return new wr({user:F,providerId:te,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const P=oc(E);return new wr({user:g,providerId:P,_tokenResponse:E,operationType:_})})()}}function oc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ac(){return(ac=(0,d.Z)(function*(v){var g;const _=mt(v);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new wr({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield Oi(_,{returnSecureToken:!0}),P=yield wr._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(P.user),P})).apply(this,arguments)}class Pa extends V.ZR{constructor(g,_,E,P){var F;super(_.code,_.message),this.operationType=E,this.user=P,Object.setPrototypeOf(this,Pa.prototype),this.customData={appName:g.name,tenantId:null!==(F=g.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,P){return new Pa(g,_,E,P)}}function lc(v,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Pa._fromErrorAndOperation(v,F,g,E):F})}function ds(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function _n(){return(_n=(0,d.Z)(function*(v,g){const _=(0,V.m9)(v);yield cn(!0,_,g);const{providerUserInfo:E}=yield Ln(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),P=ds(E||[]);return _.providerData=_.providerData.filter(F=>P.has(F.providerId)),P.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ml(v,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,d.Z)(function*(v,g,_=!1){const E=yield xi(v,g._linkToIdToken(v.auth,yield v.getIdToken()),_);return wr._forOperation(v,"link",E)})).apply(this,arguments)}function cn(v,g,_){return _l.apply(this,arguments)}function _l(){return(_l=(0,d.Z)(function*(v,g,_){yield ki(g);const P=!1===v?"provider-already-linked":"no-such-provider";W(ds(g.providerData).has(_)===v,g.auth,P)})).apply(this,arguments)}function ou(v,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(v,g,_=!1){const{auth:E}=v,P="reauthenticate";try{const F=yield xi(v,lc(E,P,g,v),_);W(F.idToken,E,"internal-error");const te=ht(F.idToken);W(te,E,"internal-error");const{sub:ve}=te;return W(v.uid===ve,E,"user-mismatch"),wr._forOperation(v,P,F)}catch(F){throw"auth/user-not-found"===(null==F?void 0:F.code)&&ke(E,"user-mismatch"),F}})).apply(this,arguments)}function wi(v,g){return uc.apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(v,g,_=!1){const E="signIn",P=yield lc(v,E,g),F=yield wr._fromIdTokenResponse(v,E,P);return _||(yield v._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Rn(v,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(v,g){return wi(mt(v),g)})).apply(this,arguments)}function Ei(v,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(v,g){const _=(0,V.m9)(v);return yield cn(!1,_,g.providerId),ml(_,g)})).apply(this,arguments)}function ks(v,g){return yl.apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(v,g){return ou((0,V.m9)(v),g)})).apply(this,arguments)}function Ur(v,g){return fs.apply(this,arguments)}function fs(){return(fs=(0,d.Z)(function*(v,g){return Gi(v,"POST","/v1/accounts:signInWithCustomToken",en(v,g))})).apply(this,arguments)}function It(){return(It=(0,d.Z)(function*(v,g){const _=mt(v),E=yield Ur(_,{token:g,returnSecureToken:!0}),P=yield wr._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(P.user),P})).apply(this,arguments)}class po{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?cc._fromServerResponse(g,_):ke(g,"internal-error")}}class cc extends po{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new cc(_)}}function vl(v,g,_){var E;W((null===(E=_.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),W(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(W(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(W(_.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function au(){return(au=(0,d.Z)(function*(v,g,_){const E=(0,V.m9)(v),P={requestType:"PASSWORD_RESET",email:g};_&&vl(E,P,_),yield pl(E,P)})).apply(this,arguments)}function hc(){return(hc=(0,d.Z)(function*(v,g,_){yield $n((0,V.m9)(v),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Pe(){return(Pe=(0,d.Z)(function*(v,g){yield tu((0,V.m9)(v),{oobCode:g})})).apply(this,arguments)}function $t(v,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(v,g){const _=(0,V.m9)(v),E=yield $n(_,{oobCode:g}),P=E.requestType;switch(W(P,_,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(E.mfaInfo,_,"internal-error");default:W(E.email,_,"internal-error")}let F=null;return E.mfaInfo&&(F=po._fromServerResponse(mt(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:P}})).apply(this,arguments)}function uu(){return(uu=(0,d.Z)(function*(v,g){const{data:_}=yield $t((0,V.m9)(v),g);return _.email})).apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(v,g,_){const E=mt(v),P=yield Oi(E,{returnSecureToken:!0,email:g,password:_}),F=yield wr._fromIdTokenResponse(E,"signIn",P);return yield E._updateCurrentUser(F.user),F})).apply(this,arguments)}function gc(){return(gc=(0,d.Z)(function*(v,g,_){const E=(0,V.m9)(v),P={requestType:"EMAIL_SIGNIN",email:g};W(_.handleCodeInApp,E,"argument-error"),_&&vl(E,P,_),yield as(E,P)})).apply(this,arguments)}function Ps(){return(Ps=(0,d.Z)(function*(v,g,_){const E=(0,V.m9)(v),P=wd.credentialWithLink(g,_||je());return W(P._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Rn(E,P)})).apply(this,arguments)}function Ni(v,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,d.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:createAuthUri",en(v,g))})).apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(v,g){const E={identifier:g,continueUri:yt()?je():"http://localhost"},{signinMethods:P}=yield Ni((0,V.m9)(v),E);return P||[]})).apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(v,g){const _=(0,V.m9)(v),P={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&vl(_.auth,P,g);const{email:F}=yield vn(_.auth,P);F!==v.email&&(yield v.reload())})).apply(this,arguments)}function hu(){return(hu=(0,d.Z)(function*(v,g,_){const E=(0,V.m9)(v),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};_&&vl(E.auth,F,_);const{email:te}=yield pd(E.auth,F);te!==v.email&&(yield v.reload())})).apply(this,arguments)}function _c(v,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(v,g){return Gt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function pu(){return(pu=(0,d.Z)(function*(v,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,V.m9)(v),F={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},te=yield xi(E,_c(E.auth,F));E.displayName=te.displayName||null,E.photoURL=te.photoUrl||null;const ve=E.providerData.find(({providerId:Ge})=>"password"===Ge);ve&&(ve.displayName=E.displayName,ve.photoURL=E.photoURL),yield E._updateTokensIfNecessary(te)})).apply(this,arguments)}function gu(v,g,_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,d.Z)(function*(v,g,_){const{auth:E}=v,F={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(F.email=g),_&&(F.password=_);const te=yield xi(v,Sa(E,F));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Fa{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class xd extends Fa{constructor(g,_,E,P){super(g,_,E),this.username=P}}class mu extends Fa{constructor(g,_){super(g,"facebook.com",_)}}class lr extends xd{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class rf extends Fa{constructor(g,_){super(g,"google.com",_)}}class yc extends xd{constructor(g,_,E){super(g,"twitter.com",_,E)}}function fi(v){const{user:g,_tokenResponse:_}=v;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ad(v){var g,_;if(!v)return null;const{providerId:E}=v,P=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},F=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const te=null===(_=null===(g=ht(v.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new Fa(F,"anonymous"!==te&&"custom"!==te?te:null)}if(!E)return null;switch(E){case"facebook.com":return new mu(F,P);case"github.com":return new lr(F,P);case"google.com":return new rf(F,P);case"twitter.com":return new yc(F,P,v.screenName||null);case"custom":case"anonymous":return new Fa(F,null);default:return new Fa(F,E,P)}}(_)}class Rs{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new Rs("enroll",g)}static _fromMfaPendingCredential(g){return new Rs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Rs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(E=g.multiFactorSession)||void 0===E?void 0:E.idToken)return Rs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Jo{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=mt(g),P=_.customData._serverResponse,F=(P.mfaInfo||[]).map(ve=>po._fromServerResponse(E,ve));W(P.mfaPendingCredential,E,"internal-error");const te=Rs._fromMfaPendingCredential(P.mfaPendingCredential);return new Jo(te,F,function(){var ve=(0,d.Z)(function*(Ge){const rt=yield Ge._process(E,te);delete P.mfaInfo,delete P.mfaPendingCredential;const bt=Object.assign(Object.assign({},P),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(_.operationType){case"signIn":const vt=yield wr._fromIdTokenResponse(E,_.operationType,bt);return yield E._updateCurrentUser(vt.user),vt;case"reauthenticate":return W(_.user,E,"internal-error"),wr._forOperation(_.user,_.operationType,bt);default:ke(E,"internal-error")}});return function(Ge){return ve.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,d.Z)(function*(){return _.signInResolver(g)})()}}function Pd(v,g){return Gt(v,"POST","/v2/accounts/mfaEnrollment:start",en(v,g))}class La{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>po._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new La(g)}getSession(){var g=this;return(0,d.Z)(function*(){return Rs._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var E=this;return(0,d.Z)(function*(){const P=g,F=yield E.getSession(),te=yield xi(E.user,P._process(E.user.auth,F,_));return yield E.user._updateTokensIfNecessary(te),E.user.reload()})()}unenroll(g){var _=this;return(0,d.Z)(function*(){const E="string"==typeof g?g:g.uid,P=yield _.user.getIdToken(),F=yield xi(_.user,function Xo(v,g){return Gt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",en(v,g))}(_.user.auth,{idToken:P,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:te})=>te!==E),yield _.user._updateTokensIfNecessary(F);try{yield _.user.reload()}catch(te){if("auth/user-token-expired"!==te.code)throw te}})()}}const _u=new WeakMap,ps="__sak";class El{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ps,"1"),this.storage.removeItem(ps),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qt=(()=>{class v extends El{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zg(){const v=(0,V.z$)();return eu(v)||rr(v)}()&&function bi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=ao(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const P=this.storage.getItem(E),F=this.localCache[E];P!==F&&_(E,F,P)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((ve,Ge,rt)=>{this.notifyListeners(ve,rt)});const P=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(P);if(_.newValue!==ve)null!==_.newValue?this.storage.setItem(P,_.newValue):this.storage.removeItem(P);else if(this.localCache[P]===_.newValue&&!E)return}const F=()=>{const ve=this.storage.getItem(P);!E&&this.localCache[P]===ve||this.notifyListeners(P,ve)},te=this.storage.getItem(P);!function fl(){return(0,V.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,E){this.localCache[_]=E;const P=this.listeners[_];if(P)for(const F of Array.from(P))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var P=()=>super._set,F=this;return(0,d.Z)(function*(){yield P().call(F,_,E),F.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,P=this;return(0,d.Z)(function*(){const F=yield E().call(P,_);return P.localCache[_]=JSON.stringify(F),F})()}_remove(_){var E=()=>super._remove,P=this;return(0,d.Z)(function*(){yield E().call(P,_),delete P.localCache[_]})()}}return v.type="LOCAL",v})(),Vn=(()=>{class v extends El{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return v.type="SESSION",v})();let yu=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(F=>F.isListeningto(_));if(E)return E;const P=new v(_);return this.receivers.push(P),P}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,d.Z)(function*(){const P=_,{eventId:F,eventType:te,data:ve}=P.data,Ge=E.handlersMap[te];if(!(null==Ge?void 0:Ge.size))return;P.ports[0].postMessage({status:"ack",eventId:F,eventType:te});const rt=Array.from(Ge).map(function(){var vt=(0,d.Z)(function*(li){return li(P.origin,ve)});return function(li){return vt.apply(this,arguments)}}()),bt=yield function Bn(v){return Promise.all(v.map(function(){var g=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(rt);P.ports[0].postMessage({status:"done",eventId:F,eventType:te,response:bt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Br(v="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return v+_}class Tn{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var P=this;return(0,d.Z)(function*(){const F="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let te,ve;return new Promise((Ge,rt)=>{const bt=Br("",20);F.port1.start();const vt=setTimeout(()=>{rt(new Error("unsupported_event"))},E);ve={messageChannel:F,onMessage(li){const Hr=li;if(Hr.data.eventId===bt)switch(Hr.data.status){case"ack":clearTimeout(vt),te=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),Ge(Hr.data.response);break;default:clearTimeout(vt),clearTimeout(te),rt(new Error("invalid_response"))}}},P.handlers.add(ve),F.port1.addEventListener("message",ve.onMessage),P.target.postMessage({eventType:g,eventId:bt,data:_},[F.port2])}).finally(()=>{ve&&P.removeMessageHandler(ve)})})()}}function jt(){return window}function dt(){return void 0!==jt().WorkerGlobalScope&&"function"==typeof jt().importScripts}function vc(){return(vc=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Od="firebaseLocalStorageDb",mo="firebaseLocalStorage",ta="fbase_key";class _o{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function On(v,g){return v.transaction([mo],g?"readwrite":"readonly").objectStore(mo)}function bu(){const v=indexedDB.open(Od,1);return new Promise((g,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(mo,{keyPath:ta})}catch(P){_(P)}}),v.addEventListener("success",(0,d.Z)(function*(){const E=v.result;E.objectStoreNames.contains(mo)?g(E):(E.close(),yield function vu(){const v=indexedDB.deleteDatabase(Od);return new _o(v).toPromise()}(),g(yield bu()))}))})}function Ua(v,g,_){return Va.apply(this,arguments)}function Va(){return(Va=(0,d.Z)(function*(v,g,_){const E=On(v,!0).put({[ta]:g,value:_});return new _o(E).toPromise()})).apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(v,g){const _=On(v,!1).get(g),E=yield new _o(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Eu(v,g){const _=On(v,!0).delete(g);return new _o(_).toPromise()}const yo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield bu()),_.db})()}_withRetries(_){var E=this;return(0,d.Z)(function*(){let P=0;for(;;)try{const F=yield E._openDb();return yield _(F)}catch(F){if(P++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return dt()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=yu._getInstance(function Rd(){return dt()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(P,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(P,F){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(P,F){return["keyChanged"]});return function(P,F){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var E,P;if(_.activeServiceWorker=yield function ea(){return vc.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Tn(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);!F||(null===(E=F[0])||void 0===E?void 0:E.fulfilled)&&(null===(P=F[0])||void 0===P?void 0:P.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function gs(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch(P){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield bu();return yield Ua(_,ps,"1"),yield Eu(_,ps),!0}catch(_){}return!1})()}_withPendingWrite(_){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var P=this;return(0,d.Z)(function*(){return P._withPendingWrite((0,d.Z)(function*(){return yield P._withRetries(F=>Ua(F,_,E)),P.localCache[_]=E,P.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,d.Z)(function*(){const P=yield E._withRetries(F=>function wu(v,g){return Os.apply(this,arguments)}(F,_));return E.localCache[_]=P,P})()}_remove(_){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(P=>Eu(P,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const E=yield _._withRetries(te=>{const ve=On(te,!1).getAll();return new _o(ve).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const P=[],F=new Set;for(const{fbase_key:te,value:ve}of E)F.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(ve)&&(_.notifyListeners(te,ve),P.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!F.has(te)&&(_.notifyListeners(te,null),P.push(te));return P})()}notifyListeners(_,E){this.localCache[_]=E;const P=this.listeners[_];if(P)for(const F of Array.from(P))F(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function na(v,g){return Gt(v,"POST","/v2/accounts/mfaSignIn:start",en(v,g))}function vo(){return(vo=(0,d.Z)(function*(v){return(yield Gt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cl(v){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=g,E.onerror=P=>{const F=Ie("internal-error");F.customData=P,_(F)},E.type="text/javascript",E.charset="UTF-8",function ja(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(E)})}function Ns(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ec=1e12;class Nd{constructor(g){this.auth=g,this.counter=Ec,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new Il(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||Ec;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Ec))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,d.Z)(function*(){var E;return null===(E=_._widgets.get(g||Ec))||void 0===E||E.execute(),""})()}}class Il{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof g?document.getElementById(g):g;W(P,"argument-error",{appName:_}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sf(v){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const af=Ns("rcb"),qn=new hn(3e4,6e4);class Gy{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!jt().grecaptcha}load(g,_=""){return W(function lf(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(jt().grecaptcha):new Promise((E,P)=>{const F=jt().setTimeout(()=>{P(Ie(g,"network-request-failed"))},qn.get());jt()[af]=()=>{jt().clearTimeout(F),delete jt()[af];const ve=jt().grecaptcha;if(!ve)return void P(Ie(g,"internal-error"));const Ge=ve.render;ve.render=(rt,bt)=>{const vt=Ge(rt,bt);return this.counter++,vt},this.hostLanguage=_,E(ve)},Cl(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:af,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),P(Ie(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!jt().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cc{load(g){return(0,d.Z)(function*(){return new Nd(g)})()}clearedOneInstance(){}}const Tu="recaptcha",uf={theme:"light",type:"image"};class Jg{constructor(g,_=Object.assign({},uf),E){this.parameters=_,this.type=Tu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mt(E),this.isInvisible="invisible"===this.parameters.size,W("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof g?document.getElementById(g):g;W(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cc:new Gy,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(F=>{const te=ve=>{!ve||(g.tokenChangeListeners.delete(te),F(ve))};g.tokenChangeListeners.add(te),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=jt()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){W(yt()&&!dt(),g.auth,"internal-error"),yield function ra(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function ms(v){return vo.apply(this,arguments)}(g.auth);W(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fd{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Aa._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Iu(){return(Iu=(0,d.Z)(function*(v,g,_){const E=mt(v),P=yield ur(E,g,(0,V.m9)(_));return new Fd(P,F=>Rn(E,F))})).apply(this,arguments)}function Ld(){return(Ld=(0,d.Z)(function*(v,g,_){const E=(0,V.m9)(v);yield cn(!1,E,"phone");const P=yield ur(E.auth,g,(0,V.m9)(_));return new Fd(P,F=>Ei(E,F))})).apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(v,g,_){const E=(0,V.m9)(v),P=yield ur(E.auth,g,(0,V.m9)(_));return new Fd(P,F=>ks(E,F))})).apply(this,arguments)}function ur(v,g,_){return Su.apply(this,arguments)}function Su(){return(Su=(0,d.Z)(function*(v,g,_){var E;const P=yield _.verify();try{let F;if(W("string"==typeof P,v,"argument-error"),W(_.type===Tu,v,"argument-error"),F="string"==typeof g?{phoneNumber:g}:g,"session"in F){const te=F.session;if("phoneNumber"in F)return W("enroll"===te.type,v,"internal-error"),(yield Pd(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{W("signin"===te.type,v,"internal-error");const ve=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return W(ve,v,"missing-multi-factor-info"),(yield na(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Bg(v,{phoneNumber:F.phoneNumber,recaptchaToken:P});return te}}finally{_._reset()}})).apply(this,arguments)}function Fs(){return(Fs=(0,d.Z)(function*(v,g){yield ml((0,V.m9)(v),g)})).apply(this,arguments)}let bo=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=mt(_)}verifyPhoneNumber(_,E){return ur(this.auth,_,(0,V.m9)(E))}static credential(_,E){return Aa._fromVerification(_,E)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:P}=_;return E&&P?Aa._fromTokenResponse(E,P):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function wo(v,g){return g?oe(g):(W(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class za extends Lr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return co(g,this._buildIdpRequest())}_linkToIdToken(g,_){return co(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return co(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Tc(v){return wi(v.auth,new za(v),v.bypassAuthState)}function Au(v){const{auth:g,user:_}=v;return W(_,g,"internal-error"),ou(_,new za(v),v.bypassAuthState)}function xu(v){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(v){const{auth:g,user:_}=v;return W(_,g,"internal-error"),ml(_,new za(v),v.bypassAuthState)})).apply(this,arguments)}class Eo{constructor(g,_,E,P,F=!1){this.auth=g,this.resolver=E,this.user=P,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,d.Z)(function*(E,P){g.pendingPromise={resolve:E,reject:P};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(F){g.reject(F)}});return function(E,P){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:P,postBody:F,tenantId:te,error:ve,type:Ge}=g;if(ve)return void _.reject(ve);const rt={auth:_.auth,requestUri:E,sessionId:P,tenantId:te||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ge)(rt))}catch(bt){_.reject(bt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Tc;case"linkViaPopup":case"linkViaRedirect":return xu;case"reauthViaPopup":case"reauthViaRedirect":return Au;default:ke(this.auth,"internal-error")}}resolve(g){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sa=new hn(2e3,1e4);function dr(){return(dr=(0,d.Z)(function*(v,g,_){const E=mt(v);qe(v,g,Ri);const P=wo(E,_);return new Vd(E,"signInViaPopup",g,P).executeNotNull()})).apply(this,arguments)}function Ga(){return(Ga=(0,d.Z)(function*(v,g,_){const E=(0,V.m9)(v);qe(E.auth,g,Ri);const P=wo(E.auth,_);return new Vd(E.auth,"reauthViaPopup",g,P,E).executeNotNull()})).apply(this,arguments)}function Fi(){return(Fi=(0,d.Z)(function*(v,g,_){const E=(0,V.m9)(v);qe(E.auth,g,Ri);const P=wo(E.auth,_);return new Vd(E.auth,"linkViaPopup",g,P,E).executeNotNull()})).apply(this,arguments)}let Vd=(()=>{class v extends Eo{constructor(_,E,P,F,te){super(_,E,F,te),this.provider=P,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const E=yield _.execute();return W(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,d.Z)(function*(){ee(1===_.filter.length,"Popup operations only handle one event");const E=Br();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(P=>{_.reject(P)}),_.resolver._isIframeWebStorageSupported(_.auth,P=>{P||_.reject(Ie(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,P;this.pollId=(null===(P=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===P?void 0:P.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,sa.get())};_()}}return v.currentPopupAction=null,v})();const Ls=new Map;class Ic extends Eo{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,d.Z)(function*(){let E=Ls.get(_.auth._key());if(!E){try{const F=(yield function cf(v,g){return $a.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(F)}catch(P){E=()=>Promise.reject(P)}Ls.set(_.auth._key(),E)}return _.bypassAuthState||Ls.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const P=yield E.auth._redirectUserForId(g.eventId);if(P)return E.user=P,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function $a(){return($a=(0,d.Z)(function*(v,g){const _=H(g),E=N(v);if(!(yield E._isAvailable()))return!1;const P="true"===(yield E._get(_));return yield E._remove(_),P})).apply(this,arguments)}function Us(v,g){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,d.Z)(function*(v,g){return N(v)._set(H(g),"true")})).apply(this,arguments)}function x(v,g){Ls.set(v._key(),g)}function N(v){return oe(v._redirectPersistence)}function H(v){return ni("pendingRedirect",v.config.apiKey,v.name)}function Be(){return(Be=(0,d.Z)(function*(v,g,_){const E=mt(v);qe(v,g,Ri);const P=wo(E,_);return yield Us(P,E),P._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(v,g,_){const E=(0,V.m9)(v);qe(E.auth,g,Ri);const P=wo(E.auth,_);yield Us(P,E.auth);const F=yield Tr(E);return P._openRedirect(E.auth,g,"reauthViaRedirect",F)})).apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(v,g,_){const E=(0,V.m9)(v);qe(E.auth,g,Ri);const P=wo(E.auth,_);yield cn(!1,E,g.providerId),yield Us(P,E.auth);const F=yield Tr(E);return P._openRedirect(E.auth,g,"linkViaRedirect",F)})).apply(this,arguments)}function qa(){return(qa=(0,d.Z)(function*(v,g){return yield mt(v)._initializationPromise,Wa(v,g,!1)})).apply(this,arguments)}function Wa(v,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,d.Z)(function*(v,g,_=!1){const E=mt(v),P=wo(E,g),te=yield new Ic(E,P,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield E._persistUserIfCurrent(te.user),yield E._setRedirectUser(null,g)),te})).apply(this,arguments)}function Tr(v){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(v){const g=Br(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class em{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ff(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hf(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!hf(g)){const P=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Ie(this.auth,P))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(df(g))}saveEventToCache(g){this.cachedEventUids.add(df(g)),this.lastProcessedEventTime=Date.now()}}function df(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function hf({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function tm(v){return nm.apply(this,arguments)}function nm(){return(nm=(0,d.Z)(function*(v,g={}){return Gt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const EE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dc=/^https?/;function im(){return(im=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield tm(v);for(const _ of g)try{if(dx(_))return}catch(E){}ke(v,"unauthorized-domain")})).apply(this,arguments)}function dx(v){const g=je(),{protocol:_,hostname:E}=new URL(g);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===E?"chrome-extension:"===_&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===E}if(!Dc.test(_))return!1;if(EE.test(v))return E===v;const P=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(E)}const qy=new hn(3e4,6e4);function Wy(){const v=jt().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let pf=null;function CE(v){return pf=pf||function hx(v){return new Promise((g,_)=>{var E,P,F;function te(){Wy(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Wy(),_(Ie(v,"network-request-failed"))},timeout:qy.get()})}if(null===(P=null===(E=jt().gapi)||void 0===E?void 0:E.iframes)||void 0===P?void 0:P.Iframe)g(gapi.iframes.getContext());else{if(!(null===(F=jt().gapi)||void 0===F?void 0:F.load)){const ve=Ns("iframefcb");return jt()[ve]=()=>{gapi.load?te():_(Ie(v,"network-request-failed"))},Cl(`https://apis.google.com/js/api.js?onload=${ve}`).catch(Ge=>_(Ge))}te()}}).catch(g=>{throw pf=null,g})}(v),pf}const TE=new hn(5e3,15e3),Sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DE(v){const g=v.config;W(g.authDomain,v,"auth-domain-config-required");const _=g.emulator?Hn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:v.name,v:ge.SDK_VERSION},P=IE.get(v.config.apiHost);P&&(E.eid=P);const F=v._getFrameworks();return F.length&&(E.fw=F.join(",")),`${_}?${(0,V.xO)(E).slice(1)}`}function Ac(){return Ac=(0,d.Z)(function*(v){const g=yield CE(v),_=jt().gapi;return W(_,v,"internal-error"),g.open({where:document.body,url:DE(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sc,dontclear:!0},E=>new Promise(function(){var P=(0,d.Z)(function*(F,te){yield E.restyle({setHideOnLeave:!1});const ve=Ie(v,"network-request-failed"),Ge=jt().setTimeout(()=>{te(ve)},TE.get());function rt(){jt().clearTimeout(Ge),F(E)}E.ping(rt).then(rt,()=>{te(ve)})});return function(F,te){return P.apply(this,arguments)}}()))}),Ac.apply(this,arguments)}const sm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qy{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Co(v,g,_,E,P,F){W(v.config.authDomain,v,"auth-domain-config-required"),W(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:E,v:ge.SDK_VERSION,eventId:P};if(g instanceof Ri){g.setDefaultLanguage(v.languageCode),te.providerId=g.providerId||"",(0,V.xb)(g.getCustomParameters())||(te.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ge,rt]of Object.entries(F||{}))te[Ge]=rt}if(g instanceof zo){const Ge=g.getScopes().filter(rt=>""!==rt);Ge.length>0&&(te.scopes=Ge.join(","))}v.tenantId&&(te.tid=v.tenantId);const ve=te;for(const Ge of Object.keys(ve))void 0===ve[Ge]&&delete ve[Ge];return`${function xc({config:v}){return v.emulator?Hn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,V.xO)(ve).slice(1)}`}const mf="webStorageSupport";class om extends class PE{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return De("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new om(g)}_finalizeEnroll(g,_,E){return function Wg(v,g){return Gt(v,"POST","/v2/accounts/mfaEnrollment:finalize",en(v,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function wc(v,g){return Gt(v,"POST","/v2/accounts/mfaSignIn:finalize",en(v,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let RE=(()=>{class v{constructor(){}static assertion(_){return om._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var am="@firebase/auth";class OE{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{var P;g((null===(P=E)||void 0===P?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pu(){return window}function Bs(){return(Bs=(0,d.Z)(function*(v,g,_){var E;const{BuildInfo:P}=Pu();ee(g.sessionId,"AuthEvent did not contain a session ID");const F=yield gx(g.sessionId),te={};return rr()?te.ibi=P.packageName:qi()?te.apn=P.packageName:ke(v,"operation-not-supported-in-this-environment"),P.displayName&&(te.appDisplayName=P.displayName),te.sessionId=F,Co(v,_,g.type,void 0,null!==(E=g.eventId)&&void 0!==E?E:void 0,te)})).apply(this,arguments)}function _f(){return(_f=(0,d.Z)(function*(v){const{BuildInfo:g}=Pu(),_={};rr()?_.iosBundleId=g.packageName:qi()?_.androidPackageName=g.packageName:ke(v,"operation-not-supported-in-this-environment"),yield tm(v,_)})).apply(this,arguments)}function rv(){return(rv=(0,d.Z)(function*(v,g,_){const{cordova:E}=Pu();let P=()=>{};try{yield new Promise((F,te)=>{let ve=null;function Ge(){var vt;F();const li=null===(vt=E.plugins.browsertab)||void 0===vt?void 0:vt.close;"function"==typeof li&&li(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function rt(){ve||(ve=window.setTimeout(()=>{te(Ie(v,"redirect-cancelled-by-user"))},2e3))}function bt(){"visible"===(null==document?void 0:document.visibilityState)&&rt()}g.addPassiveListener(Ge),document.addEventListener("resume",rt,!1),qi()&&document.addEventListener("visibilitychange",bt,!1),P=()=>{g.removePassiveListener(Ge),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",bt,!1),ve&&window.clearTimeout(ve)}})}finally{P()}})).apply(this,arguments)}function gx(v){return zd.apply(this,arguments)}function zd(){return(zd=(0,d.Z)(function*(v){const g=lm(v),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(P=>P.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function lm(v){if(ee(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),_=new Uint8Array(g);for(let E=0;E<v.length;E++)_[E]=v.charCodeAt(E);return _}!function ev(v){(0,ge._registerComponent)(new le.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),P=g.getProvider("heartbeat"),{apiKey:F,authDomain:te}=E.options;return((ve,Ge)=>{W(F&&!F.includes(":"),"invalid-api-key",{appName:ve.name}),W(!(null==te?void 0:te.includes(":")),"argument-error",{appName:ve.name});const rt={apiKey:F,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Da(v)},bt=new Je(ve,Ge,rt);return function fe(v,g){const _=(null==g?void 0:g.persistence)||[],E=(Array.isArray(_)?_:[_]).map(oe);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(E,null==g?void 0:g.popupRedirectResolver)}(bt,_),bt})(E,P)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,ge._registerComponent)(new le.wA("auth-internal",g=>{const _=mt(g.getProvider("auth").getImmediate());return new OE(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)(am,"0.20.1",function NE(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ge.registerVersion)(am,"0.20.1","esm2017")}("Browser");class mx extends em{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,d.Z)(function*(){yield g.initPromise})()}}function ov(v){return cm.apply(this,arguments)}function cm(){return(cm=(0,d.Z)(function*(v){const g=yield yf()._get(Mc(v));return g&&(yield yf()._remove(Mc(v))),g})).apply(this,arguments)}function LE(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const E=Math.floor(Math.random()*g.length);v.push(g.charAt(E))}return v.join("")}function yf(){return oe(Qt)}function Mc(v){return ni("authEvent",v.config.apiKey,v.name)}function vf(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,..._]=v.split("?");return(0,V.zd)(_.join("?"))}function bf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ie("no-auth-event")}}function wf(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function zE(v=(0,V.z$)()){return!("file:"!==wf()&&"ionic:"!==wf()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function fm(){try{const v=self.localStorage,g=Br();if(v)return v.setItem(g,"1"),v.removeItem(g),!function hm(v=(0,V.z$)()){return function Gd(){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ir(v=(0,V.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,V.hl)()}catch(v){return Ef()&&(0,V.hl)()}return!1}function Ef(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Li(){return(function HE(){return"http:"===wf()||"https:"===wf()}()||(0,V.ru)()||zE())&&!function yx(){return(0,V.b$)()||(0,V.UG)()}()&&fm()&&!Ef()}function kc(){return zE()&&"undefined"!=typeof document}function gm(){return(gm=(0,d.Z)(function*(){return!!kc()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const jr={LOCAL:"local",NONE:"none",SESSION:"session"},$d=W,mm="persistence";function qd(v){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,d.Z)(function*(v){yield v._initializationPromise;const g=aa(),_=ni(mm,v.config.apiKey,v.name);g&&g.setItem(_,v._getPersistence())})).apply(this,arguments)}function aa(){var v;try{return(null===(v=function GE(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const Tf=W;class Ka{constructor(){this.browserResolver=oe(class kE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vn,this._completeRedirectFn=Wa,this._overrideRedirectResult=x}_openPopup(g,_,E,P){var F=this;return(0,d.Z)(function*(){var te;ee(null===(te=F.eventManagers[g._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const ve=Co(g,_,E,je(),P);return function SE(v,g,_,E=500,P=600){const F=Math.max((window.screen.availHeight-P)/2,0).toString(),te=Math.max((window.screen.availWidth-E)/2,0).toString();let ve="";const Ge=Object.assign(Object.assign({},sm),{width:E.toString(),height:P.toString(),top:F,left:te}),rt=(0,V.z$)().toLowerCase();_&&(ve=hl(rt)?"_blank":_),dl(rt)&&(g=g||"http://localhost",Ge.scrollbars="yes");const bt=Object.entries(Ge).reduce((li,[Hr,Al])=>`${li}${Hr}=${Al},`,"");if(function jo(v=(0,V.z$)()){var g;return rr(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(rt)&&"_self"!==ve)return function AE(v,g){const _=document.createElement("a");_.href=v,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",ve),new Qy(null);const vt=window.open(g||"",ve,bt);W(vt,v,"popup-blocked");try{vt.focus()}catch(li){}return new Qy(vt)}(g,ve,Br())})()}_openRedirect(g,_,E,P){var F=this;return(0,d.Z)(function*(){return yield F._originValidation(g),function Xn(v){jt().location.href=v}(Co(g,_,E,je(),P)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:P,promise:F}=this.eventManagers[_];return P?Promise.resolve(P):(ee(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,d.Z)(function*(){const E=yield function fx(v){return Ac.apply(this,arguments)}(g),P=new em(g);return E.register("authEvent",F=>(W(null==F?void 0:F.authEvent,g,"invalid-auth-event"),{status:P.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:P},_.iframes[g._key()]=E,P})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(mf,{type:mf},P=>{var F;const te=null===(F=null==P?void 0:P[0])||void 0===F?void 0:F[mf];void 0!==te&&_(!!te),ke(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Bd(v){return im.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return ao()||eu()||rr()}}),this.cordovaResolver=oe(class lv{constructor(){this._redirectPersistence=Vn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wa,this._overrideRedirectResult=x}_initialize(g){var _=this;return(0,d.Z)(function*(){const E=g._key();let P=_.eventManagers.get(E);return P||(P=new mx(g),_.eventManagers.set(E,P),_.attachCallbackListeners(g,P)),P})()}_openPopup(g){ke(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,E,P){var F=this;return(0,d.Z)(function*(){!function px(v){var g,_,E,P,F,te,ve,Ge,rt,bt;const vt=Pu();W("function"==typeof(null===(g=null==vt?void 0:vt.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(void 0!==(null===(_=null==vt?void 0:vt.BuildInfo)||void 0===_?void 0:_.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W("function"==typeof(null===(F=null===(P=null===(E=null==vt?void 0:vt.cordova)||void 0===E?void 0:E.plugins)||void 0===P?void 0:P.browsertab)||void 0===F?void 0:F.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(Ge=null===(ve=null===(te=null==vt?void 0:vt.cordova)||void 0===te?void 0:te.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===Ge?void 0:Ge.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W("function"==typeof(null===(bt=null===(rt=null==vt?void 0:vt.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===bt?void 0:bt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const te=yield F._initialize(g);yield te.initialized(),te.resetRedirect(),function D(){Ls.clear()}(),yield F._originValidation(g);const ve=function _x(v,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:LE(),postBody:null,tenantId:v.tenantId,error:Ie(v,"no-auth-event")}}(g,E,P);yield function sv(v,g){return yf()._set(Mc(v),g)}(g,ve);const Ge=yield function tv(v,g,_){return Bs.apply(this,arguments)}(g,ve,_),rt=yield function nv(v){const{cordova:g}=Pu();return new Promise(_=>{g.plugins.browsertab.isAvailable(E=>{let P=null;E?g.plugins.browsertab.openUrl(v):P=g.InAppBrowser.open(v,function fd(v=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),_(P)})})}(Ge);return function iv(v,g,_){return rv.apply(this,arguments)}(g,te,rt)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Hd(v){return _f.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:E,handleOpenURL:P,BuildInfo:F}=Pu(),te=setTimeout((0,d.Z)(function*(){yield ov(g),_.onEvent(bf())}),500),ve=function(){var bt=(0,d.Z)(function*(vt){clearTimeout(te);const li=yield ov(g);let Hr=null;li&&(null==vt?void 0:vt.url)&&(Hr=function FE(v,g){var _,E;const P=function dm(v){const g=vf(v),_=g.link?decodeURIComponent(g.link):void 0,E=vf(_).link,P=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return vf(P).link||P||E||_||v}(g);if(P.includes("/__/auth/callback")){const F=vf(P),te=F.firebaseError?function av(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(F.firebaseError)):null,ve=null===(E=null===(_=null==te?void 0:te.code)||void 0===_?void 0:_.split("auth/"))||void 0===E?void 0:E[1],Ge=ve?Ie(ve):null;return Ge?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ge,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:P,postBody:null}}return null}(li,vt.url)),_.onEvent(Hr||bf())});return function(li){return bt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,ve);const Ge=P,rt=`${F.packageName.toLowerCase()}://`;Pu().handleOpenURL=function(){var bt=(0,d.Z)(function*(vt){if(vt.toLowerCase().startsWith(rt)&&ve({url:vt}),"function"==typeof Ge)try{Ge(vt)}catch(li){console.error(li)}});return function(vt){return bt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vn,this._completeRedirectFn=Wa,this._overrideRedirectResult=x}_initialize(g){var _=this;return(0,d.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,E,P){var F=this;return(0,d.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(g,_,E,P)})()}_openRedirect(g,_,E,P){var F=this;return(0,d.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(g,_,E,P)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return kc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,d.Z)(function*(){if(g.underlyingResolver)return;const _=yield function pm(){return gm.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function la(v){return v.unwrap()}function If(v){return Sl(v)}function Sl(v){const{_tokenResponse:g}=v instanceof V.ZR?v.customData:v;if(!g)return null;if(!(v instanceof V.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return bo.credentialFromResult(v);const _=g.providerId;if(!_||"password"===_)return null;let E;switch(_){case"google.com":E=Ed;break;case"facebook.com":E=xa;break;case"github.com":E=tf;break;case"twitter.com":E=Cd;break;default:const{oauthIdToken:P,oauthAccessToken:F,oauthTokenSecret:te,pendingToken:ve,nonce:Ge}=g;return F||te||P||ve?ve?_.startsWith("saml.")?Go._create(_,ve):Ms._fromParams({providerId:_,signInMethod:_,pendingToken:ve,idToken:P,accessToken:F}):new cs(_).credential({idToken:P,accessToken:F,rawNonce:Ge}):null}return v instanceof V.ZR?E.credentialFromError(v):E.credentialFromResult(v)}function Dr(v,g){return g.catch(_=>{throw _ instanceof V.ZR&&function Ya(v,g){var _;const E=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Pc(v,function si(v,g){var _;const E=(0,V.m9)(v),P=g;return W(g.customData.operationType,E,"argument-error"),W(null===(_=P.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Jo._fromError(E,P)}(v,g));else if(E){const P=Sl(g),F=g;P&&(F.credential=P,F.tenantId=E.tenantId||void 0,F.email=E.email||void 0,F.phoneNumber=E.phoneNumber||void 0)}}(v,_),_}).then(_=>{const P=_.user;return{operationType:_.operationType,credential:If(_),additionalUserInfo:fi(_),user:ua.getOrCreate(P)}})}function ym(v,g){return vm.apply(this,arguments)}function vm(){return(vm=(0,d.Z)(function*(v,g){const _=yield g;return{verificationId:_.verificationId,confirm:E=>Dr(v,_.confirm(E))}})).apply(this,arguments)}class Pc{constructor(g,_){this.resolver=_,this.auth=function _m(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Dr(la(this.auth),this.resolver.resolveSignIn(g))}}class ua{constructor(g){this._delegate=g,this.multiFactor=function wl(v){const g=(0,V.m9)(v);return _u.has(g)||_u.set(g,La._fromUser(g)),_u.get(g)}(g)}static getOrCreate(g){return ua.USER_MAP.has(g)||ua.USER_MAP.set(g,new ua(g)),ua.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,d.Z)(function*(){return Dr(_.auth,Ei(_._delegate,g))})()}linkWithPhoneNumber(g,_){var E=this;return(0,d.Z)(function*(){return ym(E.auth,function Du(v,g,_){return Ld.apply(this,arguments)}(E._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,d.Z)(function*(){return Dr(_.auth,function Mu(v,g,_){return Fi.apply(this,arguments)}(_._delegate,g,Ka))})()}linkWithRedirect(g){var _=this;return(0,d.Z)(function*(){return yield qd(mt(_.auth)),function tn(v,g,_){return function Ot(v,g,_){return gi.apply(this,arguments)}(v,g,_)}(_._delegate,g,Ka)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,d.Z)(function*(){return Dr(_.auth,ks(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return ym(this.auth,function Xg(v,g,_){return Zi.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return Dr(this.auth,function Ud(v,g,_){return Ga.apply(this,arguments)}(this._delegate,g,Ka))}reauthenticateWithRedirect(g){var _=this;return(0,d.Z)(function*(){return yield qd(mt(_.auth)),function st(v,g,_){return function ut(v,g,_){return At.apply(this,arguments)}(v,g,_)}(_._delegate,g,Ka)})()}sendEmailVerification(g){return function Vr(v,g){return mc.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,d.Z)(function*(){return yield function nf(v,g){return _n.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function Dd(v,g){return gu((0,V.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function Sd(v,g){return gu((0,V.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Ha(v,g){return Fs.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function fu(v,g){return pu.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function du(v,g,_){return hu.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ua.USER_MAP=new WeakMap;const Ru=W;let dv=(()=>{class v{constructor(_,E){if(this.app=_,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:P}=_.options;Ru(P,"invalid-api-key",{appName:_.name}),Ru(P,"invalid-api-key",{appName:_.name});const F="undefined"!=typeof window?Ka:void 0;this._delegate=E.initialize({options:{persistence:bm(P,_.name),popupRedirectResolver:F}}),this._delegate._updateErrorMap(Ve),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ua.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,E){!function or(v,g,_){const E=mt(v);W(E._canInitEmulator,E,"emulator-config-failed"),W(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const P=!!(null==_?void 0:_.disableWarnings),F=ss(g),{host:te,port:ve}=function Qn(v){const g=ss(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(E);if(P){const F=P[1];return{host:F,port:os(E.substr(F.length+1))}}{const[F,te]=E.split(":");return{host:F,port:os(te)}}}(g);E.config.emulator={url:`${F}//${te}${null===ve?"":`:${ve}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:te,port:ve,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function Cn(){function v(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,_,E)}applyActionCode(_){return function Oa(v,g){return Pe.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return $t(this._delegate,_)}confirmPasswordReset(_,E){return function lu(v,g,_){return hc.apply(this,arguments)}(this._delegate,_,E)}createUserWithEmailAndPassword(_,E){var P=this;return(0,d.Z)(function*(){return Dr(P._delegate,function Ko(v,g,_){return Er.apply(this,arguments)}(P._delegate,_,E))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function cu(v,g){return go.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Id(v,g){const _=su.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,d.Z)(function*(){Ru(Li(),_._delegate,"operation-not-supported-in-this-environment");const E=yield function Ci(v,g){return qa.apply(this,arguments)}(_._delegate,Ka);return E?Dr(_._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function uv(v,g){mt(v)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,E,P){const{next:F,error:te,complete:ve}=hv(_,E,P);return this._delegate.onAuthStateChanged(F,te,ve)}onIdTokenChanged(_,E,P){const{next:F,error:te,complete:ve}=hv(_,E,P);return this._delegate.onIdTokenChanged(F,te,ve)}sendSignInLinkToEmail(_,E){return function pc(v,g,_){return gc.apply(this,arguments)}(this._delegate,_,E)}sendPasswordResetEmail(_,E){return function dc(v,g,_){return au.apply(this,arguments)}(this._delegate,_,E||void 0)}setPersistence(_){var E=this;return(0,d.Z)(function*(){let P;switch(function $E(v,g){$d(Object.values(jr).includes(g),v,"invalid-persistence-type"),(0,V.b$)()?$d(g!==jr.SESSION,v,"unsupported-persistence-type"):(0,V.UG)()?$d(g===jr.NONE,v,"unsupported-persistence-type"):Ef()?$d(g===jr.NONE||g===jr.LOCAL&&(0,V.hl)(),v,"unsupported-persistence-type"):$d(g===jr.NONE||fm(),v,"unsupported-persistence-type")}(E._delegate,_),_){case jr.SESSION:P=Vn;break;case jr.LOCAL:P=(yield oe(yo)._isAvailable())?yo:Qt;break;case jr.NONE:P=xt;break;default:return ke("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(P)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Dr(this._delegate,function Td(v){return ac.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Dr(this._delegate,Rn(this._delegate,_))}signInWithCustomToken(_){return Dr(this._delegate,function Ra(v,g){return It.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,E){return Dr(this._delegate,function fc(v,g,_){return Rn((0,V.m9)(v),wd.credential(g,_))}(this._delegate,_,E))}signInWithEmailLink(_,E){return Dr(this._delegate,function Gg(v,g,_){return Ps.apply(this,arguments)}(this._delegate,_,E))}signInWithPhoneNumber(_,E){return ym(this._delegate,function oi(v,g,_){return Iu.apply(this,arguments)}(this._delegate,_,E))}signInWithPopup(_){var E=this;return(0,d.Z)(function*(){return Ru(Li(),E._delegate,"operation-not-supported-in-this-environment"),Dr(E._delegate,function $y(v,g,_){return dr.apply(this,arguments)}(E._delegate,_,Ka))})()}signInWithRedirect(_){var E=this;return(0,d.Z)(function*(){return Ru(Li(),E._delegate,"operation-not-supported-in-this-environment"),yield qd(E._delegate),function ie(v,g,_){return function de(v,g,_){return Be.apply(this,arguments)}(v,g,_)}(E._delegate,_,Ka)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Mn(v,g){return uu.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=jr,v})();function hv(v,g,_){let E=v;"function"!=typeof v&&({next:E,error:g,complete:_}=v);const P=E;return{next:te=>P(te&&ua.getOrCreate(te)),error:g,complete:_}}function bm(v,g){const _=function cv(v,g){const _=aa();if(!_)return[];const E=ni(mm,v,g);switch(_.getItem(E)){case jr.NONE:return[xt];case jr.LOCAL:return[yo,Vn];case jr.SESSION:return[Vn];default:return[]}}(v,g);if("undefined"!=typeof self&&!_.includes(yo)&&_.push(yo),"undefined"!=typeof window)for(const E of[Qt,Vn])_.includes(E)||_.push(E);return _.includes(xt)||_.push(xt),_}class wm{constructor(){this.providerId="phone",this._delegate=new bo(la(se.Z.auth()))}static credential(g,_){return bo.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}wm.PHONE_SIGN_IN_METHOD=bo.PHONE_SIGN_IN_METHOD,wm.PROVIDER_ID=bo.PROVIDER_ID;const fv=W;class pv{constructor(g,_,E=se.Z.app()){var P;fv(null===(P=E.options)||void 0===P?void 0:P.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Jg(g,_,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Rc(v){v.INTERNAL.registerComponent(new le.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),E=g.getProvider("auth");return new dv(_,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wd,FacebookAuthProvider:xa,GithubAuthProvider:tf,GoogleAuthProvider:Ed,OAuthProvider:cs,SAMLAuthProvider:Wi,PhoneAuthProvider:wm,PhoneMultiFactorGenerator:RE,RecaptchaVerifier:pv,TwitterAuthProvider:Cd,Auth:dv,AuthCredential:Lr,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.14")}(se.Z)},8306:(nt,Te,U)=>{U.d(Te,{y:()=>K});var d=U(930),se=U(727),V=U(8822),ge=U(4671);var le=U(2416),he=U(576),me=U(2806);let K=(()=>{class Oe{constructor($e){$e&&(this._subscribe=$e)}lift($e){const ye=new Oe;return ye.source=this,ye.operator=$e,ye}subscribe($e,ye,Ae){const Ye=function Ke(Oe){return Oe&&Oe instanceof d.Lv||function ae(Oe){return Oe&&(0,he.m)(Oe.next)&&(0,he.m)(Oe.error)&&(0,he.m)(Oe.complete)}(Oe)&&(0,se.Nn)(Oe)}($e)?$e:new d.Hp($e,ye,Ae);return(0,me.x)(()=>{const{operator:et,source:ke}=this;Ye.add(et?et.call(Ye,ke):ke?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe($e){try{return this._subscribe($e)}catch(ye){$e.error(ye)}}forEach($e,ye){return new(ye=q(ye))((Ae,Ye)=>{const et=new d.Hp({next:ke=>{try{$e(ke)}catch(Ie){Ye(Ie),et.unsubscribe()}},error:Ye,complete:Ae});this.subscribe(et)})}_subscribe($e){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe($e)}[V.L](){return this}pipe(...$e){return function we(Oe){return 0===Oe.length?ge.y:1===Oe.length?Oe[0]:function($e){return Oe.reduce((ye,Ae)=>Ae(ye),$e)}}($e)(this)}toPromise($e){return new($e=q($e))((ye,Ae)=>{let Ye;this.subscribe(et=>Ye=et,et=>Ae(et),()=>ye(Ye))})}}return Oe.create=Ve=>new Oe(Ve),Oe})();function q(Oe){var Ve;return null!==(Ve=null!=Oe?Oe:le.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(nt,Te,U)=>{U.d(Te,{x:()=>le});var d=U(8306),se=U(727);const ge=(0,U(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=U(8737),we=U(2806);let le=(()=>{class me extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ae=new he(this,this);return ae.operator=q,ae}_throwIfClosed(){if(this.closed)throw new ge}next(q){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(q)}})}error(q){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ae}=this;for(;ae.length;)ae.shift().error(q)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ae,isStopped:Ke,observers:Oe}=this;return ae||Ke?se.Lc:(this.currentObservers=null,Oe.push(q),new se.w0(()=>{this.currentObservers=null,(0,ue.P)(Oe,q)}))}_checkFinalizedStatuses(q){const{hasError:ae,thrownError:Ke,isStopped:Oe}=this;ae?q.error(Ke):Oe&&q.complete()}asObservable(){const q=new d.y;return q.source=this,q}}return me.create=(K,q)=>new he(K,q),me})();class he extends le{constructor(K,q){super(),this.destination=K,this.source=q}next(K){var q,ae;null===(ae=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ae||ae.call(q,K)}error(K){var q,ae;null===(ae=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ae||ae.call(q,K)}complete(){var K,q;null===(q=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===q||q.call(K)}_subscribe(K){var q,ae;return null!==(ae=null===(q=this.source)||void 0===q?void 0:q.subscribe(K))&&void 0!==ae?ae:se.Lc}}},930:(nt,Te,U)=>{U.d(Te,{Hp:()=>$e,Lv:()=>ae});var d=U(576),se=U(727),V=U(2416),ge=U(7849),ue=U(5032);const we=me("C",void 0,void 0);function me(ke,Ie,Se){return{kind:ke,value:Ie,error:Se}}var K=U(3410),q=U(2806);class ae extends se.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,se.Nn)(Ie)&&Ie.add(this)):this.destination=et}static create(Ie,Se,qe){return new $e(Ie,Se,qe)}next(Ie){this.isStopped?Ye(function he(ke){return me("N",ke,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Ye(function le(ke){return me("E",void 0,ke)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Ye(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Oe(ke,Ie){return Ke.call(ke,Ie)}class Ve{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Ie)}catch(qe){ye(qe)}}error(Ie){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Ie)}catch(qe){ye(qe)}else ye(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(Se){ye(Se)}}}class $e extends ae{constructor(Ie,Se,qe){let We;if(super(),(0,d.m)(Ie)||!Ie)We={next:null!=Ie?Ie:void 0,error:null!=Se?Se:void 0,complete:null!=qe?qe:void 0};else{let W;this&&V.v.useDeprecatedNextContext?(W=Object.create(Ie),W.unsubscribe=()=>this.unsubscribe(),We={next:Ie.next&&Oe(Ie.next,W),error:Ie.error&&Oe(Ie.error,W),complete:Ie.complete&&Oe(Ie.complete,W)}):We=Ie}this.destination=new Ve(We)}}function ye(ke){V.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(ke):(0,ge.h)(ke)}function Ye(ke,Ie){const{onStoppedNotification:Se}=V.v;Se&&K.z.setTimeout(()=>Se(ke,Ie))}const et={closed:!0,next:ue.Z,error:function Ae(ke){throw ke},complete:ue.Z}},727:(nt,Te,U)=>{U.d(Te,{Lc:()=>we,w0:()=>ue,Nn:()=>le});var d=U(576);const V=(0,U(3888).d)(me=>function(q){me(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ae,Ke)=>`${Ke+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ge=U(8737);class ue{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Oe of q)Oe.remove(this);else q.remove(this);const{initialTeardown:ae}=this;if((0,d.m)(ae))try{ae()}catch(Oe){K=Oe instanceof V?Oe.errors:[Oe]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Oe of Ke)try{he(Oe)}catch(Ve){K=null!=K?K:[],Ve instanceof V?K=[...K,...Ve.errors]:K.push(Ve)}}if(K)throw new V(K)}}add(K){var q;if(K&&K!==this)if(this.closed)he(K);else{if(K instanceof ue){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(K)}}_hasParent(K){const{_parentage:q}=this;return q===K||Array.isArray(q)&&q.includes(K)}_addParent(K){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(K),q):q?[q,K]:K}_removeParent(K){const{_parentage:q}=this;q===K?this._parentage=null:Array.isArray(q)&&(0,ge.P)(q,K)}remove(K){const{_finalizers:q}=this;q&&(0,ge.P)(q,K),K instanceof ue&&K._removeParent(this)}}ue.EMPTY=(()=>{const me=new ue;return me.closed=!0,me})();const we=ue.EMPTY;function le(me){return me instanceof ue||me&&"closed"in me&&(0,d.m)(me.remove)&&(0,d.m)(me.add)&&(0,d.m)(me.unsubscribe)}function he(me){(0,d.m)(me)?me():me.unsubscribe()}},2416:(nt,Te,U)=>{U.d(Te,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,Te,U)=>{U.d(Te,{E:()=>se});const se=new(U(8306).y)(ue=>ue.complete())},8996:(nt,Te,U)=>{U.d(Te,{D:()=>Ie});var d=U(8421),se=U(5363),V=U(9468),we=U(8306),he=U(2202),me=U(576),K=U(9672);function ae(Se,qe){if(!Se)throw new Error("Iterable cannot be null");return new we.y(We=>{(0,K.f)(We,qe,()=>{const W=Se[Symbol.asyncIterator]();(0,K.f)(We,qe,()=>{W.next().then(De=>{De.done?We.complete():We.next(De.value)})},0,!0)})})}var Ke=U(3670),Oe=U(8239),Ve=U(1144),$e=U(6495),ye=U(2206),Ae=U(4532),Ye=U(3260);function Ie(Se,qe){return qe?function ke(Se,qe){if(null!=Se){if((0,Ke.c)(Se))return function ge(Se,qe){return(0,d.Xf)(Se).pipe((0,V.R)(qe),(0,se.Q)(qe))}(Se,qe);if((0,Ve.z)(Se))return function le(Se,qe){return new we.y(We=>{let W=0;return qe.schedule(function(){W===Se.length?We.complete():(We.next(Se[W++]),We.closed||this.schedule())})})}(Se,qe);if((0,Oe.t)(Se))return function ue(Se,qe){return(0,d.Xf)(Se).pipe((0,V.R)(qe),(0,se.Q)(qe))}(Se,qe);if((0,ye.D)(Se))return ae(Se,qe);if((0,$e.T)(Se))return function q(Se,qe){return new we.y(We=>{let W;return(0,K.f)(We,qe,()=>{W=Se[he.h](),(0,K.f)(We,qe,()=>{let De,ee;try{({value:De,done:ee}=W.next())}catch(ce){return void We.error(ce)}ee?We.complete():We.next(De)},0,!0)}),()=>(0,me.m)(null==W?void 0:W.return)&&W.return()})}(Se,qe);if((0,Ye.L)(Se))return function et(Se,qe){return ae((0,Ye.Q)(Se),qe)}(Se,qe)}throw(0,Ae.z)(Se)}(Se,qe):(0,d.Xf)(Se)}},8421:(nt,Te,U)=>{U.d(Te,{Xf:()=>Ke});var d=U(655),se=U(1144),V=U(8239),ge=U(8306),ue=U(3670),we=U(2206),le=U(4532),he=U(6495),me=U(3260),K=U(576),q=U(7849),ae=U(8822);function Ke(ke){if(ke instanceof ge.y)return ke;if(null!=ke){if((0,ue.c)(ke))return function Oe(ke){return new ge.y(Ie=>{const Se=ke[ae.L]();if((0,K.m)(Se.subscribe))return Se.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,se.z)(ke))return function Ve(ke){return new ge.y(Ie=>{for(let Se=0;Se<ke.length&&!Ie.closed;Se++)Ie.next(ke[Se]);Ie.complete()})}(ke);if((0,V.t)(ke))return function $e(ke){return new ge.y(Ie=>{ke.then(Se=>{Ie.closed||(Ie.next(Se),Ie.complete())},Se=>Ie.error(Se)).then(null,q.h)})}(ke);if((0,we.D)(ke))return Ae(ke);if((0,he.T)(ke))return function ye(ke){return new ge.y(Ie=>{for(const Se of ke)if(Ie.next(Se),Ie.closed)return;Ie.complete()})}(ke);if((0,me.L)(ke))return function Ye(ke){return Ae((0,me.Q)(ke))}(ke)}throw(0,le.z)(ke)}function Ae(ke){return new ge.y(Ie=>{(function et(ke,Ie){var Se,qe,We,W;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Se=(0,d.KL)(ke);!(qe=yield Se.next()).done;)if(Ie.next(qe.value),Ie.closed)return}catch(De){We={error:De}}finally{try{qe&&!qe.done&&(W=Se.return)&&(yield W.call(Se))}finally{if(We)throw We.error}}Ie.complete()})})(ke,Ie).catch(Se=>Ie.error(Se))})}},6451:(nt,Te,U)=>{U.d(Te,{T:()=>we});var d=U(8189),se=U(8421),V=U(515),ge=U(7669),ue=U(8996);function we(...le){const he=(0,ge.yG)(le),me=(0,ge._6)(le,1/0),K=le;return K.length?1===K.length?(0,se.Xf)(K[0]):(0,d.J)(me)((0,ue.D)(K,he)):V.E}},5403:(nt,Te,U)=>{U.d(Te,{x:()=>se});var d=U(930);function se(ge,ue,we,le,he){return new V(ge,ue,we,le,he)}class V extends d.Lv{constructor(ue,we,le,he,me,K){super(ue),this.onFinalize=me,this.shouldUnsubscribe=K,this._next=we?function(q){try{we(q)}catch(ae){ue.error(ae)}}:super._next,this._error=he?function(q){try{he(q)}catch(ae){ue.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(q){ue.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(nt,Te,U)=>{U.d(Te,{U:()=>V});var d=U(4482),se=U(5403);function V(ge,ue){return(0,d.e)((we,le)=>{let he=0;we.subscribe((0,se.x)(le,me=>{le.next(ge.call(ue,me,he++))}))})}},8189:(nt,Te,U)=>{U.d(Te,{J:()=>V});var d=U(5577),se=U(4671);function V(ge=1/0){return(0,d.z)(se.y,ge)}},5577:(nt,Te,U)=>{U.d(Te,{z:()=>he});var d=U(4004),se=U(8421),V=U(4482),ge=U(9672),ue=U(5403),le=U(576);function he(me,K,q=1/0){return(0,le.m)(K)?he((ae,Ke)=>(0,d.U)((Oe,Ve)=>K(ae,Oe,Ke,Ve))((0,se.Xf)(me(ae,Ke))),q):("number"==typeof K&&(q=K),(0,V.e)((ae,Ke)=>function we(me,K,q,ae,Ke,Oe,Ve,$e){const ye=[];let Ae=0,Ye=0,et=!1;const ke=()=>{et&&!ye.length&&!Ae&&K.complete()},Ie=qe=>Ae<ae?Se(qe):ye.push(qe),Se=qe=>{Oe&&K.next(qe),Ae++;let We=!1;(0,se.Xf)(q(qe,Ye++)).subscribe((0,ue.x)(K,W=>{null==Ke||Ke(W),Oe?Ie(W):K.next(W)},()=>{We=!0},void 0,()=>{if(We)try{for(Ae--;ye.length&&Ae<ae;){const W=ye.shift();Ve?(0,ge.f)(K,Ve,()=>Se(W)):Se(W)}ke()}catch(W){K.error(W)}}))};return me.subscribe((0,ue.x)(K,Ie,()=>{et=!0,ke()})),()=>{null==$e||$e()}}(ae,Ke,me,q)))}},5363:(nt,Te,U)=>{U.d(Te,{Q:()=>ge});var d=U(9672),se=U(4482),V=U(5403);function ge(ue,we=0){return(0,se.e)((le,he)=>{le.subscribe((0,V.x)(he,me=>(0,d.f)(he,ue,()=>he.next(me),we),()=>(0,d.f)(he,ue,()=>he.complete(),we),me=>(0,d.f)(he,ue,()=>he.error(me),we)))})}},3099:(nt,Te,U)=>{U.d(Te,{B:()=>we});var d=U(8996),se=U(5698),V=U(7579),ge=U(930),ue=U(4482);function we(he={}){const{connector:me=(()=>new V.x),resetOnError:K=!0,resetOnComplete:q=!0,resetOnRefCountZero:ae=!0}=he;return Ke=>{let Oe=null,Ve=null,$e=null,ye=0,Ae=!1,Ye=!1;const et=()=>{null==Ve||Ve.unsubscribe(),Ve=null},ke=()=>{et(),Oe=$e=null,Ae=Ye=!1},Ie=()=>{const Se=Oe;ke(),null==Se||Se.unsubscribe()};return(0,ue.e)((Se,qe)=>{ye++,!Ye&&!Ae&&et();const We=$e=null!=$e?$e:me();qe.add(()=>{ye--,0===ye&&!Ye&&!Ae&&(Ve=le(Ie,ae))}),We.subscribe(qe),Oe||(Oe=new ge.Hp({next:W=>We.next(W),error:W=>{Ye=!0,et(),Ve=le(ke,K,W),We.error(W)},complete:()=>{Ae=!0,et(),Ve=le(ke,q),We.complete()}}),(0,d.D)(Se).subscribe(Oe))})(Ke)}}function le(he,me,...K){return!0===me?(he(),null):!1===me?null:me(...K).pipe((0,se.q)(1)).subscribe(()=>he())}},9468:(nt,Te,U)=>{U.d(Te,{R:()=>se});var d=U(4482);function se(V,ge=0){return(0,d.e)((ue,we)=>{we.add(V.schedule(()=>ue.subscribe(we),ge))})}},5698:(nt,Te,U)=>{U.d(Te,{q:()=>ge});var d=U(515),se=U(4482),V=U(5403);function ge(ue){return ue<=0?()=>d.E:(0,se.e)((we,le)=>{let he=0;we.subscribe((0,V.x)(le,me=>{++he<=ue&&(le.next(me),ue<=he&&le.complete())}))})}},8505:(nt,Te,U)=>{U.d(Te,{b:()=>ue});var d=U(576),se=U(4482),V=U(5403),ge=U(4671);function ue(we,le,he){const me=(0,d.m)(we)||le||he?{next:we,error:le,complete:he}:we;return me?(0,se.e)((K,q)=>{var ae;null===(ae=me.subscribe)||void 0===ae||ae.call(me);let Ke=!0;K.subscribe((0,V.x)(q,Oe=>{var Ve;null===(Ve=me.next)||void 0===Ve||Ve.call(me,Oe),q.next(Oe)},()=>{var Oe;Ke=!1,null===(Oe=me.complete)||void 0===Oe||Oe.call(me),q.complete()},Oe=>{var Ve;Ke=!1,null===(Ve=me.error)||void 0===Ve||Ve.call(me,Oe),q.error(Oe)},()=>{var Oe,Ve;Ke&&(null===(Oe=me.unsubscribe)||void 0===Oe||Oe.call(me)),null===(Ve=me.finalize)||void 0===Ve||Ve.call(me)}))}):ge.y}},4408:(nt,Te,U)=>{U.d(Te,{o:()=>ue});var d=U(727);class se extends d.w0{constructor(le,he){super()}schedule(le,he=0){return this}}const V={setInterval(we,le,...he){const{delegate:me}=V;return(null==me?void 0:me.setInterval)?me.setInterval(we,le,...he):setInterval(we,le,...he)},clearInterval(we){const{delegate:le}=V;return((null==le?void 0:le.clearInterval)||clearInterval)(we)},delegate:void 0};var ge=U(8737);class ue extends se{constructor(le,he){super(le,he),this.scheduler=le,this.work=he,this.pending=!1}schedule(le,he=0){if(this.closed)return this;this.state=le;const me=this.id,K=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(K,me,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(K,this.id,he),this}requestAsyncId(le,he,me=0){return V.setInterval(le.flush.bind(le,this),me)}recycleAsyncId(le,he,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return he;V.clearInterval(he)}execute(le,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(le,he);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,he){let K,me=!1;try{this.work(le)}catch(q){me=!0,K=q||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:le,scheduler:he}=this,{actions:me}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(me,this),null!=le&&(this.id=this.recycleAsyncId(he,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,Te,U)=>{U.d(Te,{v:()=>V});var d=U(6063);class se{constructor(ue,we=se.now){this.schedulerActionCtor=ue,this.now=we}schedule(ue,we=0,le){return new this.schedulerActionCtor(this,ue).schedule(le,we)}}se.now=d.l.now;class V extends se{constructor(ue,we=se.now){super(ue,we),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ue){const{actions:we}=this;if(this._active)return void we.push(ue);let le;this._active=!0;do{if(le=ue.execute(ue.state,ue.delay))break}while(ue=we.shift());if(this._active=!1,le){for(;ue=we.shift();)ue.unsubscribe();throw le}}}},4986:(nt,Te,U)=>{U.d(Te,{z:()=>V});var d=U(4408);const V=new(U(7565).v)(d.o)},6063:(nt,Te,U)=>{U.d(Te,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(nt,Te,U)=>{U.d(Te,{z:()=>d});const d={setTimeout(se,V,...ge){const{delegate:ue}=d;return(null==ue?void 0:ue.setTimeout)?ue.setTimeout(se,V,...ge):setTimeout(se,V,...ge)},clearTimeout(se){const{delegate:V}=d;return((null==V?void 0:V.clearTimeout)||clearTimeout)(se)},delegate:void 0}},2202:(nt,Te,U)=>{U.d(Te,{h:()=>se});const se=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,Te,U)=>{U.d(Te,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,Te,U)=>{U.d(Te,{_6:()=>we,jO:()=>ge,yG:()=>ue});var d=U(576);function V(le){return le[le.length-1]}function ge(le){return(0,d.m)(V(le))?le.pop():void 0}function ue(le){return function se(le){return le&&(0,d.m)(le.schedule)}(V(le))?le.pop():void 0}function we(le,he){return"number"==typeof V(le)?le.pop():he}},8737:(nt,Te,U)=>{function d(se,V){if(se){const ge=se.indexOf(V);0<=ge&&se.splice(ge,1)}}U.d(Te,{P:()=>d})},3888:(nt,Te,U)=>{function d(se){const ge=se(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}U.d(Te,{d:()=>d})},2806:(nt,Te,U)=>{U.d(Te,{O:()=>ge,x:()=>V});var d=U(2416);let se=null;function V(ue){if(d.v.useDeprecatedSynchronousErrorHandling){const we=!se;if(we&&(se={errorThrown:!1,error:null}),ue(),we){const{errorThrown:le,error:he}=se;if(se=null,le)throw he}}else ue()}function ge(ue){d.v.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=ue)}},9672:(nt,Te,U)=>{function d(se,V,ge,ue=0,we=!1){const le=V.schedule(function(){ge(),we?se.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(se.add(le),!we)return le}U.d(Te,{f:()=>d})},4671:(nt,Te,U)=>{function d(se){return se}U.d(Te,{y:()=>d})},1144:(nt,Te,U)=>{U.d(Te,{z:()=>d});const d=se=>se&&"number"==typeof se.length&&"function"!=typeof se},2206:(nt,Te,U)=>{U.d(Te,{D:()=>se});var d=U(576);function se(V){return Symbol.asyncIterator&&(0,d.m)(null==V?void 0:V[Symbol.asyncIterator])}},576:(nt,Te,U)=>{function d(se){return"function"==typeof se}U.d(Te,{m:()=>d})},3670:(nt,Te,U)=>{U.d(Te,{c:()=>V});var d=U(8822),se=U(576);function V(ge){return(0,se.m)(ge[d.L])}},6495:(nt,Te,U)=>{U.d(Te,{T:()=>V});var d=U(2202),se=U(576);function V(ge){return(0,se.m)(null==ge?void 0:ge[d.h])}},8239:(nt,Te,U)=>{U.d(Te,{t:()=>se});var d=U(576);function se(V){return(0,d.m)(null==V?void 0:V.then)}},3260:(nt,Te,U)=>{U.d(Te,{L:()=>ge,Q:()=>V});var d=U(655),se=U(576);function V(ue){return(0,d.FC)(this,arguments,function*(){const le=ue.getReader();try{for(;;){const{value:he,done:me}=yield(0,d.qq)(le.read());if(me)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(he)}}finally{le.releaseLock()}})}function ge(ue){return(0,se.m)(null==ue?void 0:ue.getReader)}},4482:(nt,Te,U)=>{U.d(Te,{A:()=>se,e:()=>V});var d=U(576);function se(ge){return(0,d.m)(null==ge?void 0:ge.lift)}function V(ge){return ue=>{if(se(ue))return ue.lift(function(we){try{return ge(we,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(nt,Te,U)=>{function d(){}U.d(Te,{Z:()=>d})},7849:(nt,Te,U)=>{U.d(Te,{h:()=>V});var d=U(2416),se=U(3410);function V(ge){se.z.setTimeout(()=>{const{onUnhandledError:ue}=d.v;if(!ue)throw ge;ue(ge)})}},4532:(nt,Te,U)=>{function d(se){return new TypeError(`You provided ${null!==se&&"object"==typeof se?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Te,{z:()=>d})},655:(nt,Te,U)=>{function ge(ee,ce){var oe={};for(var Ee in ee)Object.prototype.hasOwnProperty.call(ee,Ee)&&ce.indexOf(Ee)<0&&(oe[Ee]=ee[Ee]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(Ee=Object.getOwnPropertySymbols(ee);fe<Ee.length;fe++)ce.indexOf(Ee[fe])<0&&Object.prototype.propertyIsEnumerable.call(ee,Ee[fe])&&(oe[Ee[fe]]=ee[Ee[fe]])}return oe}function he(ee,ce,oe,Ee){return new(oe||(oe=Promise))(function(je,yt){function Kt(hn){try{Xe(Ee.next(hn))}catch(Hn){yt(Hn)}}function zt(hn){try{Xe(Ee.throw(hn))}catch(Hn){yt(Hn)}}function Xe(hn){hn.done?je(hn.value):function fe(je){return je instanceof oe?je:new oe(function(yt){yt(je)})}(hn.value).then(Kt,zt)}Xe((Ee=Ee.apply(ee,ce||[])).next())})}function ye(ee){return this instanceof ye?(this.v=ee,this):new ye(ee)}function Ae(ee,ce,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,Ee=oe.apply(ee,ce||[]),je=[];return fe={},yt("next"),yt("throw"),yt("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function yt(gn){Ee[gn]&&(fe[gn]=function(on){return new Promise(function(zi,en){je.push([gn,on,zi,en])>1||Kt(gn,on)})})}function Kt(gn,on){try{!function zt(gn){gn.value instanceof ye?Promise.resolve(gn.value.v).then(Xe,hn):Hn(je[0][2],gn)}(Ee[gn](on))}catch(zi){Hn(je[0][3],zi)}}function Xe(gn){Kt("next",gn)}function hn(gn){Kt("throw",gn)}function Hn(gn,on){gn(on),je.shift(),je.length&&Kt(je[0][0],je[0][1])}}function et(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ce=ee[Symbol.asyncIterator];return ce?ce.call(ee):(ee=function ae(ee){var ce="function"==typeof Symbol&&Symbol.iterator,oe=ce&&ee[ce],Ee=0;if(oe)return oe.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&Ee>=ee.length&&(ee=void 0),{value:ee&&ee[Ee++],done:!ee}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),oe={},Ee("next"),Ee("throw"),Ee("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function Ee(je){oe[je]=ee[je]&&function(yt){return new Promise(function(Kt,zt){!function fe(je,yt,Kt,zt){Promise.resolve(zt).then(function(Xe){je({value:Xe,done:Kt})},yt)}(Kt,zt,(yt=ee[je](yt)).done,yt.value)})}}}U.d(Te,{FC:()=>Ae,KL:()=>et,_T:()=>ge,mG:()=>he,qq:()=>ye})},5e3:(nt,Te,U)=>{U.d(Te,{$8M:()=>Cl,$Z:()=>QC,AFp:()=>nD,ALo:()=>II,AaK:()=>he,BQk:()=>t_,CHM:()=>Zo,CRH:()=>RI,CZH:()=>cb,CqO:()=>tT,EJc:()=>Ik,EiD:()=>av,EpF:()=>XC,F$t:()=>oT,F4k:()=>eT,FYo:()=>W0,FiY:()=>Tr,G48:()=>Nk,Gf:()=>kI,GfV:()=>mI,Gpc:()=>q,Hsn:()=>b0,Ikx:()=>R0,JOm:()=>F,JVY:()=>kE,L6k:()=>Jy,LAX:()=>om,LFG:()=>ut,LSH:()=>bf,Lbi:()=>sD,MAs:()=>O1,NdJ:()=>v0,O4$:()=>Md,OlP:()=>qn,Oqu:()=>Mo,PXZ:()=>dD,Q6J:()=>g0,QGY:()=>y0,Qsj:()=>BM,R0b:()=>Po,RDi:()=>lc,Rgc:()=>Ct,SBq:()=>Dp,Sil:()=>lD,Suo:()=>PI,TTD:()=>cs,TgZ:()=>Jm,Tol:()=>yT,Udp:()=>ga,VLi:()=>Pn,W1O:()=>LI,WLB:()=>Ap,X6Q:()=>j_,XFs:()=>Tt,Xpm:()=>Et,Y36:()=>sp,YKP:()=>yI,YNc:()=>R1,Yjl:()=>hl,Yz7:()=>on,ZZ4:()=>AD,_Bn:()=>dI,_UZ:()=>_0,_Vd:()=>Ip,_c5:()=>G_,_uU:()=>IT,aQg:()=>bs,c2e:()=>Ck,cJS:()=>en,cg1:()=>u_,d8E:()=>sh,dDg:()=>vh,deG:()=>Qg,dqk:()=>Wt,eBb:()=>PE,eFA:()=>U_,ekj:()=>lp,evT:()=>pv,f3M:()=>tn,g9A:()=>rD,h0i:()=>va,hGG:()=>Zk,hij:()=>cp,iGM:()=>sb,ifc:()=>Yt,ip1:()=>tD,kL8:()=>c_,kcU:()=>$g,lG2:()=>eu,lcZ:()=>J0,mCW:()=>jd,n5z:()=>vo,oAB:()=>$i,oJD:()=>lv,oxw:()=>sT,pB0:()=>RE,q3G:()=>ai,q4F:()=>b_,qLn:()=>Ya,qOj:()=>a0,qZA:()=>Xm,qzn:()=>xc,sBO:()=>Gu,sIi:()=>Zm,s_b:()=>S_,soG:()=>N_,tBr:()=>_s,tb:()=>oD,tp0:()=>Za,uIk:()=>$C,vHH:()=>Ve,vpe:()=>_t,vpz:()=>PT,wAp:()=>Dt,xp6:()=>sC,yhl:()=>mf,ynx:()=>e_,z2F:()=>_b,z3N:()=>Co,zSh:()=>Wv,zs3:()=>Ao});var d=U(7579),se=U(727),V=U(8306),ge=U(6451),ue=U(3099);function we(o){for(let a in o)if(o[a]===we)return a;throw Error("Could not find renamed property on target object.")}function le(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function he(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(he).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function me(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const K=we({__forward_ref__:we});function q(o){return o.__forward_ref__=q,o.toString=function(){return he(this())},o}function ae(o){return Ke(o)?o():o}function Ke(o){return"function"==typeof o&&o.hasOwnProperty(K)&&o.__forward_ref__===q}class Ve extends Error{constructor(a,u){super(function $e(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,u)),this.code=a}}function ye(o){return"string"==typeof o?o:null==o?"":String(o)}function Ae(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ye(o)}function Ie(o,a){const u=a?` in ${a}`:"";throw new Ve(-201,`No provider for ${Ae(o)} found${u}`)}function zt(o,a){null==o&&function Xe(o,a,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function on(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function en(o){return{providers:o.providers||[],imports:o.imports||[]}}function Gt(o){return ns(o,is)||ns(o,nr)}function ns(o,a){return o.hasOwnProperty(a)?o[a]:null}function Gi(o){return o&&(o.hasOwnProperty(so)||o.hasOwnProperty(rs))?o[so]:null}const is=we({\u0275prov:we}),so=we({\u0275inj:we}),nr=we({ngInjectableDef:we}),rs=we({ngInjectorDef:we});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let yr;function zn(o){const a=yr;return yr=o,a}function oo(o,a,u){const h=Gt(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Tt.Optional?null:void 0!==a?a:void Ie(he(o),"Injector")}function hi(o){return{toString:o}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),Yt=(()=>{return(o=Yt||(Yt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Yt;var o})();const ht="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,xi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wt=ht||"undefined"!=typeof global&&global||St||xi,ki={},z=[],J=we({\u0275cmp:we}),X=we({\u0275dir:we}),xe=we({\u0275pipe:we}),Y=we({\u0275mod:we}),re=we({\u0275fac:we}),Fe=we({__NG_ELEMENT_ID__:we});let it=0;function Et(o){return hi(()=>{const u={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||z,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Yt.Emulated,id:"c",styles:o.styles||z,_:null,setInput:null,schemas:o.schemas||null,tView:null},p=o.directives,m=o.features,b=o.pipes;return h.id+=it++,h.inputs=dl(o.inputs,u),h.outputs=dl(o.outputs),m&&m.forEach(T=>T(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(En):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(xt):null,h})}function En(o){return ii(o)||function qi(o){return o[X]||null}(o)}function xt(o){return function As(o){return o[xe]||null}(o)}const ni={};function $i(o){return hi(()=>{const a={type:o.type,bootstrap:o.bootstrap||z,declarations:o.declarations||z,imports:o.imports||z,exports:o.exports||z,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(ni[o.id]=o.type),a})}function dl(o,a){if(null==o)return ki;const u={};for(const h in o)if(o.hasOwnProperty(h)){let p=o[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),u[p]=h,a&&(a[p]=m)}return u}const eu=Et;function hl(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function ii(o){return o[J]||null}function ri(o,a){const u=o[Y]||null;if(!u&&!0===a)throw new Error(`Type ${he(o)} does not have '\u0275mod' property.`);return u}function ar(o){return Array.isArray(o)&&"object"==typeof o[1]}function as(o){return Array.isArray(o)&&!0===o[1]}function iu(o){return 0!=(8&o.flags)}function pd(o){return 2==(2&o.flags)}function ls(o){return 1==(1&o.flags)}function us(o){return null!==o.template}function ru(o){return 0!=(512&o[2])}function Ri(o,a){return o.hasOwnProperty(re)?o[re]:null}class zo{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function cs(){return xa}function xa(o){return o.type.prototype.ngOnChanges&&(o.setInput=tf),Ed}function Ed(){const o=Go(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===ki)o.previous=a;else for(let h in a)u[h]=a[h];o.current=null,this.ngOnChanges(a)}}function tf(o,a,u,h){const p=Go(o)||function ka(o,a){return o[Ma]=a}(o,{previous:ki,current:null}),m=p.current||(p.current={}),b=p.previous,T=this.declaredInputs[u],I=b[T];m[T]=new zo(I&&I.currentValue,a,b===ki),o[h]=a}cs.ngInherit=!0;const Ma="__ngSimpleChanges__";function Go(o){return o[Ma]||null}let Pa;function lc(o){Pa=o}function ds(){return void 0!==Pa?Pa:"undefined"!=typeof document?document:void 0}function _n(o){return!!o.listen}const ml={createRenderer:(o,a)=>ds()};function cn(o){for(;Array.isArray(o);)o=o[0];return o}function fo(o,a){return cn(a[o])}function wi(o,a){return cn(a[o.index])}function Rn(o,a){return o.data[a]}function hs(o,a){return o[a]}function Ei(o,a){const u=a[o];return ar(u)?u:u[0]}function Wo(o){return 4==(4&o[2])}function ks(o){return 128==(128&o[2])}function Ur(o,a){return null==a?null:o[a]}function fs(o){o[18]=0}function Ra(o,a){o[5]+=a;let u=o,h=o[3];for(;null!==h&&(1===a&&1===u[5]||-1===a&&0===u[5]);)h[5]+=a,u=h,h=h[3]}const It={lFrame:Fa(null),bindingsEnabled:!0};function lu(){return It.bindingsEnabled}function Pe(){return It.lFrame.lView}function $t(){return It.lFrame.tView}function Zo(o){return It.lFrame.contextLView=o,o[8]}function Mn(){let o=uu();for(;null!==o&&64===o.type;)o=o.parent;return o}function uu(){return It.lFrame.currentTNode}function Er(o,a){const u=It.lFrame;u.currentTNode=o,u.isParent=a}function fc(){return It.lFrame.isParent}function pc(){It.lFrame.isParent=!1}function Ni(){const o=It.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function go(){return It.lFrame.bindingIndex++}function Vr(o){const a=It.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function hu(o,a){const u=It.lFrame;u.bindingIndex=u.bindingRootIndex=o,Na(a)}function Na(o){It.lFrame.currentDirectiveIndex=o}function fu(o){const a=It.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function pu(){return It.lFrame.currentQueryIndex}function Dd(o){It.lFrame.currentQueryIndex=o}function Sd(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function gu(o,a,u){if(u&Tt.SkipSelf){let p=a,m=o;for(;!(p=p.parent,null!==p||u&Tt.Host||(p=Sd(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;a=p,o=m}const h=It.lFrame=Ad();return h.currentTNode=a,h.lView=o,!0}function Yo(o){const a=Ad(),u=o[1];It.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Ad(){const o=It.lFrame,a=null===o?null:o.child;return null===a?Fa(o):a}function Fa(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function xd(){const o=It.lFrame;return It.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const mu=xd;function lr(){const o=xd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function fi(){return It.lFrame.selectedIndex}function Qo(o){It.lFrame.selectedIndex=o}function Jn(){const o=It.lFrame;return Rn(o.tView,o.selectedIndex)}function Md(){It.lFrame.currentNamespace="svg"}function $g(){!function kd(){It.lFrame.currentNamespace=null}()}function bl(o,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:T,ngAfterViewInit:I,ngAfterViewChecked:M,ngOnDestroy:O}=m;b&&(o.contentHooks||(o.contentHooks=[])).push(-u,b),T&&((o.contentHooks||(o.contentHooks=[])).push(u,T),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,T)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),M&&((o.viewHooks||(o.viewHooks=[])).push(u,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,M)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(u,O)}}function Rs(o,a,u){Pd(o,a,3,u)}function Jo(o,a,u,h){(3&o[2])===u&&Pd(o,a,u,h)}function si(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function Pd(o,a,u,h){const m=null!=h?h:-1,b=a.length-1;let T=0;for(let I=void 0!==h?65535&o[18]:0;I<b;I++)if("number"==typeof a[I+1]){if(T=a[I],null!=h&&T>=h)break}else a[I]<0&&(o[18]+=65536),(T<m||-1==m)&&(Wg(o,u,a,I),o[18]=(4294901760&o[18])+I+2),I++}function Wg(o,a,u,h){const p=u[h]<0,m=u[h+1],T=o[p?-u[h]:u[h]];if(p){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(T)}finally{}}}else try{m.call(T)}finally{}}class La{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Qt(o,a,u){const h=_n(o);let p=0;for(;p<u.length;){const m=u[p];if("number"==typeof m){if(0!==m)break;p++;const b=u[p++],T=u[p++],I=u[p++];h?o.setAttribute(a,T,I,b):a.setAttributeNS(b,T,I)}else{const b=m,T=u[++p];Vn(b)?h&&o.setProperty(a,b,T):h?o.setAttribute(a,b,T):a.setAttribute(b,T),p++}}return p}function pt(o){return 3===o||4===o||6===o}function Vn(o){return 64===o.charCodeAt(0)}function Bn(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const p=a[h];"number"==typeof p?u=p:0===u||yu(o,u,p,null,-1===u||2===u?a[++h]:null)}}return o}function yu(o,a,u,h,p){let m=0,b=o.length;if(-1===a)b=-1;else for(;m<o.length;){const T=o[m++];if("number"==typeof T){if(T===a){b=-1;break}if(T>a){b=m-1;break}}}for(;m<o.length;){const T=o[m];if("number"==typeof T)break;if(T===u){if(null===h)return void(null!==p&&(o[m+1]=p));if(h===o[m+1])return void(o[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==b&&(o.splice(b,0,a),m=b+1),o.splice(m++,0,u),null!==h&&o.splice(m++,0,h),null!==p&&o.splice(m++,0,p)}function Br(o){return-1!==o}function Tn(o){return 32767&o}function Xn(o,a){let u=function jt(o){return o>>16}(o),h=a;for(;u>0;)h=h[15],u--;return h}let dt=!0;function ea(o){const a=dt;return dt=o,a}let Od=0;function mo(o,a){const u=_o(o,a);if(-1!==u)return u;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,ta(h.data,o),ta(a,null),ta(h.blueprint,null));const p=On(o,a),m=o.injectorIndex;if(Br(p)){const b=Tn(p),T=Xn(p,a),I=T[1].data;for(let M=0;M<8;M++)a[m+M]=T[b+M]|I[b+M]}return a[m+8]=p,m}function ta(o,a){o.push(0,0,0,0,0,0,0,0,a)}function _o(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function On(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,p=a;for(;null!==p;){const m=p[1],b=m.type;if(h=2===b?m.declTNode:1===b?p[6]:null,null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function vu(o,a,u){!function bc(o,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Fe)&&(h=u[Fe]),null==h&&(h=u[Fe]=Od++);const p=255&h;a.data[o+(p>>5)]|=1<<p}(o,a,u)}function Ua(o,a,u){if(u&Tt.Optional)return o;Ie(a,"NodeInjector")}function Va(o,a,u,h){if(u&Tt.Optional&&void 0===h&&(h=null),0==(u&(Tt.Self|Tt.Host))){const p=o[9],m=zn(void 0);try{return p?p.get(a,h,u&Tt.Optional):oo(a,h,u&Tt.Optional)}finally{zn(m)}}return Ua(h,a,u)}function wu(o,a,u,h=Tt.Default,p){if(null!==o){const m=function yo(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Fe)?o[Fe]:void 0;return"number"==typeof a?a>=0?255&a:Eu:a}(u);if("function"==typeof m){if(!gu(a,o,h))return h&Tt.Host?Ua(p,u,h):Va(a,u,h,p);try{const b=m(h);if(null!=b||h&Tt.Optional)return b;Ie(u)}finally{mu()}}else if("number"==typeof m){let b=null,T=_o(o,a),I=-1,M=h&Tt.Host?a[16][6]:null;for((-1===T||h&Tt.SkipSelf)&&(I=-1===T?On(o,a):a[T+8],-1!==I&&wc(h,!1)?(b=a[1],T=Tn(I),a=Xn(I,a)):T=-1);-1!==T;){const O=a[1];if(na(m,T,O.data)){const B=Cu(T,a,u,b,h,M);if(B!==Os)return B}I=a[T+8],-1!==I&&wc(h,a[1].data[T+8]===M)&&na(m,T,a)?(b=O,T=Tn(I),a=Xn(I,a)):T=-1}}}return Va(a,u,h,p)}const Os={};function Eu(){return new ms(Mn(),Pe())}function Cu(o,a,u,h,p,m){const b=a[1],T=b.data[o+8],O=kn(T,b,u,null==h?pd(T)&&dt:h!=b&&0!=(3&T.type),p&Tt.Host&&m===T);return null!==O?Ba(a,b,O,T):Os}function kn(o,a,u,h,p){const m=o.providerIndexes,b=a.data,T=1048575&m,I=o.directiveStart,O=m>>20,G=p?T+O:o.directiveEnd;for(let ne=h?T:T+O;ne<G;ne++){const Ce=b[ne];if(ne<I&&u===Ce||ne>=I&&Ce.type===u)return ne}if(p){const ne=b[I];if(ne&&us(ne)&&ne.type===u)return I}return null}function Ba(o,a,u,h){let p=o[u];const m=a.data;if(function _u(o){return o instanceof La}(p)){const b=p;b.resolving&&function Ye(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${o}${u}`)}(Ae(m[u]));const T=ea(b.canSeeViewProviders);b.resolving=!0;const I=b.injectImpl?zn(b.injectImpl):null;gu(o,h,Tt.Default);try{p=o[u]=b.factory(void 0,m,o,h),a.firstCreatePass&&u>=h.directiveStart&&function zy(o,a,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=a.type.prototype;if(h){const b=xa(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,b)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,p),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==I&&zn(I),ea(T),b.resolving=!1,mu()}}return p}function na(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function wc(o,a){return!(o&Tt.Self||o&Tt.Host&&a)}class ms{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return wu(this._tNode,this._lView,a,h,u)}}function vo(o){return hi(()=>{const a=o.prototype.constructor,u=a[re]||ja(a),h=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==h;){const m=p[re]||ja(p);if(m&&m!==u)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function ja(o){return Ke(o)?()=>{const a=ja(ae(o));return a&&a()}:Ri(o)}function Cl(o){return function bu(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const m=u[p];if(pt(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(m===a)return u[p+1];p+=2}}}return null}(Mn(),o)}const Tl="__parameters__";function Il(o,a,u){return hi(()=>{const h=function Nd(o){return function(...u){if(o){const h=o(...u);for(const p in h)this[p]=h[p]}}}(a);function p(...m){if(this instanceof p)return h.apply(this,m),this;const b=new p(...m);return T.annotation=b,T;function T(I,M,O){const B=I.hasOwnProperty(Tl)?I[Tl]:Object.defineProperty(I,Tl,{value:[]})[Tl];for(;B.length<=O;)B.push(null);return(B[O]=B[O]||[]).push(b),I}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class qn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=on({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Qg=new qn("AnalyzeForEntryComponents");function Zi(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(a===o&&(a=o.slice(0,u)),Zi(h,a)):a!==o&&a.push(h)}return a}function ur(o,a){o.forEach(u=>Array.isArray(u)?ur(u,a):a(u))}function Su(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function Ha(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Fs(o,a){const u=[];for(let h=0;h<o;h++)u.push(a);return u}function cr(o,a,u){let h=sa(o,a);return h>=0?o[1|h]=u:(h=~h,function za(o,a,u,h){let p=o.length;if(p==a)o.push(u,h);else if(1===p)o.push(h,o[0]),o[0]=u;else{for(p--,o.push(o[p-1],o[p]);p>a;)o[p]=o[p-2],p--;o[a]=u,o[a+1]=h}}(o,h,a,u)),h}function Eo(o,a){const u=sa(o,a);if(u>=0)return o[1|u]}function sa(o,a){return function dr(o,a,u){let h=0,p=o.length>>u;for(;p!==h;){const m=h+(p-h>>1),b=o[m<<u];if(a===b)return m<<u;b>a?p=m:h=m+1}return~(p<<u)}(o,a,1)}const $a={},Us="__NG_DI_FLAG__",Dl="ngTempTokenPath",x=/\n/gm,H="__source",ie=we({provide:String,useValue:we});let de;function Be(o){const a=de;return de=o,a}function st(o,a=Tt.Default){if(void 0===de)throw new Ve(203,"");return null===de?oo(o,void 0,a):de.get(o,a&Tt.Optional?null:void 0,a)}function ut(o,a=Tt.Default){return(function Ln(){return yr}()||st)(ae(o),a)}const tn=ut;function Ot(o){const a=[];for(let u=0;u<o.length;u++){const h=ae(o[u]);if(Array.isArray(h)){if(0===h.length)throw new Ve(900,"");let p,m=Tt.Default;for(let b=0;b<h.length;b++){const T=h[b],I=Ci(T);"number"==typeof I?-1===I?p=T.token:m|=I:p=T}a.push(ut(p,m))}else a.push(ut(h))}return a}function gi(o,a){return o[Us]=a,o.prototype[Us]=a,o}function Ci(o){return o[Us]}const _s=gi(Il("Inject",o=>({token:o})),-1),Tr=gi(Il("Optional"),8),Za=gi(Il("SkipSelf"),4);let gf,Ac;function Sc(o){var a;return(null===(a=function rm(){if(void 0===gf&&(gf=null,Wt.trustedTypes))try{gf=Wt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return gf}())||void 0===a?void 0:a.createHTML(o))||o}function Zy(o){var a;return(null===(a=function sm(){if(void 0===Ac&&(Ac=null,Wt.trustedTypes))try{Ac=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Ac}())||void 0===a?void 0:a.createHTML(o))||o}class ku{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qy extends ku{getTypeName(){return"HTML"}}class SE extends ku{getTypeName(){return"Style"}}class AE extends ku{getTypeName(){return"Script"}}class xE extends ku{getTypeName(){return"URL"}}class ME extends ku{getTypeName(){return"ResourceURL"}}function Co(o){return o instanceof ku?o.changingThisBreaksApplicationSecurity:o}function xc(o,a){const u=mf(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function mf(o){return o instanceof ku&&o.getTypeName()||null}function kE(o){return new Qy(o)}function Jy(o){return new SE(o)}function PE(o){return new AE(o)}function om(o){return new xE(o)}function RE(o){return new ME(o)}class Xy{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(Sc(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class OE{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Sc(a),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Sc(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const u=a.attributes;for(let p=u.length-1;0<p;p--){const b=u.item(p).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const ev=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jd(o){return(o=String(o)).match(ev)||o.match(Pu)?o:"unsafe:"+o}function Bs(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function Hd(...o){const a={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(a[h]=!0);return a}const _f=Bs("area,br,col,hr,img,wbr"),nv=Bs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iv=Bs("rp,rt"),zd=Hd(_f,Hd(nv,Bs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hd(iv,Bs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hd(iv,nv)),lm=Bs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),um=Bs("srcset"),sv=Hd(lm,um,Bs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ov=Bs("script,style,template");class cm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!zd.hasOwnProperty(u))return this.sanitizedSomething=!0,!ov.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=a.attributes;for(let p=0;p<h.length;p++){const m=h.item(p),b=m.name,T=b.toLowerCase();if(!sv.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let I=m.value;lm[T]&&(I=jd(I)),um[T]&&(o=I,I=(o=String(o)).split(",").map(a=>jd(a.trim())).join(", ")),this.buf.push(" ",b,'="',yf(I),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();zd.hasOwnProperty(u)&&!_f.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(yf(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const FE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,LE=/([^\#-~ |!])/g;function yf(o){return o.replace(/&/g,"&amp;").replace(FE,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(LE,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mc;function av(o,a){let u=null;try{Mc=Mc||function am(o){const a=new OE(o);return function NE(){try{return!!(new window.DOMParser).parseFromString(Sc(""),"text/html")}catch(o){return!1}}()?new Xy(a):a}(o);let h=a?String(a):"";u=Mc.getInertBodyElement(h);let p=5,m=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=m,m=u.innerHTML,u=Mc.getInertBodyElement(h)}while(h!==m);return Sc((new cm).sanitizeChildren(dm(u)||u))}finally{if(u){const h=dm(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function dm(o){return"content"in o&&function vf(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ai=(()=>((ai=ai||{})[ai.NONE=0]="NONE",ai[ai.HTML=1]="HTML",ai[ai.STYLE=2]="STYLE",ai[ai.SCRIPT=3]="SCRIPT",ai[ai.URL=4]="URL",ai[ai.RESOURCE_URL=5]="RESOURCE_URL",ai))();function lv(o){const a=Gd();return a?Zy(a.sanitize(ai.HTML,o)||""):xc(o,"HTML")?Zy(Co(o)):av(ds(),ye(o))}function bf(o){const a=Gd();return a?a.sanitize(ai.URL,o)||"":xc(o,"URL")?Co(o):jd(ye(o))}function Gd(){const o=Pe();return o&&o[12]}const Ef="__ngContext__";function Li(o,a){o[Ef]=a}function pm(o){const a=function kc(o){return o[Ef]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function la(o){return o.ngOriginalError}function If(o,...a){o.error(...a)}class Ya{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),h=function _m(o){return o&&o.ngErrorLogger||If}(a);h(this._console,"ERROR",a),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&la(a);for(;u&&la(u);)u=la(u);return u||null}}const wm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wt))();function pv(o){return o.ownerDocument}function v(o){return o instanceof Function?o():o}var F=(()=>((F=F||{})[F.Important=1]="Important",F[F.DashCase=2]="DashCase",F))();function ve(o,a){return undefined(o,a)}function bt(o){const a=o[3];return as(a)?a[3]:a}function Hr(o){return Em(o[13])}function Al(o){return Em(o[4])}function Em(o){for(;null!==o&&!as(o);)o=o[4];return o}function Ou(o,a,u,h,p){if(null!=h){let m,b=!1;as(h)?m=h:ar(h)&&(b=!0,h=h[0]);const T=cn(h);0===o&&null!==u?null==p?wx(a,u,T):Zd(a,u,T,p||null,!0):1===o&&null!==u?Zd(a,u,T,p||null,!0):2===o?function Tv(o,a,u){const h=Oc(o,a);h&&function Cx(o,a,u,h){_n(o)?o.removeChild(a,u,h):a.removeChild(u)}(o,h,a,u)}(a,T,b):3===o&&a.destroyNode(T),null!=m&&function Sm(o,a,u,h,p){const m=u[7];m!==cn(u)&&Ou(a,o,h,m,p);for(let T=10;T<u.length;T++){const I=u[T];Dm(I[1],I,o,a,h,m)}}(a,o,m,u,p)}}function Af(o,a,u){if(_n(o))return o.createElement(a,u);{const h=null!==u?function ac(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?o.createElement(a):o.createElementNS(h,a)}}function vv(o,a){const u=o[9],h=u.indexOf(a),p=a[3];1024&a[2]&&(a[2]&=-1025,Ra(p,-1)),u.splice(h,1)}function bv(o,a){if(o.length<=10)return;const u=10+a,h=o[u];if(h){const p=h[17];null!==p&&p!==o&&vv(p,h),a>0&&(o[u-1][4]=h[4]);const m=Ha(o,10+a);!function Cm(o,a){Dm(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const b=m[19];null!==b&&b.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function KE(o,a){if(!(256&a[2])){const u=a[11];_n(u)&&u.destroyNode&&Dm(o,a,u,3,null,null),function Tm(o){let a=o[13];if(!a)return Im(o[1],o);for(;a;){let u=null;if(ar(a))u=a[13];else{const h=a[10];h&&(u=h)}if(!u){for(;a&&!a[4]&&a!==o;)ar(a)&&Im(a[1],a),a=a[3];null===a&&(a=o),ar(a)&&Im(a[1],a),u=a&&a[4]}a=u}}(a)}}function Im(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function vx(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const p=a[u[h]];if(!(p instanceof La)){const m=u[h+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const T=p[m[b]],I=m[b+1];try{I.call(T)}finally{}}else try{m.call(p)}finally{}}}}(o,a),function Wd(o,a){const u=o.cleanup,h=a[7];let p=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const b=u[m+1],T="function"==typeof b?b(a):cn(a[b]),I=h[p=u[m+2]],M=u[m+3];"boolean"==typeof M?T.removeEventListener(u[m],I,M):M>=0?h[p=M]():h[p=-M].unsubscribe(),m+=2}else{const b=h[p=u[m+1]];u[m].call(b)}if(null!==h){for(let m=p+1;m<h.length;m++)h[m]();a[7]=null}}(o,a),1===a[1].type&&_n(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&as(a[3])){u!==a[3]&&vv(u,a);const h=a[19];null!==h&&h.detachView(o)}}}function bx(o,a,u){return function YE(o,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[0];if(2&h.flags){const p=o.data[h.directiveStart].encapsulation;if(p===Yt.None||p===Yt.Emulated)return null}return wi(h,u)}(o,a.parent,u)}function Zd(o,a,u,h,p){_n(o)?o.insertBefore(a,u,h,p):a.insertBefore(u,h,p)}function wx(o,a,u){_n(o)?o.appendChild(a,u):a.appendChild(u)}function Ex(o,a,u,h,p){null!==h?Zd(o,a,u,h,p):wx(o,a,u)}function Oc(o,a){return _n(o)?o.parentNode(a):a.parentNode}function Tx(o,a,u){return Ev(o,a,u)}let Ev=function wv(o,a,u){return 40&o.type?wi(o,u):null};function Cv(o,a,u,h){const p=bx(o,h,a),m=a[11],T=Tx(h.parent||a[6],h,a);if(null!=p)if(Array.isArray(u))for(let I=0;I<u.length;I++)Ex(m,p,u[I],T,!1);else Ex(m,p,u,T,!1)}function Mf(o,a){if(null!==a){const u=a.type;if(3&u)return wi(a,o);if(4&u)return ca(-1,o[a.index]);if(8&u){const h=a.child;if(null!==h)return Mf(o,h);{const p=o[a.index];return as(p)?ca(-1,p):cn(p)}}if(32&u)return ve(a,o)()||cn(o[a.index]);{const h=XE(o,a);return null!==h?Array.isArray(h)?h[0]:Mf(bt(o[16]),h):Mf(o,a.next)}}return null}function XE(o,a){return null!==a?o[16][6].projection[a.projection]:null}function ca(o,a){const u=10+o+1;if(u<a.length){const h=a[u],p=h[1].firstChild;if(null!==p)return Mf(h,p)}return a[7]}function Kd(o,a,u,h,p,m,b){for(;null!=u;){const T=h[u.index],I=u.type;if(b&&0===a&&(T&&Li(cn(T),h),u.flags|=4),64!=(64&u.flags))if(8&I)Kd(o,a,u.child,h,p,m,!1),Ou(a,o,p,T,m);else if(32&I){const M=ve(u,h);let O;for(;O=M();)Ou(a,o,p,O,m);Ou(a,o,p,T,m)}else 16&I?xl(o,a,h,u,p,m):Ou(a,o,p,T,m);u=b?u.projectionNext:u.next}}function Dm(o,a,u,h,p,m){Kd(u,h,o.firstChild,a,p,m,!1)}function xl(o,a,u,h,p,m){const b=u[16],I=b[6].projection[h.projection];if(Array.isArray(I))for(let M=0;M<I.length;M++)Ou(a,o,p,I[M],m);else Kd(o,a,I,b[3],p,m,!0)}function kf(o,a,u){_n(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function tC(o,a,u){_n(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function Ix(o,a,u){let h=o.length;for(;;){const p=o.indexOf(a,u);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const m=a.length;if(p+m===h||o.charCodeAt(p+m)<=32)return p}u=p+1}}const Dx="ng-template";function b2(o,a,u){let h=0;for(;h<o.length;){let p=o[h++];if(u&&"class"===p){if(p=o[h],-1!==Ix(p.toLowerCase(),a,0))return!0}else if(1===p){for(;h<o.length&&"string"==typeof(p=o[h++]);)if(p.toLowerCase()===a)return!0;return!1}}return!1}function Iv(o){return 4===o.type&&o.value!==Dx}function Pf(o,a,u){return a===(4!==o.type||u?o.value:Dx)}function nC(o,a,u){let h=4;const p=o.attrs||[],m=function Sx(o){for(let a=0;a<o.length;a++)if(pt(o[a]))return a;return o.length}(p);let b=!1;for(let T=0;T<a.length;T++){const I=a[T];if("number"!=typeof I){if(!b)if(4&h){if(h=2|1&h,""!==I&&!Pf(o,I,u)||""===I&&1===a.length){if(js(h))return!1;b=!0}}else{const M=8&h?I:a[++T];if(8&h&&null!==o.attrs){if(!b2(o.attrs,M,u)){if(js(h))return!1;b=!0}continue}const B=nn(8&h?"class":I,p,Iv(o),u);if(-1===B){if(js(h))return!1;b=!0;continue}if(""!==M){let G;G=B>m?"":p[B+1].toLowerCase();const ne=8&h?G:null;if(ne&&-1!==Ix(ne,M,0)||2&h&&M!==G){if(js(h))return!1;b=!0}}}}else{if(!b&&!js(h)&&!js(I))return!1;if(b&&js(I))continue;b=!1,h=I|1&h}}return js(h)||b}function js(o){return 0==(1&o)}function nn(o,a,u,h){if(null===a)return-1;let p=0;if(h||!u){let m=!1;for(;p<a.length;){const b=a[p];if(b===o)return p;if(3===b||6===b)m=!0;else{if(1===b||2===b){let T=a[++p];for(;"string"==typeof T;)T=a[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=m?1:2}return-1}return function Ax(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,o)}function Rf(o,a,u=!1){for(let h=0;h<a.length;h++)if(nC(o,a[h],u))return!0;return!1}function xx(o,a){e:for(let u=0;u<a.length;u++){const h=a[u];if(o.length===h.length){for(let p=0;p<o.length;p++)if(o[p]!==h[p])continue e;return!0}}return!1}function rC(o,a){return o?":not("+a.trim()+")":a}function Mx(o){let a=o[0],u=1,h=2,p="",m=!1;for(;u<o.length;){let b=o[u];if("string"==typeof b)if(2&h){const T=o[++u];p+="["+b+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!js(b)&&(a+=rC(m,p),p=""),h=b,m=m||!js(h);u++}return""!==p&&(a+=rC(m,p)),a}const Vt={};function sC(o){oC($t(),Pe(),fi()+o,!1)}function oC(o,a,u,h){if(!h)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Rs(a,m,u)}else{const m=o.preOrderHooks;null!==m&&Jo(a,m,0,u)}Qo(u)}function Am(o,a){return o<<17|a<<2}function da(o){return o>>17&32767}function Dv(o){return 2|o}function Ml(o){return(131068&o)>>2}function Sv(o,a){return-131069&o|a<<2}function Av(o){return 1|o}function Ff(o,a){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],m=u[h+1];if(-1!==m){const b=o.data[m];Dd(p),b.contentQueries(2,a[m],m)}}}function Nc(o,a,u,h,p,m,b,T,I,M){const O=a.blueprint.slice();return O[0]=p,O[2]=140|h,fs(O),O[3]=O[15]=o,O[8]=u,O[10]=b||o&&o[10],O[11]=T||o&&o[11],O[12]=I||o&&o[12]||null,O[9]=M||o&&o[9]||null,O[6]=m,O[16]=2==a.type?o[16]:O,O}function Io(o,a,u,h,p){let m=o.data[a];if(null===m)m=function Lf(o,a,u,h,p){const m=uu(),b=fc(),I=o.data[a]=function Kx(o,a,u,h,p,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,u,a,h,p);return null===o.firstChild&&(o.firstChild=I),null!==m&&(b?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(o,a,u,h,p),function mc(){return It.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=p;const b=function Ko(){const o=It.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return Er(m,!0),m}function Rl(o,a,u,h){if(0===u)return-1;const p=a.length;for(let m=0;m<u;m++)a.push(h),o.blueprint.push(h),o.data.push(null);return p}function Uf(o,a,u){Yo(a);try{const h=o.viewQuery;null!==h&&Qd(1,h,u);const p=o.template;null!==p&&Ol(o,a,p,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Ff(o,a),o.staticViewQueries&&Qd(2,o.viewQuery,u);const m=o.components;null!==m&&function pC(o,a){for(let u=0;u<a.length;u++)Hm(o,a[u])}(a,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,lr()}}function ha(o,a,u,h){const p=a[2];if(256!=(256&p)){Yo(a);try{fs(a),function cu(o){return It.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Ol(o,a,u,2,h);const b=3==(3&p);if(b){const M=o.preOrderCheckHooks;null!==M&&Rs(a,M,null)}else{const M=o.preOrderHooks;null!==M&&Jo(a,M,0,null),si(a,0)}if(function Fc(o){for(let a=Hr(o);null!==a;a=Al(a)){if(!a[2])continue;const u=a[9];for(let h=0;h<u.length;h++){const p=u[h],m=p[3];0==(1024&p[2])&&Ra(m,1),p[2]|=1024}}}(a),function s1(o){for(let a=Hr(o);null!==a;a=Al(a))for(let u=10;u<a.length;u++){const h=a[u],p=h[1];ks(h)&&ha(p,h,p.template,h[8])}}(a),null!==o.contentQueries&&Ff(o,a),b){const M=o.contentCheckHooks;null!==M&&Rs(a,M)}else{const M=o.contentHooks;null!==M&&Jo(a,M,1),si(a,1)}!function Om(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)Qo(~p);else{const m=p,b=u[++h],T=u[++h];hu(b,m),T(2,a[m])}}}finally{Qo(-1)}}(o,a);const T=o.components;null!==T&&function Nm(o,a){for(let u=0;u<a.length;u++)jv(o,a[u])}(a,T);const I=o.viewQuery;if(null!==I&&Qd(2,I,h),b){const M=o.viewCheckHooks;null!==M&&Rs(a,M)}else{const M=o.viewHooks;null!==M&&Jo(a,M,2),si(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-73,1024&a[2]&&(a[2]&=-1025,Ra(a[3],-1))}finally{lr()}}}function gC(o,a,u,h){const p=a[10],b=Wo(a);try{!b&&p.begin&&p.begin(),b&&Uf(o,a,h),ha(o,a,u,h)}finally{!b&&p.end&&p.end()}}function Ol(o,a,u,h,p){const m=fi(),b=2&h;try{Qo(-1),b&&a.length>20&&oC(o,a,20,!1),u(h,p)}finally{Qo(m)}}function Lv(o,a,u){if(iu(a)){const p=a.directiveEnd;for(let m=a.directiveStart;m<p;m++){const b=o.data[m];b.contentQueries&&b.contentQueries(1,u[m],m)}}}function Fm(o,a,u){!lu()||(function e1(o,a,u,h){const p=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||mo(u,a),Li(h,a);const b=u.initialInputs;for(let T=p;T<m;T++){const I=o.data[T],M=us(I);M&&CC(a,u,I);const O=Ba(a,o,T,u);Li(O,a),null!==b&&n1(0,T-p,O,I,0,b),M&&(Ei(u.index,a)[8]=O)}}(o,a,u,wi(u,a)),128==(128&u.flags)&&function t1(o,a,u){const h=u.directiveStart,p=u.directiveEnd,b=u.index,T=function _c(){return It.lFrame.currentDirectiveIndex}();try{Qo(b);for(let I=h;I<p;I++){const M=o.data[I],O=a[I];Na(I),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&vC(M,O)}}finally{Qo(-1),Na(T)}}(o,a,u))}function Do(o,a,u=wi){const h=a.localNames;if(null!==h){let p=a.index+1;for(let m=0;m<h.length;m+=2){const b=h[m+1],T=-1===b?u(a,o):o[b];o[p++]=T}}}function Fu(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Lu(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Lu(o,a,u,h,p,m,b,T,I,M){const O=20+h,B=O+p,G=function Wx(o,a){const u=[];for(let h=0;h<a;h++)u.push(h<o?null:Vt);return u}(O,B),ne="function"==typeof M?M():M;return G[1]={type:o,blueprint:G,template:u,queries:null,viewQuery:T,declTNode:a,data:G.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:I,consts:ne,incompleteFirstPass:!1}}function Bf(o,a,u,h){const p=SC(a);null===u?p.push(h):(p.push(u),o.firstCreatePass&&l1(o).push(h,p.length-1))}function Um(o,a,u){for(let h in o)if(o.hasOwnProperty(h)){const p=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(a,p):u[h]=[a,p]}return u}function Hs(o,a,u,h,p,m,b,T){const I=wi(a,u);let O,M=a.inputs;!T&&null!=M&&(O=M[h])?(AC(o,u,O,h,p),pd(a)&&function zs(o,a){const u=Ei(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(h=function Qx(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),p=null!=b?b(p,a.value||"",h):p,_n(m)?m.setProperty(I,h,p):Vn(h)||(I.setProperty?I.setProperty(h,p):I[h]=p))}function yC(o,a,u,h){let p=!1;if(lu()){const m=function Bm(o,a,u){const h=o.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const b=h[m];Rf(u,b.selectors,!1)&&(p||(p=[]),vu(mo(u,a),o,b.type),us(b)?(jf(o,u),p.unshift(b)):p.push(b))}return p}(o,a,u),b=null===h?null:{"":-1};if(null!==m){p=!0,EC(u,o.data.length,m.length);for(let O=0;O<m.length;O++){const B=m[O];B.providersResolver&&B.providersResolver(B)}let T=!1,I=!1,M=Rl(o,a,m.length,null);for(let O=0;O<m.length;O++){const B=m[O];u.mergedAttrs=Bn(u.mergedAttrs,B.hostAttrs),jm(o,u,a,M,B),wC(M,B,b),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const G=B.type.prototype;!T&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),T=!0),!I&&(G.ngOnChanges||G.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),M++}!function Yx(o,a){const h=a.directiveEnd,p=o.data,m=a.attrs,b=[];let T=null,I=null;for(let M=a.directiveStart;M<h;M++){const O=p[M],B=O.inputs,G=null===m||Iv(a)?null:r1(B,m);b.push(G),T=Um(B,M,T),I=Um(O.outputs,M,I)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=16),T.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=T,a.outputs=I}(o,u)}b&&function bC(o,a,u){if(a){const h=o.localNames=[];for(let p=0;p<a.length;p+=2){const m=u[a[p+1]];if(null==m)throw new Ve(-301,!1);h.push(a[p],m)}}}(u,h,b)}return u.mergedAttrs=Bn(u.mergedAttrs,u.attrs),p}function Xx(o,a,u,h,p,m){const b=m.hostBindings;if(b){let T=o.hostBindingOpCodes;null===T&&(T=o.hostBindingOpCodes=[]);const I=~a.index;(function Vm(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(T)!=I&&T.push(I),T.push(h,p,b)}}function vC(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function jf(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function wC(o,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=o;us(a)&&(u[""]=o)}}function EC(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function jm(o,a,u,h,p){o.data[h]=p;const m=p.factory||(p.factory=Ri(p.type)),b=new La(m,us(p),null);o.blueprint[h]=b,u[h]=b,Xx(o,a,0,h,Rl(o,u,p.hostVars,Vt),p)}function CC(o,a,u){const h=wi(a,o),p=Fu(u),m=o[10],b=zm(o,Nc(o,p,null,u.onPush?64:16,h,a,m,m.createRenderer(h,u),null,null));o[a.index]=b}function Qa(o,a,u,h,p,m){const b=wi(o,a);!function Bv(o,a,u,h,p,m,b){if(null==m)_n(o)?o.removeAttribute(a,p,u):a.removeAttribute(p);else{const T=null==b?ye(m):b(m,h||"",p);_n(o)?o.setAttribute(a,p,T,u):u?a.setAttributeNS(u,p,T):a.setAttribute(p,T)}}(a[11],b,m,o.value,u,h,p)}function n1(o,a,u,h,p,m){const b=m[a];if(null!==b){const T=h.setInput;for(let I=0;I<b.length;){const M=b[I++],O=b[I++],B=b[I++];null!==T?h.setInput(u,B,M,O):u[O]=B}}}function r1(o,a){let u=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;o.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,o[p],a[h+1])),h+=2}else h+=2;else h+=4}return u}function Hf(o,a,u,h){return new Array(o,!0,!1,a,null,0,h,u,null,null)}function jv(o,a){const u=Ei(a,o);if(ks(u)){const h=u[1];80&u[2]?ha(h,u,h.template,u[8]):u[5]>0&&zf(u)}}function zf(o){for(let h=Hr(o);null!==h;h=Al(h))for(let p=10;p<h.length;p++){const m=h[p];if(1024&m[2]){const b=m[1];ha(b,m,b.template,m[8])}else m[5]>0&&zf(m)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=Ei(u[h],o);ks(p)&&p[5]>0&&zf(p)}}function Hm(o,a){const u=Ei(a,o),h=u[1];(function o1(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(h,u),Uf(h,u,u[8])}function zm(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Hv(o){for(;o;){o[2]|=64;const a=bt(o);if(ru(o)&&!a)return o;o=a}return null}function TC(o){!function zv(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],h=pm(u),p=h[1];gC(p,h,p.template,u)}}(o[8])}function Qd(o,a,u){Dd(0),a(o,u)}const DC=(()=>Promise.resolve(null))();function SC(o){return o[7]||(o[7]=[])}function l1(o){return o.cleanup||(o.cleanup=[])}function u1(o,a){const u=o[9],h=u?u.get(Ya,null):null;h&&h.handleError(a)}function AC(o,a,u,h,p){for(let m=0;m<u.length;){const b=u[m++],T=u[m++],I=a[b],M=o.data[b];null!==M.setInput?M.setInput(I,p,h,T):I[T]=p}}function Nl(o,a,u){const h=fo(a,o);!function Sf(o,a,u){_n(o)?o.setValue(a,u):a.textContent=u}(o[11],h,u)}function $m(o,a,u){let h=u?o.styles:null,p=u?o.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const T=a[b];"number"==typeof T?m=T:1==m?p=me(p,T):2==m&&(h=me(h,T+": "+a[++b]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=p:o.classesWithoutHost=p}const qv=new qn("INJECTOR",-1);class MC{get(a,u=$a){if(u===$a){const h=new Error(`NullInjectorError: No provider for ${he(a)}!`);throw h.name="NullInjectorError",h}return u}}const Wv=new qn("Set Injector scope."),$f={},d1={};let qm;function kC(){return void 0===qm&&(qm=new MC),qm}function PC(o,a=null,u=null,h){const p=Zv(o,a,u,h);return p._resolveInjectorDefTypes(),p}function Zv(o,a=null,u=null,h){return new h1(o,u,a||kC(),h)}class h1{constructor(a,u,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&ur(u,T=>this.processProvider(T,a,u)),ur([a],T=>this.processInjectorType(T,[],m)),this.records.set(qv,Jd(void 0,this));const b=this.records.get(Wv);this.scope=null!=b?b.value:null,this.source=p||("object"==typeof a?null:he(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=$a,h=Tt.Default){this.assertNotDestroyed();const p=Be(this),m=zn(void 0);try{if(!(h&Tt.SkipSelf)){let T=this.records.get(a);if(void 0===T){const I=function _1(o){return"function"==typeof o||"object"==typeof o&&o instanceof qn}(a)&&Gt(a);T=I&&this.injectableDefInScope(I)?Jd(qf(a),$f):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(h&Tt.Self?kC():this.parent).get(a,u=h&Tt.Optional&&u===$a?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[Dl]=b[Dl]||[]).unshift(he(a)),p)throw b;return function qa(o,a,u,h){const p=o[Dl];throw a[H]&&p.unshift(a[H]),o.message=function Wa(o,a,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let p=he(a);if(Array.isArray(a))p=a.map(he).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let T=a[b];m.push(b+":"+("string"==typeof T?JSON.stringify(T):he(T)))}p=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${o.replace(x,"\n  ")}`}("\n"+o.message,p,u,h),o.ngTokenPath=p,o[Dl]=null,o}(b,a,"R3InjectorError",this.source)}throw b}finally{zn(m),Be(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,p)=>a.push(he(p))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processInjectorType(a,u,h){if(!(a=ae(a)))return!1;let p=Gi(a);const m=null==p&&a.ngModule||void 0,b=void 0===m?a:m,T=-1!==h.indexOf(b);if(void 0!==m&&(p=Gi(m)),null==p)return!1;if(null!=p.imports&&!T){let O;h.push(b);try{ur(p.imports,B=>{this.processInjectorType(B,u,h)&&(void 0===O&&(O=[]),O.push(B))})}finally{}if(void 0!==O)for(let B=0;B<O.length;B++){const{ngModule:G,providers:ne}=O[B];ur(ne,Ce=>this.processProvider(Ce,G,ne||z))}}this.injectorDefTypes.add(b);const I=Ri(b)||(()=>new b);this.records.set(b,Jd(I,$f));const M=p.providers;if(null!=M&&!T){const O=a;ur(M,B=>this.processProvider(B,O,M))}return void 0!==m&&void 0!==a.providers}processProvider(a,u,h){let p=Uu(a=ae(a))?a:ae(a&&a.provide);const m=function p1(o,a,u){return Kv(o)?Jd(void 0,o.useValue):Jd(RC(o),$f)}(a);if(Uu(a)||!0!==a.multi)this.records.get(p);else{let b=this.records.get(p);b||(b=Jd(void 0,$f,!0),b.factory=()=>Ot(b.multi),this.records.set(p,b)),p=a,b.multi.push(a)}this.records.set(p,m)}hydrate(a,u){return u.value===$f&&(u.value=d1,u.value=u.factory()),"object"==typeof u.value&&u.value&&function m1(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ae(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function qf(o){const a=Gt(o),u=null!==a?a.factory:Ri(o);if(null!==u)return u;if(o instanceof qn)throw new Ve(204,!1);if(o instanceof Function)return function f1(o){const a=o.length;if(a>0)throw Fs(a,"?"),new Ve(204,!1);const u=function _r(o){const a=o&&(o[is]||o[nr]);if(a){const u=function Ai(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Ve(204,!1)}function RC(o,a,u){let h;if(Uu(o)){const p=ae(o);return Ri(p)||qf(p)}if(Kv(o))h=()=>ae(o.useValue);else if(function So(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Ot(o.deps||[]));else if(function g1(o){return!(!o||!o.useExisting)}(o))h=()=>ut(ae(o.useExisting));else{const p=ae(o&&(o.useClass||o.provide));if(!function Yv(o){return!!o.deps}(o))return Ri(p)||qf(p);h=()=>new p(...Ot(o.deps))}return h}function Jd(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function Kv(o){return null!==o&&"object"==typeof o&&ie in o}function Uu(o){return"function"==typeof o}let Ao=(()=>{class o{static create(u,h){var p;if(Array.isArray(u))return PC({name:""},h,u,"");{const m=null!==(p=u.name)&&void 0!==p?p:"";return PC({name:m},u.parent,u.providers,m)}}}return o.THROW_IF_NOT_FOUND=$a,o.NULL=new MC,o.\u0275prov=on({token:o,providedIn:"any",factory:()=>ut(qv)}),o.__NG_ELEMENT_ID__=-1,o})();function v1(o,a){bl(pm(o)[1],Mn())}function a0(o){let a=function jC(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;a;){let p;if(us(o))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ve(903,"");p=a.\u0275dir}if(p){if(u){h.push(p);const b=o;b.inputs=l0(o.inputs),b.declaredInputs=l0(o.declaredInputs),b.outputs=l0(o.outputs);const T=p.hostBindings;T&&Yf(o,T);const I=p.viewQuery,M=p.contentQueries;if(I&&E1(o,I),M&&C1(o,M),le(o.inputs,p.inputs),le(o.declaredInputs,p.declaredInputs),le(o.outputs,p.outputs),us(p)&&p.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let b=0;b<m.length;b++){const T=m[b];T&&T.ngInherit&&T(o),T===a0&&(u=!1)}}a=Object.getPrototypeOf(a)}!function w1(o){let a=0,u=null;for(let h=o.length-1;h>=0;h--){const p=o[h];p.hostVars=a+=p.hostVars,p.hostAttrs=Bn(p.hostAttrs,u=Bn(u,p.hostAttrs))}}(h)}function l0(o){return o===ki?{}:o===z?[]:o}function E1(o,a){const u=o.viewQuery;o.viewQuery=u?(h,p)=>{a(h,p),u(h,p)}:a}function C1(o,a){const u=o.contentQueries;o.contentQueries=u?(h,p,m)=>{a(h,p,m),u(h,p,m)}:a}function Yf(o,a){const u=o.hostBindings;o.hostBindings=u?(h,p)=>{a(h,p),u(h,p)}:a}let Wm=null;function Qf(){if(!Wm){const o=Wt.Symbol;if(o&&o.iterator)Wm=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Wm=h)}}}return Wm}function Zm(o){return!!GC(o)&&(Array.isArray(o)||!(o instanceof Map)&&Qf()in o)}function GC(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function pa(o,a,u){return o[a]=u}function zr(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Lc(o,a,u,h){const p=zr(o,a,u);return zr(o,a+1,h)||p}function $C(o,a,u,h){const p=Pe();return zr(p,go(),a)&&($t(),Qa(Jn(),p,o,a,u,h)),$C}function Uc(o,a,u,h,p,m){const T=Lc(o,function Cr(){return It.lFrame.bindingIndex}(),u,p);return Vr(2),T?a+ye(u)+h+ye(p)+m:Vt}function R1(o,a,u,h,p,m,b,T){const I=Pe(),M=$t(),O=o+20,B=M.firstCreatePass?function L2(o,a,u,h,p,m,b,T,I){const M=a.consts,O=Io(a,o,4,b||null,Ur(M,T));yC(a,u,O,Ur(M,I)),bl(a,O);const B=O.tViews=Lu(2,O,h,p,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M);return null!==a.queries&&(a.queries.template(a,O),B.queries=a.queries.embeddedTView(O)),O}(O,M,I,a,u,h,p,m,b):M.data[O];Er(B,!1);const G=I[11].createComment("");Cv(M,I,G,B),Li(G,I),zm(I,I[O]=Hf(G,I,G,B)),ls(B)&&Fm(M,I,B),null!=b&&Do(I,B,T)}function O1(o){return hs(function Id(){return It.lFrame.contextLView}(),20+o)}function sp(o,a=Tt.Default){const u=Pe();return null===u?ut(o,a):wu(Mn(),u,ae(o),a)}function QC(){throw new Error("invalid")}function g0(o,a,u){const h=Pe();return zr(h,go(),a)&&Hs($t(),Jn(),h,o,a,h[11],u,!1),g0}function m0(o,a,u,h,p){const b=p?"class":"style";AC(o,u,a.inputs[b],b,h)}function Jm(o,a,u,h){const p=Pe(),m=$t(),b=20+o,T=p[11],I=p[b]=Af(T,a,function qg(){return It.lFrame.currentNamespace}()),M=m.firstCreatePass?function Z1(o,a,u,h,p,m,b){const T=a.consts,M=Io(a,o,2,p,Ur(T,m));return yC(a,u,M,Ur(T,b)),null!==M.attrs&&$m(M,M.attrs,!1),null!==M.mergedAttrs&&$m(M,M.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,M),M}(b,m,p,0,a,u,h):m.data[b];Er(M,!0);const O=M.mergedAttrs;null!==O&&Qt(T,I,O);const B=M.classes;null!==B&&tC(T,I,B);const G=M.styles;return null!==G&&kf(T,I,G),64!=(64&M.flags)&&Cv(m,p,I,M),0===function vl(){return It.lFrame.elementDepthCount}()&&Li(I,p),function dc(){It.lFrame.elementDepthCount++}(),ls(M)&&(Fm(m,p,M),Lv(m,M,p)),null!==h&&Do(p,M),Jm}function Xm(){let o=Mn();fc()?pc():(o=o.parent,Er(o,!1));const a=o;!function au(){It.lFrame.elementDepthCount--}();const u=$t();return u.firstCreatePass&&(bl(u,o),iu(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Zg(o){return 0!=(16&o.flags)}(a)&&m0(u,a,Pe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Kg(o){return 0!=(32&o.flags)}(a)&&m0(u,a,Pe(),a.stylesWithoutHost,!1),Xm}function _0(o,a,u,h){return Jm(o,a,u,h),Xm(),_0}function e_(o,a,u){const h=Pe(),p=$t(),m=o+20,b=p.firstCreatePass?function K1(o,a,u,h,p){const m=a.consts,b=Ur(m,h),T=Io(a,o,8,"ng-container",b);return null!==b&&$m(T,b,!0),yC(a,u,T,Ur(m,p)),null!==a.queries&&a.queries.elementStart(a,T),T}(m,p,h,a,u):p.data[m];Er(b,!0);const T=h[m]=h[11].createComment("");return Cv(p,h,T,b),Li(T,h),ls(b)&&(Fm(p,h,b),Lv(p,b,h)),null!=u&&Do(h,b),e_}function t_(){let o=Mn();const a=$t();return fc()?pc():(o=o.parent,Er(o,!1)),a.firstCreatePass&&(bl(a,o),iu(o)&&a.queries.elementEnd(o)),t_}function XC(){return Pe()}function y0(o){return!!o&&"function"==typeof o.then}function eT(o){return!!o&&"function"==typeof o.subscribe}const tT=eT;function v0(o,a,u,h){const p=Pe(),m=$t(),b=Mn();return function iT(o,a,u,h,p,m,b,T){const I=ls(h),O=o.firstCreatePass&&l1(o),B=a[8],G=SC(a);let ne=!0;if(3&h.type||T){const Ze=wi(h,a),ot=T?T(Ze):Ze,Re=G.length,wt=T?Pt=>T(cn(Pt[h.index])):h.index;if(_n(u)){let Pt=null;if(!T&&I&&(Pt=function Y1(o,a,u,h){const p=o.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const b=p[m];if(b===u&&p[m+1]===h){const T=a[7],I=p[m+2];return T.length>I?T[I]:null}"string"==typeof b&&(m+=2)}return null}(o,a,p,h.index)),null!==Pt)(Pt.__ngLastListenerFn__||Pt).__ngNextListenerFn__=m,Pt.__ngLastListenerFn__=m,ne=!1;else{m=n_(h,a,B,m,!1);const un=u.listen(ot,p,m);G.push(m,un),O&&O.push(p,wt,Re,Re+1)}}else m=n_(h,a,B,m,!0),ot.addEventListener(p,m,b),G.push(m),O&&O.push(p,wt,Re,b)}else m=n_(h,a,B,m,!1);const Ce=h.outputs;let He;if(ne&&null!==Ce&&(He=Ce[p])){const Ze=He.length;if(Ze)for(let ot=0;ot<Ze;ot+=2){const Nn=a[He[ot]][He[ot+1]].subscribe(m),ed=G.length;G.push(m,Nn),O&&O.push(p,h.index,ed,-(ed+1))}}}(m,p,p[11],b,o,a,!!u,h),v0}function rT(o,a,u,h){try{return!1!==u(h)}catch(p){return u1(o,p),!1}}function n_(o,a,u,h,p){return function m(b){if(b===Function)return h;const T=2&o.flags?Ei(o.index,a):a;0==(32&a[2])&&Hv(T);let I=rT(a,0,h,b),M=m.__ngNextListenerFn__;for(;M;)I=rT(a,0,M,b)&&I,M=M.__ngNextListenerFn__;return p&&!1===I&&(b.preventDefault(),b.returnValue=!1),I}}function sT(o=1){return function rf(o){return(It.lFrame.contextLView=function yc(o,a){for(;o>0;)a=a[15],o--;return a}(o,It.lFrame.contextLView))[8]}(o)}function Q1(o,a){let u=null;const h=function iC(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let p=0;p<a.length;p++){const m=a[p];if("*"!==m){if(null===h?Rf(o,m,!0):xx(h,m))return p}else u=p}return u}function oT(o){const a=Pe()[16][6];if(!a.projection){const h=a.projection=Fs(o?o.length:1,null),p=h.slice();let m=a.child;for(;null!==m;){const b=o?Q1(m,o):0;null!==b&&(p[b]?p[b].projectionNext=m:h[b]=m,p[b]=m),m=m.next}}}function b0(o,a=0,u){const h=Pe(),p=$t(),m=Io(p,20+o,16,null,u||null);null===m.projection&&(m.projection=a),pc(),64!=(64&m.flags)&&function eC(o,a,u){xl(a[11],0,a,u,bx(o,u,a),Tx(u.parent||a[6],u,a))}(p,h,m)}function i_(o,a,u,h,p){const m=o[u+1],b=null===a;let T=h?da(m):Ml(m),I=!1;for(;0!==T&&(!1===I||b);){const O=o[T+1];fT(o[T],a)&&(I=!0,o[T+1]=h?Av(O):Dv(O)),T=h?da(O):Ml(O)}I&&(o[u+1]=h?Dv(m):Av(m))}function fT(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&sa(o,a)>=0}const Ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Vi(o){return o.substring(Ui.key,Ui.keyEnd)}function T0(o){return o.substring(Ui.value,Ui.valueEnd)}function pT(o,a){const u=Ui.textEnd;return u===a?-1:(a=Ui.keyEnd=function J1(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,Ui.key=a,u),Hc(o,a,u))}function Ja(o,a){const u=Ui.textEnd;let h=Ui.key=Hc(o,a,u);return u===h?-1:(h=Ui.keyEnd=function gT(o,a,u){let h;for(;a<u&&(45===(h=o.charCodeAt(a))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)a++;return a}(o,h,u),h=mT(o,h,u),h=Ui.value=Hc(o,h,u),h=Ui.valueEnd=function zc(o,a,u){let h=-1,p=-1,m=-1,b=a,T=b;for(;b<u;){const I=o.charCodeAt(b++);if(59===I)return T;34===I||39===I?T=b=hr(o,I,b,u):a===b-4&&85===m&&82===p&&76===h&&40===I?T=b=hr(o,41,b,u):I>32&&(T=b),m=p,p=h,h=-33&I}return T}(o,h,u),mT(o,h,u))}function s_(o){Ui.key=0,Ui.keyEnd=0,Ui.value=0,Ui.valueEnd=0,Ui.textEnd=o.length}function Hc(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function mT(o,a,u,h){return(a=Hc(o,a,u))<u&&a++,a}function hr(o,a,u,h){let p=-1,m=u;for(;m<h;){const b=o.charCodeAt(m++);if(b==a&&92!==p)return m;p=92==b&&92===p?0:b}throw new Error}function ga(o,a,u){return ma(o,a,u,!1),ga}function lp(o,a){return ma(o,a,null,!0),lp}function _T(o,a){for(let u=function jc(o){return s_(o),Ja(o,Hc(o,0,Ui.textEnd))}(a);u>=0;u=Ja(a,u))Zt(o,Vi(a),T0(a))}function yT(o){_a(cr,Xa,o,!0)}function Xa(o,a){for(let u=function r_(o){return s_(o),pT(o,Hc(o,0,Ui.textEnd))}(a);u>=0;u=pT(a,u))cr(o,Vi(a),!0)}function ma(o,a,u,h){const p=Pe(),m=$t(),b=Vr(2);m.firstUpdatePass&&bT(m,o,b,h),a!==Vt&&zr(p,b,a)&&Gc(m,m.data[fi()],p,p[11],o,p[b+1]=function iM(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=he(Co(o)))),o}(a,u),h,b)}function _a(o,a,u,h){const p=$t(),m=Vr(2);p.firstUpdatePass&&bT(p,null,m,h);const b=Pe();if(u!==Vt&&zr(b,m,u)){const T=p.data[fi()];if(TT(T,h)&&!vT(p,m)){let I=h?T.classesWithoutHost:T.stylesWithoutHost;null!==I&&(u=me(I,u||"")),m0(p,T,b,u,h)}else!function nM(o,a,u,h,p,m,b,T){p===Vt&&(p=z);let I=0,M=0,O=0<p.length?p[0]:null,B=0<m.length?m[0]:null;for(;null!==O||null!==B;){const G=I<p.length?p[I+1]:void 0,ne=M<m.length?m[M+1]:void 0;let He,Ce=null;O===B?(I+=2,M+=2,G!==ne&&(Ce=B,He=ne)):null===B||null!==O&&O<B?(I+=2,Ce=O):(M+=2,Ce=B,He=ne),null!==Ce&&Gc(o,a,u,h,Ce,He,b,T),O=I<p.length?p[I]:null,B=M<m.length?m[M]:null}}(p,T,b,b[11],b[m+1],b[m+1]=function CT(o,a,u){if(null==u||""===u)return z;const h=[],p=Co(u);if(Array.isArray(p))for(let m=0;m<p.length;m++)o(h,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&o(h,m,p[m]);else"string"==typeof p&&a(h,p);return h}(o,a,u),h,m)}}function vT(o,a){return a>=o.expandoStartIndex}function bT(o,a,u,h){const p=o.data;if(null===p[u+1]){const m=p[fi()],b=vT(o,u);TT(m,h)&&null===a&&!b&&(a=!1),a=function wT(o,a,u,h){const p=fu(o);let m=h?a.residualClasses:a.residualStyles;if(null===p)0===(h?a.classBindings:a.styleBindings)&&(u=up(u=I0(null,o,a,u,h),a.attrs,h),m=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==p)if(u=I0(p,o,a,u,h),null===m){let I=function ET(o,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==Ml(h))return o[da(h)]}(o,a,h);void 0!==I&&Array.isArray(I)&&(I=I0(null,o,a,I[1],h),I=up(I,a.attrs,h),function eM(o,a,u,h){o[da(u?a.classBindings:a.styleBindings)]=h}(o,a,h,I))}else m=function tM(o,a,u){let h;const p=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<p;m++)h=up(h,o[m].hostAttrs,u);return up(h,a.attrs,u)}(o,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),u}(p,m,a,h),function hT(o,a,u,h,p,m){let b=m?a.classBindings:a.styleBindings,T=da(b),I=Ml(b);o[h]=u;let O,M=!1;if(Array.isArray(u)){const B=u;O=B[1],(null===O||sa(B,O)>0)&&(M=!0)}else O=u;if(p)if(0!==I){const G=da(o[T+1]);o[h+1]=Am(G,T),0!==G&&(o[G+1]=Sv(o[G+1],h)),o[T+1]=function Ox(o,a){return 131071&o|a<<17}(o[T+1],h)}else o[h+1]=Am(T,0),0!==T&&(o[T+1]=Sv(o[T+1],h)),T=h;else o[h+1]=Am(I,0),0===T?T=h:o[I+1]=Sv(o[I+1],h),I=h;M&&(o[h+1]=Dv(o[h+1])),i_(o,O,h,!0),i_(o,O,h,!1),function Bc(o,a,u,h,p){const m=p?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&sa(m,a)>=0&&(u[h+1]=Av(u[h+1]))}(a,O,o,h,m),b=Am(T,I),m?a.classBindings=b:a.styleBindings=b}(p,m,a,u,b,h)}}function I0(o,a,u,h,p){let m=null;const b=u.directiveEnd;let T=u.directiveStylingLast;for(-1===T?T=u.directiveStart:T++;T<b&&(m=a[T],h=up(h,m.hostAttrs,p),m!==o);)T++;return null!==o&&(u.directiveStylingLast=T),h}function up(o,a,u){const h=u?1:2;let p=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?p=b:p===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),cr(o,b,!!u||a[++m]))}return void 0===o?null:o}function Zt(o,a,u){cr(o,a,Co(u))}function Gc(o,a,u,h,p,m,b,T){if(!(3&a.type))return;const I=o.data,M=I[T+1];rh(function lC(o){return 1==(1&o)}(M)?D0(I,a,u,p,Ml(M),b):void 0)||(rh(m)||function aC(o){return 2==(2&o)}(M)&&(m=D0(I,null,u,p,T,b)),function v2(o,a,u,h,p){const m=_n(o);if(a)p?m?o.addClass(u,h):u.classList.add(h):m?o.removeClass(u,h):u.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:F.DashCase;if(null==p)m?o.removeStyle(u,h,b):u.style.removeProperty(h);else{const T="string"==typeof p&&p.endsWith("!important");T&&(p=p.slice(0,-10),b|=F.Important),m?o.setStyle(u,h,p,b):u.style.setProperty(h,p,T?"important":"")}}}(h,b,fo(fi(),u),p,m))}function D0(o,a,u,h,p,m){const b=null===a;let T;for(;p>0;){const I=o[p],M=Array.isArray(I),O=M?I[1]:I,B=null===O;let G=u[p+1];G===Vt&&(G=B?z:void 0);let ne=B?Eo(G,h):O===h?G:void 0;if(M&&!rh(ne)&&(ne=Eo(I,h)),rh(ne)&&(T=ne,b))return T;const Ce=o[p+1];p=b?da(Ce):Ml(Ce)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(T=Eo(I,h))}return T}function rh(o){return void 0!==o}function TT(o,a){return 0!=(o.flags&(a?16:32))}function IT(o,a=""){const u=Pe(),h=$t(),p=o+20,m=h.firstCreatePass?Io(h,p,1,a,null):h.data[p],b=u[p]=function Df(o,a){return _n(o)?o.createText(a):o.createTextNode(a)}(u[11],a);Cv(h,u,b,m),Er(m,!1)}function Mo(o){return cp("",o,""),Mo}function cp(o,a,u){const h=Pe(),p=function Xf(o,a,u,h){return zr(o,go(),u)?a+ye(u)+h:Vt}(h,o,a,u);return p!==Vt&&Nl(h,fi(),p),cp}function PT(o,a,u,h,p){!function ys(o){_a(Zt,_T,o,!1)}(Uc(Pe(),o,a,u,h,p))}function R0(o,a,u){const h=Pe();return zr(h,go(),a)&&Hs($t(),Jn(),h,o,a,h[11],u,!0),R0}function sh(o,a,u){const h=Pe();if(zr(h,go(),a)){const m=$t(),b=Jn();Hs(m,b,h,o,a,function Gm(o,a,u){return(null===o||us(o))&&(u=function _l(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[a.index])),u[11]}(fu(m.data),b,h),u,!0)}return sh}const Wc=void 0;var cM=["en",[["a","p"],["AM","PM"],Wc],[["AM","PM"],Wc,Wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wc,"{1} 'at' {0}",Wc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uM(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let oh={};function u_(o){const a=function VT(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=el(a);if(u)return u;const h=a.split("-")[0];if(u=el(h),u)return u;if("en"===h)return cM;throw new Error(`Missing locale data for the locale "${o}".`)}function c_(o){return u_(o)[Dt.PluralCase]}function el(o){return o in oh||(oh[o]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[o]),oh[o]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const mp="en-US";let d_=mp;function z0(o,a,u,h,p){if(o=ae(o),Array.isArray(o))for(let m=0;m<o.length;m++)z0(o[m],a,u,h,p);else{const m=$t(),b=Pe();let T=Uu(o)?o:ae(o.provide),I=RC(o);const M=Mn(),O=1048575&M.providerIndexes,B=M.directiveStart,G=M.providerIndexes>>20;if(Uu(o)||!o.multi){const ne=new La(I,p,sp),Ce=$0(T,a,p?O:O+G,B);-1===Ce?(vu(mo(M,b),m,T),G0(m,o,a.length),a.push(T),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),u.push(ne),b.push(ne)):(u[Ce]=ne,b[Ce]=ne)}else{const ne=$0(T,a,O+G,B),Ce=$0(T,a,O,O+G),He=ne>=0&&u[ne],Ze=Ce>=0&&u[Ce];if(p&&!Ze||!p&&!He){vu(mo(M,b),m,T);const ot=function NM(o,a,u,h,p){const m=new La(o,u,sp);return m.multi=[],m.index=a,m.componentProviders=0,uI(m,p,h&&!u),m}(p?cI:OM,u.length,p,h,I);!p&&Ze&&(u[Ce].providerFactory=ot),G0(m,o,a.length,0),a.push(T),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),u.push(ot),b.push(ot)}else G0(m,o,ne>-1?ne:Ce,uI(u[p?Ce:ne],I,!p&&h));!p&&h&&Ze&&u[Ce].componentProviders++}}}function G0(o,a,u,h){const p=Uu(a),m=function Wf(o){return!!o.useClass}(a);if(p||m){const I=(m?ae(a.useClass):a).prototype.ngOnDestroy;if(I){const M=o.destroyHooks||(o.destroyHooks=[]);if(!p&&a.multi){const O=M.indexOf(u);-1===O?M.push(u,[h,I]):M[O+1].push(h,I)}else M.push(u,I)}}}function uI(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function $0(o,a,u,h){for(let p=u;p<h;p++)if(a[p]===o)return p;return-1}function OM(o,a,u,h){return q0(this.multi,[])}function cI(o,a,u,h){const p=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,T=Ba(u,u[1],this.providerFactory.index,h);m=T.slice(0,b),q0(p,m);for(let I=b;I<T.length;I++)m.push(T[I])}else m=[],q0(p,m);return m}function q0(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function dI(o,a=[]){return u=>{u.providersResolver=(h,p)=>function RM(o,a,u){const h=$t();if(h.firstCreatePass){const p=us(o);z0(u,h.data,h.blueprint,p,!0),z0(a,h.data,h.blueprint,p,!1)}}(h,p?p(o):o,a)}}class hI{}class pI{resolveComponentFactory(a){throw function fI(o){const a=Error(`No component factory found for ${he(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Ip=(()=>{class o{}return o.NULL=new pI,o})();function gI(){return fh(Mn(),Pe())}function fh(o,a){return new Dp(wi(o,a))}let Dp=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=gI,o})();function VM(o){return o instanceof Dp?o.nativeElement:o}class W0{}let BM=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function jM(){const o=Pe(),u=Ei(Mn().index,o);return function Z0(o){return o[11]}(ar(u)?u:o)}(),o})(),HM=(()=>{class o{}return o.\u0275prov=on({token:o,providedIn:"root",factory:()=>null}),o})();class mI{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const b_=new mI("13.3.9"),w_={};function E_(o,a,u,h,p=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&h.push(cn(m)),as(m))for(let T=10;T<m.length;T++){const I=m[T],M=I[1].firstChild;null!==M&&E_(I[1],I,M,h)}const b=u.type;if(8&b)E_(o,a,u.child,h);else if(32&b){const T=ve(u,a);let I;for(;I=T();)h.push(I)}else if(16&b){const T=XE(a,u);if(Array.isArray(T))h.push(...T);else{const I=bt(a[16]);E_(I[1],I,T,h,!0)}}u=p?u.projectionNext:u.next}return h}class Sp{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return E_(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(as(a)){const u=a[8],h=u?u.indexOf(this):-1;h>-1&&(bv(a,h),Ha(u,h))}this._attachedToViewContainer=!1}KE(this._lView[1],this._lView)}onDestroy(a){Bf(this._lView[1],this._lView,null,a)}markForCheck(){Hv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Gf(o,a,u){const h=a[10];h.begin&&h.begin();try{ha(o,a,o.template,u)}catch(p){throw u1(a,p),p}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qE(o,a){Dm(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ve(902,"");this._appRef=a}}class zM extends Sp{constructor(a){super(a),this._view=a}detectChanges(){TC(this._view)}checkNoChanges(){}get context(){return null}}class _I extends Ip{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=ii(a);return new Yi(u,this.ngModule)}}function K0(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class Yi extends hI{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function kx(o){return o.map(Mx).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return K0(this.componentDef.inputs)}get outputs(){return K0(this.componentDef.outputs)}create(a,u,h,p){const m=(p=p||this.ngModule)?function $M(o,a){return{get:(u,h,p)=>{const m=o.get(u,w_,p);return m!==w_||h===w_?m:a.get(u,h,p)}}}(a,p.injector):a,b=m.get(W0,ml),T=m.get(HM,null),I=b.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=h?function Vf(o,a,u){if(_n(o))return o.selectRootElement(a,u===Yt.ShadowDom);let h="string"==typeof a?o.querySelector(a):a;return h.textContent="",h}(I,h,this.componentDef.encapsulation):Af(b.createRenderer(null,this.componentDef),M,function GM(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(M)),B=this.componentDef.onPush?576:528,G=function o0(o,a){return{components:[],scheduler:o||wm,clean:DC,playerHandler:a||null,flags:0}}(),ne=Lu(0,null,null,1,0,null,null,null,null,null),Ce=Nc(null,ne,G,B,null,null,b,I,T,m);let He,Ze;Yo(Ce);try{const ot=function s0(o,a,u,h,p,m){const b=u[1];u[20]=o;const I=Io(b,20,2,"#host",null),M=I.mergedAttrs=a.hostAttrs;null!==M&&($m(I,M,!0),null!==o&&(Qt(p,o,M),null!==I.classes&&tC(p,o,I.classes),null!==I.styles&&kf(p,o,I.styles)));const O=h.createRenderer(o,a),B=Nc(u,Fu(a),null,a.onPush?64:16,u[20],I,h,O,m||null,null);return b.firstCreatePass&&(vu(mo(I,u),b,a.type),jf(b,I),EC(I,u.length,1)),zm(u,B),u[20]=B}(O,this.componentDef,Ce,b,I);if(O)if(h)Qt(I,O,["ng-version",b_.full]);else{const{attrs:Re,classes:wt}=function Px(o){const a=[],u=[];let h=1,p=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===p?""!==m&&a.push(m,o[++h]):8===p&&u.push(m);else{if(!js(p))break;p=m}h++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Re&&Qt(I,O,Re),wt&&wt.length>0&&tC(I,O,wt.join(" "))}if(Ze=Rn(ne,20),void 0!==u){const Re=Ze.projection=[];for(let wt=0;wt<this.ngContentSelectors.length;wt++){const Pt=u[wt];Re.push(null!=Pt?Array.from(Pt):null)}}He=function Kf(o,a,u,h,p){const m=u[1],b=function Jx(o,a,u){const h=Mn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),jm(o,h,a,Rl(o,a,1,null),u));const p=Ba(a,o,h.directiveStart,h);Li(p,a);const m=wi(h,a);return m&&Li(m,a),p}(m,u,a);if(h.components.push(b),o[8]=b,p&&p.forEach(I=>I(b,a)),a.contentQueries){const I=Mn();a.contentQueries(1,b,I.directiveStart)}const T=Mn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Qo(T.index),Xx(u[1],T,0,T.directiveStart,T.directiveEnd,a),vC(a,b)),b}(ot,this.componentDef,Ce,G,[v1]),Uf(ne,Ce,null)}finally{lr()}return new Y0(this.componentType,He,fh(Ze,Ce),Ce,Ze)}}class Y0 extends class FM{}{constructor(a,u,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new zM(p),this.componentType=a}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class va{}class yI{}const ph=new Map;class Bu extends va{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new _I(this);const h=ri(a);this._bootstrapComponents=v(h.bootstrap),this._r3Injector=Zv(a,u,[{provide:va,useValue:this},{provide:Ip,useValue:this.componentFactoryResolver}],he(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=Ao.THROW_IF_NOT_FOUND,h=Tt.Default){return a===Ao||a===va||a===qv?this:this._r3Injector.get(a,u,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class I_ extends yI{constructor(a){super(),this.moduleType=a,null!==ri(a)&&function bI(o){const a=new Set;!function u(h){const p=ri(h,!0),m=p.id;null!==m&&(function vI(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${he(a)} vs ${he(a.name)}`)}(m,ph.get(m),h),ph.set(m,h));const b=v(p.imports);for(const T of b)a.has(T)||(a.add(T),u(T))}(o)}(a)}create(a){return new Bu(this.moduleType,a)}}function Ap(o,a,u,h,p){return function CI(o,a,u,h,p,m,b){const T=a+u;return Lc(o,T,p,m)?pa(o,T+2,b?h.call(b,p,m):h(p,m)):Qc(o,T+2)}(Pe(),Ni(),o,a,u,h,p)}function Qc(o,a){const u=o[a];return u===Vt?void 0:u}function II(o,a){const u=$t();let h;const p=o+20;u.firstCreatePass?(h=function $(o,a){if(a)for(let u=a.length-1;u>=0;u--){const h=a[u];if(o===h.name)return h}}(a,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const m=h.factory||(h.factory=Ri(h.type)),b=zn(sp);try{const T=ea(!1),I=m();return ea(T),function U2(o,a,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=h}(u,Pe(),p,I),I}finally{zn(b)}}function J0(o,a,u){const h=o+20,p=Pe(),m=hs(p,h);return function Gr(o,a){return o[1].data[a].pure}(p,h)?function EI(o,a,u,h,p,m){const b=a+u;return zr(o,b,p)?pa(o,b+1,m?h.call(m,p):h(p)):Qc(o,b+1)}(p,Ni(),a,m.transform,u,m):m.transform(u)}function _i(o){return a=>{setTimeout(o,void 0,a)}}const _t=class X0 extends d.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){var p,m,b;let T=a,I=u||(()=>null),M=h;if(a&&"object"==typeof a){const B=a;T=null===(p=B.next)||void 0===p?void 0:p.bind(B),I=null===(m=B.error)||void 0===m?void 0:m.bind(B),M=null===(b=B.complete)||void 0===b?void 0:b.bind(B)}this.__isAsync&&(I=_i(I),T&&(T=_i(T)),M&&(M=_i(M)));const O=super.subscribe({next:T,error:I,complete:M});return a instanceof se.w0&&a.add(O),O}};function gh(){return this._results[Qf()]()}class $s{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Qf(),h=$s.prototype;h[u]||(h[u]=gh)}get changes(){return this._changes||(this._changes=new _t)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const p=Zi(a);(this._changesDetected=!function Xg(o,a,u){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let p=o[h],m=a[h];if(u&&(p=u(p),m=u(m)),m!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ct=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ti,o})();const Ul=Ct,Bi=class extends Ul{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a){const u=this._declarationTContainer.tViews,h=Nc(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(u)),Uf(u,h,a),new Sp(h)}};function Ti(){return D_(Mn(),Pe())}function D_(o,a){return 4&o.type?new Bi(a,o,fh(o,a)):null}let S_=(()=>{class o{}return o.__NG_ELEMENT_ID__=DI,o})();function DI(){return tb(Mn(),Pe())}const SI=S_,AI=class extends SI{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return fh(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){const a=On(this._hostTNode,this._hostLView);if(Br(a)){const u=Xn(a,this._hostLView),h=Tn(a);return new ms(u[1].data[h+8],u)}return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=eb(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,h){const p=a.createEmbeddedView(u||{});return this.insert(p,h),p}createComponent(a,u,h,p,m){const b=a&&!function Du(o){return"function"==typeof o}(a);let T;if(b)T=u;else{const B=u||{};T=B.index,h=B.injector,p=B.projectableNodes,m=B.ngModuleRef}const I=b?a:new Yi(ii(a)),M=h||this.parentInjector;if(!m&&null==I.ngModule){const G=(b?M:this.parentInjector).get(va,null);G&&(m=G)}const O=I.create(M,p,void 0,m);return this.insert(O.hostView,T),O}insert(a,u){const h=a._lView,p=h[1];if(function yl(o){return as(o[3])}(h)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const B=h[3],G=new AI(B,B[6],B[3]);G.detach(G.indexOf(a))}}const m=this._adjustIndex(u),b=this._lContainer;!function WE(o,a,u,h){const p=10+h,m=u.length;h>0&&(u[p-1][4]=a),h<m-10?(a[4]=u[p],Su(u,10+h,a)):(u.push(a),a[4]=null),a[3]=u;const b=a[17];null!==b&&u!==b&&function ZE(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(b,a);const T=a[19];null!==T&&T.insertView(o),a[2]|=128}(p,h,b,m);const T=ca(m,b),I=h[11],M=Oc(I,b[7]);return null!==M&&function yv(o,a,u,h,p,m){h[0]=p,h[6]=a,Dm(o,h,u,1,p,m)}(p,b[6],I,h,M,T),a.attachToViewContainerRef(),Su(A_(b),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=eb(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=bv(this._lContainer,u);h&&(Ha(A_(this._lContainer),u),KE(h[1],h))}detach(a){const u=this._adjustIndex(a,-1),h=bv(this._lContainer,u);return h&&null!=Ha(A_(this._lContainer),u)?new Sp(h):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function eb(o){return o[8]}function A_(o){return o[8]||(o[8]=[])}function tb(o,a){let u;const h=a[o.index];if(as(h))u=h;else{let p;if(8&o.type)p=cn(h);else{const m=a[11];p=m.createComment("");const b=wi(o,a);Zd(m,Oc(m,b),p,function QE(o,a){return _n(o)?o.nextSibling(a):a.nextSibling}(m,b),!1)}a[o.index]=u=Hf(h,a,p,o),zm(a,u)}return new AI(u,o,a)}class nb{constructor(a){this.queryList=a,this.matches=null}clone(){return new nb(this.queryList)}setDirty(){this.queryList.setDirty()}}class ib{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,p=[];for(let m=0;m<h;m++){const b=u.getByIndex(m);p.push(this.queries[b.indexInDeclarationView].clone())}return new ib(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==FI(a,u).matches&&this.queries[u].setDirty()}}class xI{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class rb{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(a,p);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new rb(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class xp{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new xp(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(a,u,ok(u,m)),this.matchTNodeWithReadOption(a,u,kn(u,a,m,!1,!1))}else h===Ct?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,kn(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Dp||p===S_||p===Ct&&4&u.type)this.addMatch(u.index,-2);else{const m=kn(u,a,p,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function ok(o,a){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function lk(o,a,u,h){return-1===u?function ak(o,a){return 11&o.type?fh(o,a):4&o.type?D_(o,a):null}(a,o):-2===u?function uk(o,a,u){return u===Dp?fh(a,o):u===Ct?D_(a,o):u===S_?tb(a,o):void 0}(o,a,h):Ba(o,o[1],u,a)}function MI(o,a,u,h){const p=a[19].queries[h];if(null===p.matches){const m=o.data,b=u.matches,T=[];for(let I=0;I<b.length;I+=2){const M=b[I];T.push(M<0?null:lk(a,m[M],b[I+1],u.metadata.read))}p.matches=T}return p.matches}function x_(o,a,u,h){const p=o.queries.getByIndex(u),m=p.matches;if(null!==m){const b=MI(o,a,p,u);for(let T=0;T<m.length;T+=2){const I=m[T];if(I>0)h.push(b[T/2]);else{const M=m[T+1],O=a[-I];for(let B=10;B<O.length;B++){const G=O[B];G[17]===G[3]&&x_(G[1],G,M,h)}if(null!==O[9]){const B=O[9];for(let G=0;G<B.length;G++){const ne=B[G];x_(ne[1],ne,M,h)}}}}}return h}function sb(o){const a=Pe(),u=$t(),h=pu();Dd(h+1);const p=FI(u,h);if(o.dirty&&Wo(a)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const m=p.crossesNgTemplate?x_(u,a,h,[]):MI(u,a,p,h);o.reset(m,VM),o.notifyOnChanges()}return!0}return!1}function kI(o,a,u){const h=$t();h.firstCreatePass&&(NI(h,new xI(o,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),OI(h,Pe(),a)}function PI(o,a,u,h){const p=$t();if(p.firstCreatePass){const m=Mn();NI(p,new xI(a,u,h),m.index),function dk(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(p,o),2==(2&u)&&(p.staticContentQueries=!0)}OI(p,Pe(),u)}function RI(){return function ck(o,a){return o[19].queries[a].queryList}(Pe(),pu())}function OI(o,a,u){const h=new $s(4==(4&u));Bf(o,a,h,h.destroy),null===a[19]&&(a[19]=new ib),a[19].queries.push(new nb(h))}function NI(o,a,u){null===o.queries&&(o.queries=new rb),o.queries.track(new xp(a,u))}function FI(o,a){return o.queries.getByIndex(a)}function LI(o,a){return D_(o,a)}function O_(...o){}const tD=new qn("Application Initializer");let cb=(()=>{class o{constructor(u){this.appInits=u,this.resolve=O_,this.reject=O_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(y0(m))u.push(m);else if(tT(m)){const b=new Promise((T,I)=>{m.subscribe({complete:T,error:I})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(ut(tD,8))},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const nD=new qn("AppId",{providedIn:"root",factory:function iD(){return`${db()}${db()}${db()}`}});function db(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rD=new qn("Platform Initializer"),sD=new qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oD=new qn("appBootstrapListener");let Ck=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const N_=new qn("LocaleId",{providedIn:"root",factory:()=>tn(N_,Tt.Optional|Tt.SkipSelf)||function Tk(){return"undefined"!=typeof $localize&&$localize.locale||mp}()}),Ik=new qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Dk{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let lD=(()=>{class o{compileModuleSync(u){return new I_(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=v(ri(u).declarations).reduce((b,T)=>{const I=ii(T);return I&&b.push(new Yi(I)),b},[]);return new Dk(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ak=(()=>Promise.resolve(0))();function hb(o){"undefined"==typeof Zone?Ak.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Po{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _t(!1),this.onMicrotaskEmpty=new _t(!1),this.onStable=new _t(!1),this.onError=new _t(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function uD(){let o=Wt.requestAnimationFrame,a=Wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function In(o){const a=()=>{!function xk(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Wt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,F_(o),o.isCheckStableRunning=!0,fb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),F_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,m,b,T)=>{try{return L_(o),u.invokeTask(p,m,b,T)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),cD(o)}},onInvoke:(u,h,p,m,b,T,I)=>{try{return L_(o),u.invoke(p,m,b,T,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),cD(o)}},onHasTask:(u,h,p,m)=>{u.hasTask(p,m),h===p&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,F_(o),fb(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,p,m)=>(u.handleError(p,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Po.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Po.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,p){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+p,a,zu,O_,O_);try{return m.runTask(b,u,h)}finally{m.cancelTask(b)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const zu={};function fb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function F_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function L_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function cD(o){o._nesting--,fb(o)}class Sr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _t,this.onMicrotaskEmpty=new _t,this.onStable=new _t,this.onError=new _t}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,p){return a.apply(u,h)}}let vh=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Po.assertNotInAngularZone(),hb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hb(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,p){return[]}}return o.\u0275fac=function(u){return new(u||o)(ut(Po))},o.\u0275prov=on({token:o,factory:o.\u0275fac}),o})(),Mk=(()=>{class o{constructor(){this._applications=new Map,Pp.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Pp.findTestabilityInTree(this,u,h)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class kp{addToWindow(a){}findTestabilityInTree(a,u,h){return null}}function Pn(o){Pp=o}let Pp=new kp,Vl=null;const pb=new qn("AllowMultipleToken"),gb=new qn("PlatformOnDestroy");class dD{constructor(a,u){this.name=a,this.token=u}}function U_(o,a,u=[]){const h=`Platform: ${a}`,p=new qn(h);return(m=[])=>{let b=B_();if(!b||b.injector.get(pb,!1)){const T=[...u,...m,{provide:p,useValue:!0}];o?o(T):function Rp(o){if(Vl&&!Vl.get(pb,!1))throw new Ve(400,"");Vl=o;const a=o.get(hD),u=o.get(rD,null);u&&u.forEach(h=>h())}(function V_(o=[],a){return Ao.create({name:a,providers:[{provide:Wv,useValue:"platform"},{provide:gb,useValue:()=>Vl=null},...o]})}(T,h))}return function Op(o){const a=B_();if(!a)throw new Ve(401,"");return a}()}}function B_(){var o;return null!==(o=null==Vl?void 0:Vl.get(hD))&&void 0!==o?o:null}let hD=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const T=function Rk(o,a){let u;return u="noop"===o?new Sr:("zone.js"===o?void 0:o)||new Po({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),I=[{provide:Po,useValue:T}];return T.run(()=>{const M=Ao.create({providers:I,parent:this.injector,name:u.moduleType.name}),O=u.create(M),B=O.injector.get(Ya,null);if(!B)throw new Ve(402,"");return T.runOutsideAngular(()=>{const G=T.onError.subscribe({next:ne=>{B.handleError(ne)}});O.onDestroy(()=>{Np(this._modules,O),G.unsubscribe()})}),function Xc(o,a,u){try{const h=u();return y0(h)?h.catch(p=>{throw a.runOutsideAngular(()=>o.handleError(p)),p}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(B,T,()=>{const G=O.injector.get(cb);return G.runInitializers(),G.donePromise.then(()=>(function O0(o){zt(o,"Expected localeId to be defined"),"string"==typeof o&&(d_=o.toLowerCase().replace(/_/g,"-"))}(O.injector.get(N_,mp)||mp),this._moduleDoBootstrap(O),O))})})}bootstrapModule(u,h=[]){const p=fD({},h);return function mb(o,a,u){const h=new I_(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(u){const h=u.injector.get(_b);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Ve(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,"");this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(gb,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(ut(Ao))},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function fD(o,a){return Array.isArray(a)?a.reduce(fD,o):Object.assign(Object.assign({},o),a)}let _b=(()=>{class o{constructor(u,h,p,m){this._zone=u,this._injector=h,this._exceptionHandler=p,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new V.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),T=new V.y(I=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Po.assertNotInAngularZone(),hb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Po.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{M.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ge.T)(b,T.pipe((0,ue.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Ve(405,"");let p;p=u instanceof hI?u:this._injector.get(Ip).resolveComponentFactory(u),this.componentTypes.push(p.componentType);const m=function Pk(o){return o.isBoundToModule}(p)?void 0:this._injector.get(va),T=p.create(Ao.NULL,[],h||p.selector,m),I=T.location.nativeElement,M=T.injector.get(vh,null),O=M&&T.injector.get(Mk);return M&&O&&O.registerApplication(I,M),T.onDestroy(()=>{this.detachView(T.hostView),Np(this.components,T),O&&O.unregisterApplication(I)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ve(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Np(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(oD,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(ut(Po),ut(Ao),ut(Ya),ut(cb))},o.\u0275prov=on({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Np(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let gD=!0,mD=!1;function j_(){return mD=!0,gD}function Nk(){if(mD)throw new Error("Cannot enable prod mode after platform setup.");gD=!1}let Gu=(()=>{class o{}return o.__NG_ELEMENT_ID__=yD,o})();function yD(o){return function Lk(o,a,u){if(pd(o)&&!u){const h=Ei(o.index,a);return new Sp(h,h)}return 47&o.type?new Sp(a[16],a):null}(Mn(),Pe(),16==(16&o))}class CD{constructor(){}supports(a){return Zm(a)}create(a){return new bb(a)}}const jk=(o,a)=>a;class bb{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||jk}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,p=0,m=null;for(;u||h;){const b=!h||u&&u.currentIndex<ID(h,p,m)?u:h,T=ID(b,p,m),I=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)p++;else{m||(m=[]);const M=T-p,O=I-p;if(M!=O){for(let G=0;G<M;G++){const ne=G<m.length?m[G]:m[G]=0,Ce=ne+G;O<=Ce&&Ce<M&&(m[G]=ne+1)}m[b.previousIndex]=O-M}}T!==I&&a(b,T,I)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Zm(a))throw new Ve(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,m,b,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let T=0;T<this.length;T++)m=a[T],b=this._trackByFn(T,m),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,m,b,T)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,b,T),h=!0),u=u._next}else p=0,function F2(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Qf()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,T=>{b=this._trackByFn(p,T),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,T,b,p)),Object.is(u.item,T)||this._addIdentityChange(u,T)):(u=this._mismatch(u,T,b,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,p){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,p)):a=this._addAfter(new Hk(u,h),m,p),a}_verifyReinsertion(a,u,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,m=a._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const p=null===u?this._itHead:u._next;return a._next=p,a._prev=u,null===p?this._itTail=a:p._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new TD),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TD),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Hk{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zk{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class TD{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new zk,this.map.set(u,h)),h.add(a)}get(a,u){const p=this.map.get(a);return p?p.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ID(o,a,u){const h=o.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+a+p}class DD{constructor(){}supports(a){return a instanceof Map||GC(a)}create(){return new Gk}}class Gk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||GC(a)))throw new Ve(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,u);const m=p._prev,b=p._next;return m&&(m._next=b),b&&(b._prev=m),p._next=null,p._prev=null,p}const h=new $k(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class $k{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SD(){return new AD([new CD])}let AD=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||SD()),deps:[[o,new Za,new Tr]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new Ve(901,"")}}return o.\u0275prov=on({token:o,providedIn:"root",factory:SD}),o})();function xD(){return new bs([new DD])}let bs=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||xD()),deps:[[o,new Za,new Tr]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(h)return h;throw new Ve(901,"")}}return o.\u0275prov=on({token:o,providedIn:"root",factory:xD}),o})();const G_=U_(null,"core",[]);let Zk=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(ut(_b))},o.\u0275mod=$i({type:o}),o.\u0275inj=en({}),o})()},3942:(nt,Te,U)=>{U.d(Te,{Z:()=>Ve});var d=U(2090),se=U(4859),V=U(9681),ge=U(1877);class ue{constructor(ye,Ae){this._delegate=ye,this.firebase=Ae,(0,V._addComponent)(ye,new se.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(ye,Ae=V._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(ye);return!et.isInitialized()&&"EXPLICIT"===(null===(Ye=et.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&et.initialize(),et.getImmediate({identifier:Ae})}_removeServiceInstance(ye,Ae=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Ae)}_addComponent(ye){(0,V._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,V._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function me(){const $e=function he($e){const ye={},Ae={__esModule:!0,initializeApp:function ke(We,W={}){const De=V.initializeApp(We,W);if((0,d.r3)(ye,De.name))return ye[De.name];const ee=new $e(De,Ae);return ye[De.name]=ee,ee},app:et,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Se(We){const W=We.name,De=W.replace("-compat","");if(V._registerComponent(We)&&"PUBLIC"===We.type){const ee=(ce=et())=>{if("function"!=typeof ce[De])throw le.create("invalid-app-argument",{appName:W});return ce[De]()};void 0!==We.serviceProps&&(0,d.ZB)(ee,We.serviceProps),Ae[De]=ee,$e.prototype[De]=function(...ce){return this._getService.bind(this,W).apply(this,We.multipleInstances?ce:[])}}return"PUBLIC"===We.type?Ae[De]:null},removeApp:function Ye(We){delete ye[We]},useAsService:function qe(We,W){return"serverAuth"===W?null:W},modularAPIs:V}};function et(We){if(!(0,d.r3)(ye,We=We||V._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:We});return ye[We]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function Ie(){return Object.keys(ye).map(We=>ye[We])}}),et.App=$e,Ae}(ue);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ye(Ae){(0,d.ZB)($e,Ae)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),$e}(),q=new ge.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=K;!function Oe($e){(0,V.registerVersion)("@firebase/app-compat","0.1.25",$e)}()},9681:(nt,Te,U)=>{U.r(Te),U.d(Te,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>is,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>gn,_addOrOverwriteComponent:()=>on,_apps:()=>hn,_clearComponents:()=>ns,_components:()=>Hn,_getProvider:()=>en,_registerComponent:()=>zi,_removeServiceInstance:()=>Gt,deleteApp:()=>Tt,getApp:()=>nr,getApps:()=>rs,initializeApp:()=>so,onLog:()=>zn,registerVersion:()=>Ln,setLogLevel:()=>oo});var d=U(5861),se=U(4859),V=U(1877),ge=U(2090),ue=U(8766);class we{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function le(Y){const re=Y.getComponent();return"VERSION"===(null==re?void 0:re.type)}(Fe)){const it=Fe.getImmediate();return`${it.library}/${it.version}`}return null}).filter(Fe=>Fe).join(" ")}}const he="@firebase/app",K=new V.Yd("@firebase/app"),zt="[DEFAULT]",Xe={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,Hn=new Map;function gn(Y,re){try{Y.container.addComponent(re)}catch(Fe){K.debug(`Component ${re.name} failed to register with FirebaseApp ${Y.name}`,Fe)}}function on(Y,re){Y.container.addOrOverwriteComponent(re)}function zi(Y){const re=Y.name;if(Hn.has(re))return K.debug(`There were multiple attempts to register component ${re}.`),!1;Hn.set(re,Y);for(const Fe of hn.values())gn(Fe,Y);return!0}function en(Y,re){const Fe=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),Y.container.getProvider(re)}function Gt(Y,re,Fe=zt){en(Y,re).clearInstance(Fe)}function ns(){Hn.clear()}const Ai=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Gi{constructor(re,Fe,it){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=it,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}const is="9.8.1";function so(Y,re={}){"object"!=typeof re&&(re={name:re});const Fe=Object.assign({name:zt,automaticDataCollectionEnabled:!1},re),it=Fe.name;if("string"!=typeof it||!it)throw Ai.create("bad-app-name",{appName:String(it)});const Et=hn.get(it);if(Et){if((0,ge.vZ)(Y,Et.options)&&(0,ge.vZ)(Fe,Et.config))return Et;throw Ai.create("duplicate-app",{appName:it})}const kt=new se.H0(it);for(const xt of Hn.values())kt.addComponent(xt);const En=new Gi(Y,Fe,kt);return hn.set(it,En),En}function nr(Y=zt){const re=hn.get(Y);if(!re)throw Ai.create("no-app",{appName:Y});return re}function rs(){return Array.from(hn.values())}function Tt(Y){return yr.apply(this,arguments)}function yr(){return(yr=(0,d.Z)(function*(Y){const re=Y.name;hn.has(re)&&(hn.delete(re),yield Promise.all(Y.container.getProviders().map(Fe=>Fe.delete())),Y.isDeleted=!0)})).apply(this,arguments)}function Ln(Y,re,Fe){var it;let Et=null!==(it=Xe[Y])&&void 0!==it?it:Y;Fe&&(Et+=`-${Fe}`);const kt=Et.match(/\s|\//),En=re.match(/\s|\//);if(kt||En){const xt=[`Unable to register library "${Et}" with version "${re}":`];return kt&&xt.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),kt&&En&&xt.push("and"),En&&xt.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void K.warn(xt.join(" "))}zi(new se.wA(`${Et}-version`,()=>({library:Et,version:re}),"VERSION"))}function zn(Y,re){if(null!==Y&&"function"!=typeof Y)throw Ai.create("invalid-log-argument");(0,V.Am)(Y,re)}function oo(Y){(0,V.Ub)(Y)}const Gn="firebase-heartbeat-store";let vr=null;function Vo(){return vr||(vr=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(Y,re)=>{0===re&&Y.createObjectStore(Gn)}}).catch(Y=>{throw Ai.create("storage-open",{originalErrorMessage:Y.message})})),vr}function ht(){return(ht=(0,d.Z)(function*(Y){try{return(yield Vo()).transaction(Gn).objectStore(Gn).get(br(Y))}catch(re){throw Ai.create("storage-get",{originalErrorMessage:re.message})}})).apply(this,arguments)}function St(Y,re){return xi.apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(Y,re){try{const it=(yield Vo()).transaction(Gn,"readwrite");return yield it.objectStore(Gn).put(re,br(Y)),it.done}catch(Fe){throw Ai.create("storage-set",{originalErrorMessage:Fe.message})}})).apply(this,arguments)}function br(Y){return`${Y.name}!${Y.options.appId}`}class Mi{constructor(re){this.container=re,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new J(Fe),this._heartbeatsCachePromise=this._storage.read().then(it=>(this._heartbeatsCache=it,it))}triggerHeartbeat(){var re=this;return(0,d.Z)(function*(){const it=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=ki();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Et&&!re._heartbeatsCache.heartbeats.some(kt=>kt.date===Et))return re._heartbeatsCache.heartbeats.push({date:Et,agent:it}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(kt=>{const En=new Date(kt.date).valueOf();return Date.now()-En<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,d.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Fe=ki(),{heartbeatsToSend:it,unsentEntries:Et}=function z(Y,re=1024){const Fe=[];let it=Y.slice();for(const Et of Y){const kt=Fe.find(En=>En.agent===Et.agent);if(kt){if(kt.dates.push(Et.date),X(Fe)>re){kt.dates.pop();break}}else if(Fe.push({agent:Et.agent,dates:[Et.date]}),X(Fe)>re){Fe.pop();break}it=it.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:it}}(re._heartbeatsCache.heartbeats),kt=(0,ge.L)(JSON.stringify({version:2,heartbeats:it}));return re._heartbeatsCache.lastSentHeartbeatDate=Fe,Et.length>0?(re._heartbeatsCache.heartbeats=Et,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),kt})()}}function ki(){return(new Date).toISOString().substring(0,10)}class J{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,d.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function Yt(Y){return ht.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Fe=this;return(0,d.Z)(function*(){var it;if(yield Fe._canUseIndexedDBPromise){const kt=yield Fe.read();return St(Fe.app,{lastSentHeartbeatDate:null!==(it=re.lastSentHeartbeatDate)&&void 0!==it?it:kt.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Fe=this;return(0,d.Z)(function*(){var it;if(yield Fe._canUseIndexedDBPromise){const kt=yield Fe.read();return St(Fe.app,{lastSentHeartbeatDate:null!==(it=re.lastSentHeartbeatDate)&&void 0!==it?it:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...re.heartbeats]})}})()}}function X(Y){return(0,ge.L)(JSON.stringify({version:2,heartbeats:Y})).length}!function xe(Y){zi(new se.wA("platform-logger",re=>new we(re),"PRIVATE")),zi(new se.wA("heartbeat",re=>new Mi(re),"PRIVATE")),Ln(he,"0.7.24",Y),Ln(he,"0.7.24","esm2017"),Ln("fire-js","")}("")},4859:(nt,Te,U)=>{U.d(Te,{H0:()=>he,wA:()=>V,zt:()=>ue});var d=U(5861),se=U(2090);class V{constructor(K,q,ae){this.name=K,this.instanceFactory=q,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const ge="[DEFAULT]";class ue{constructor(K,q){this.name=K,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const q=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(q)){const ae=new se.BH;if(this.instancesDeferred.set(q,ae),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:q});Ke&&ae.resolve(Ke)}catch(Ke){}}return this.instancesDeferred.get(q).promise}getImmediate(K){var q;const ae=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),Ke=null!==(q=null==K?void 0:K.optional)&&void 0!==q&&q;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(Oe){if(Ke)return null;throw Oe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function le(me){return"EAGER"===me.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:ge})}catch(q){}for(const[q,ae]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(q);try{const Oe=this.getOrInitializeService({instanceIdentifier:Ke});ae.resolve(Oe)}catch(Oe){}}}}clearInstance(K=ge){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,d.Z)(function*(){const q=Array.from(K.instances.values());yield Promise.all([...q.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...q.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=ge){return this.instances.has(K)}getOptions(K=ge){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:q={}}=K,ae=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:ae,options:q});for(const[Oe,Ve]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(Oe)&&Ve.resolve(Ke);return Ke}onInit(K,q){var ae;const Ke=this.normalizeInstanceIdentifier(q),Oe=null!==(ae=this.onInitCallbacks.get(Ke))&&void 0!==ae?ae:new Set;Oe.add(K),this.onInitCallbacks.set(Ke,Oe);const Ve=this.instances.get(Ke);return Ve&&K(Ve,Ke),()=>{Oe.delete(K)}}invokeOnInitCallbacks(K,q){const ae=this.onInitCallbacks.get(q);if(ae)for(const Ke of ae)try{Ke(K,q)}catch(Oe){}}getOrInitializeService({instanceIdentifier:K,options:q={}}){let ae=this.instances.get(K);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(me=K,me===ge?void 0:me),options:q}),this.instances.set(K,ae),this.instancesOptions.set(K,q),this.invokeOnInitCallbacks(ae,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ae)}catch(Ke){}var me;return ae||null}normalizeInstanceIdentifier(K=ge){return this.component?this.component.multipleInstances?K:ge:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const q=this.getProvider(K.name);if(q.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);q.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const q=new ue(K,this);return this.providers.set(K,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,Te,U)=>{U.d(Te,{Am:()=>me,Ub:()=>he,Yd:()=>le,in:()=>se});const d=[];var se=(()=>{return(K=se||(se={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",se;var K})();const V={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},ge=se.INFO,ue={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},we=(K,q,...ae)=>{if(q<K.logLevel)return;const Ke=(new Date).toISOString(),Oe=ue[q];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Oe](`[${Ke}]  ${K.name}:`,...ae)};class le{constructor(q){this.name=q,this._logLevel=ge,this._logHandler=we,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in se))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?V[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...q),this._logHandler(this,se.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...q),this._logHandler(this,se.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,se.INFO,...q),this._logHandler(this,se.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,se.WARN,...q),this._logHandler(this,se.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...q),this._logHandler(this,se.ERROR,...q)}}function he(K){d.forEach(q=>{q.setLogLevel(K)})}function me(K,q){for(const ae of d){let Ke=null;q&&q.level&&(Ke=V[q.level]),ae.userLogHandler=null===K?null:(Oe,Ve,...$e)=>{const ye=$e.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch(Ye){return null}}).filter(Ae=>Ae).join(" ");Ve>=(null!=Ke?Ke:Oe.logLevel)&&K({level:se[Ve].toLowerCase(),message:ye,args:$e,type:Oe.name})}}}},8766:(nt,Te,U)=>{U.d(Te,{Lj:()=>ke,X3:()=>et});var d=U(5861);let V,ge;const le=new WeakMap,he=new WeakMap,me=new WeakMap,K=new WeakMap,q=new WeakMap;let Oe={get(W,De,ee){if(W instanceof IDBTransaction){if("done"===De)return he.get(W);if("objectStoreNames"===De)return W.objectStoreNames||me.get(W);if("store"===De)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Ae(W[De])},set:(W,De,ee)=>(W[De]=ee,!0),has:(W,De)=>W instanceof IDBTransaction&&("done"===De||"store"===De)||De in W};function ye(W){return"function"==typeof W?function $e(W){return W!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(W)?function(...De){return W.apply(Ye(this),De),Ae(le.get(this))}:function(...De){return Ae(W.apply(Ye(this),De))}:function(De,...ee){const ce=W.call(Ye(this),De,...ee);return me.set(ce,De.sort?De.sort():[De]),Ae(ce)}}(W):(W instanceof IDBTransaction&&function Ke(W){if(he.has(W))return;const De=new Promise((ee,ce)=>{const oe=()=>{W.removeEventListener("complete",Ee),W.removeEventListener("error",fe),W.removeEventListener("abort",fe)},Ee=()=>{ee(),oe()},fe=()=>{ce(W.error||new DOMException("AbortError","AbortError")),oe()};W.addEventListener("complete",Ee),W.addEventListener("error",fe),W.addEventListener("abort",fe)});he.set(W,De)}(W),((W,De)=>De.some(ee=>W instanceof ee))(W,function ue(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(W,Oe):W)}function Ae(W){if(W instanceof IDBRequest)return function ae(W){const De=new Promise((ee,ce)=>{const oe=()=>{W.removeEventListener("success",Ee),W.removeEventListener("error",fe)},Ee=()=>{ee(Ae(W.result)),oe()},fe=()=>{ce(W.error),oe()};W.addEventListener("success",Ee),W.addEventListener("error",fe)});return De.then(ee=>{ee instanceof IDBCursor&&le.set(ee,W)}).catch(()=>{}),q.set(De,W),De}(W);if(K.has(W))return K.get(W);const De=ye(W);return De!==W&&(K.set(W,De),q.set(De,W)),De}const Ye=W=>q.get(W);function et(W,De,{blocked:ee,upgrade:ce,blocking:oe,terminated:Ee}={}){const fe=indexedDB.open(W,De),je=Ae(fe);return ce&&fe.addEventListener("upgradeneeded",yt=>{ce(Ae(fe.result),yt.oldVersion,yt.newVersion,Ae(fe.transaction))}),ee&&fe.addEventListener("blocked",()=>ee()),je.then(yt=>{Ee&&yt.addEventListener("close",()=>Ee()),oe&&yt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),je}function ke(W,{blocked:De}={}){const ee=indexedDB.deleteDatabase(W);return De&&ee.addEventListener("blocked",()=>De()),Ae(ee).then(()=>{})}const Ie=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],qe=new Map;function We(W,De){if(!(W instanceof IDBDatabase)||De in W||"string"!=typeof De)return;if(qe.get(De))return qe.get(De);const ee=De.replace(/FromIndex$/,""),ce=De!==ee,oe=Se.includes(ee);if(!(ee in(ce?IDBIndex:IDBObjectStore).prototype)||!oe&&!Ie.includes(ee))return;const Ee=function(){var fe=(0,d.Z)(function*(je,...yt){const Kt=this.transaction(je,oe?"readwrite":"readonly");let zt=Kt.store;return ce&&(zt=zt.index(yt.shift())),(yield Promise.all([zt[ee](...yt),oe&&Kt.done]))[0]});return function(yt){return fe.apply(this,arguments)}}();return qe.set(De,Ee),Ee}!function Ve(W){Oe=W(Oe)}(W=>C8(E8({},W),{get:(De,ee,ce)=>We(De,ee)||W.get(De,ee,ce),has:(De,ee)=>!!We(De,ee)||W.has(De,ee)}))},5861:(nt,Te,U)=>{function d(V,ge,ue,we,le,he,me){try{var K=V[he](me),q=K.value}catch(ae){return void ue(ae)}K.done?ge(q):Promise.resolve(q).then(we,le)}function se(V){return function(){var ge=this,ue=arguments;return new Promise(function(we,le){var he=V.apply(ge,ue);function me(q){d(he,we,le,me,K,"next",q)}function K(q){d(he,we,le,me,K,"throw",q)}me(void 0)})}}U.d(Te,{Z:()=>se})}},nt=>{nt(nt.s=953)}]);